"use strict";(self.webpackChunkangular_tour_of_heroes_luginbuv=self.webpackChunkangular_tour_of_heroes_luginbuv||[]).push([[179],{870:()=>{function Ne(t){return"function"==typeof t}function fu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Dh=fu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function da(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class An{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(o){e=o instanceof Dh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Nx(o)}catch(s){e=e??[],s instanceof Dh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Dh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Nx(e);else{if(e instanceof An){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&da(n,e)}remove(e){const{_finalizers:n}=this;n&&da(n,e),e instanceof An&&e._removeParent(this)}}An.EMPTY=(()=>{const t=new An;return t.closed=!0,t})();const Mx=An.EMPTY;function kx(t){return t instanceof An||t&&"closed"in t&&Ne(t.remove)&&Ne(t.add)&&Ne(t.unsubscribe)}function Nx(t){Ne(t)?t():t.unsubscribe()}const Yo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Th={setTimeout(t,e,...n){const{delegate:r}=Th;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Th;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rx(t){Th.setTimeout(()=>{const{onUnhandledError:e}=Yo;if(!e)throw t;e(t)})}function M_(){}const BG=k_("C",void 0,void 0);function k_(t,e,n){return{kind:t,value:e,error:n}}let Zo=null;function Ch(t){if(Yo.useDeprecatedSynchronousErrorHandling){const e=!Zo;if(e&&(Zo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Zo;if(Zo=null,n)throw r}}else t()}class N_ extends An{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kx(e)&&e.add(this)):this.destination=qG}static create(e,n,r){return new pu(e,n,r)}next(e){this.isStopped?O_(function jG(t){return k_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?O_(function UG(t){return k_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O_(BG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const HG=Function.prototype.bind;function R_(t,e){return HG.call(t,e)}class zG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sh(r)}else Sh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sh(n)}}}class pu extends N_{constructor(e,n,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Yo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&R_(e.next,o),error:e.error&&R_(e.error,o),complete:e.complete&&R_(e.complete,o)}):i=e}this.destination=new zG(i)}}function Sh(t){Yo.useDeprecatedSynchronousErrorHandling?function $G(t){Yo.useDeprecatedSynchronousErrorHandling&&Zo&&(Zo.errorThrown=!0,Zo.error=t)}(t):Rx(t)}function O_(t,e){const{onStoppedNotification:n}=Yo;n&&Th.setTimeout(()=>n(t,e))}const qG={closed:!0,next:M_,error:function GG(t){throw t},complete:M_},P_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(t){return t}function Ox(t){return 0===t.length?Ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function QG(t){return t&&t instanceof N_||function KG(t){return t&&Ne(t.next)&&Ne(t.error)&&Ne(t.complete)}(t)&&kx(t)}(n)?n:new pu(n,r,i);return Ch(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Px(r))((i,o)=>{const s=new pu({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[P_](){return this}pipe(...n){return Ox(n)(this)}toPromise(n){return new(n=Px(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Px(t){var e;return null!==(e=t??Yo.Promise)&&void 0!==e?e:Promise}const YG=fu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rr=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Fx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new YG}next(n){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Mx:(this.currentObservers=null,o.push(n),new An(()=>{this.currentObservers=null,da(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new Fx(e,n),t})();class Fx extends rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Mx}}function Lx(t){return Ne(t?.lift)}function gt(t){return e=>{if(Lx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new ZG(t,e,n,r,i)}class ZG extends N_{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function be(t,e){return gt((n,r)=>{let i=0;n.subscribe(at(r,o=>{r.next(t.call(e,o,i++))}))})}function V_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function eo(t){return this instanceof eo?(this.v=t,this):new eo(t)}function jx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function U_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $x=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Hx(t){return Ne(t?.then)}function zx(t){return Ne(t[P_])}function Gx(t){return Symbol.asyncIterator&&Ne(t?.[Symbol.asyncIterator])}function qx(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wx=function v3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Kx(t){return Ne(t?.[Wx])}function Qx(t){return function Ux(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof eo?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield eo(n.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{n.releaseLock()}})}function Yx(t){return Ne(t?.getReader)}function $n(t){if(t instanceof qe)return t;if(null!=t){if(zx(t))return function b3(t){return new qe(e=>{const n=t[P_]();if(Ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($x(t))return function w3(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Hx(t))return function E3(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rx)})}(t);if(Gx(t))return Zx(t);if(Kx(t))return function I3(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Yx(t))return function D3(t){return Zx(Qx(t))}(t)}throw qx(t)}function Zx(t){return new qe(e=>{(function T3(t,e){var n,r,i,o;return function Vx(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jx(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Vt(t,e,n=1/0){return Ne(e)?Vt((r,i)=>be((o,s)=>e(r,o,i,s))($n(t(r,i))),n):("number"==typeof e&&(n=e),gt((r,i)=>function C3(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=m=>u<r?p(m):c.push(m),p=m=>{o&&e.next(m),u++;let g=!1;$n(n(m,l++)).subscribe(at(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){const v=c.shift();s?mi(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ha(t=1/0){return Vt(Ji,t)}const Fr=new qe(t=>t.complete());function j_(t){return t[t.length-1]}function Xx(t){return Ne(j_(t))?t.pop():void 0}function mu(t){return function A3(t){return t&&Ne(t.schedule)}(j_(t))?t.pop():void 0}function Ah(t,e=0){return gt((n,r)=>{n.subscribe(at(r,i=>mi(r,t,()=>r.next(i),e),()=>mi(r,t,()=>r.complete(),e),i=>mi(r,t,()=>r.error(i),e)))})}function xh(t,e=0){return gt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jx(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{mi(n,e,()=>{const r=t[Symbol.asyncIterator]();mi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function At(t,e){return e?function P3(t,e){if(null!=t){if(zx(t))return function M3(t,e){return $n(t).pipe(xh(e),Ah(e))}(t,e);if($x(t))return function N3(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Hx(t))return function k3(t,e){return $n(t).pipe(xh(e),Ah(e))}(t,e);if(Gx(t))return Jx(t,e);if(Kx(t))return function R3(t,e){return new qe(n=>{let r;return mi(n,e,()=>{r=t[Wx](),mi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(t,e);if(Yx(t))return function O3(t,e){return Jx(Qx(t),e)}(t,e)}throw qx(t)}(t,e):$n(t)}class ir extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function W(...t){return At(t,mu(t))}function eM(t={}){const{connector:e=(()=>new rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return gt((m,g)=>{u++,!d&&!l&&h();const v=c=c??e();g.add(()=>{u--,0===u&&!d&&!l&&(a=$_(p,i))}),v.subscribe(g),!s&&u>0&&(s=new pu({next:_=>v.next(_),error:_=>{d=!0,h(),a=$_(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=$_(f,r),v.complete()}}),$n(m).subscribe(s))})(o)}}function $_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pu({next:()=>{r.unsubscribe(),t()}});return $n(e(...n)).subscribe(r)}function Lr(t,e){return gt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(at(r,c=>{i?.unsubscribe();let u=0;const l=o++;$n(t(c,l)).subscribe(i=at(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function V3(t,e){return t===e}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Mh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function H_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const B3=Ce({__forward_ref__:Ce});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Et(this())},t}function Y(t){return z_(t)?t():t}function z_(t){return"function"==typeof t&&t.hasOwnProperty(B3)&&t.__forward_ref__===Oe}function G_(t){return t&&!!t.\u0275providers}const tM="https://g.co/ng/security#xss";class E extends Error{constructor(e,n){super(function kh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function q_(t,e){throw new E(-201,!1)}function or(t,e){null==t&&function K(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nh(t){return nM(t,Oh)||nM(t,rM)}function nM(t,e){return t.hasOwnProperty(e)?t[e]:null}function Rh(t){return t&&(t.hasOwnProperty(W_)||t.hasOwnProperty(W3))?t[W_]:null}const Oh=Ce({\u0275prov:Ce}),W_=Ce({\u0275inj:Ce}),rM=Ce({ngInjectableDef:Ce}),W3=Ce({ngInjectorDef:Ce});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let K_;function xn(t){const e=K_;return K_=t,e}function oM(t,e,n){const r=Nh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void q_(Et(t))}const Pe=globalThis,gu={},J_="__NG_DI_FLAG__",Ph="ngTempTokenPath",Y3=/\n/gm,aM="__source";let fa;function to(t){const e=fa;return fa=t,e}function J3(t,e=le.Default){if(void 0===fa)throw new E(-203,!1);return null===fa?oM(t,void 0,e):fa.get(t,e&le.Optional?null:void 0,e)}function P(t,e=le.Default){return(function iM(){return K_}()||J3)(Y(t),e)}function L(t,e=le.Default){return P(t,Fh(e))}function Fh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ey(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){const a=r[s],c=e5(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function _u(t,e){return t[J_]=e,t.prototype[J_]=e,t}function e5(t){return t[J_]}function gi(t){return{toString:t}.toString()}var Lh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lh||{}),sr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sr||{});const Vr={},we=[],Vh=Ce({\u0275cmp:Ce}),ty=Ce({\u0275dir:Ce}),ny=Ce({\u0275pipe:Ce}),uM=Ce({\u0275mod:Ce}),_i=Ce({\u0275fac:Ce}),yu=Ce({__NG_ELEMENT_ID__:Ce}),lM=Ce({__NG_ENV_ID__:Ce});function dM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ry(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];fM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function hM(t){return 3===t||4===t||6===t}function fM(t){return 64===t.charCodeAt(0)}function vu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pM(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const mM="ng-template";function r5(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==dM(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function gM(t){return 4===t.type&&t.value!==mM}function i5(t,e,n){return e===(4!==t.type||n?t.value:mM)}function o5(t,e,n){let r=4;const i=t.attrs||[],o=function c5(t){for(let e=0;e<t.length;e++)if(hM(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!i5(t,c,n)||""===c&&1===e.length){if(vr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!r5(t.attrs,u,n)){if(vr(r))return!1;s=!0}continue}const d=s5(8&r?"class":c,i,gM(t),n);if(-1===d){if(vr(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==dM(f,u,0)||2&r&&u!==h){if(vr(r))return!1;s=!0}}}}else{if(!s&&!vr(r)&&!vr(c))return!1;if(s&&vr(c))continue;s=!1,r=c|1&r}}return vr(r)||s}function vr(t){return 0==(1&t)}function s5(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function u5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _M(t,e,n=!1){for(let r=0;r<e.length;r++)if(o5(t,e[r],n))return!0;return!1}function yM(t,e){return t?":not("+e.trim()+")":e}function d5(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vr(s)&&(e+=yM(o,i),i=""),r=s,o=o||!vr(r);n++}return""!==i&&(e+=yM(o,i)),e}function Br(t){return gi(()=>{const e=bM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};wM(n);const r=t.dependencies;return n.directiveDefs=Bh(r,!1),n.pipeDefs=Bh(r,!0),n.id=function v5(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function m5(t){return pe(t)||Bt(t)}function g5(t){return null!==t}function xt(t){return gi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vM(t,e){if(null==t)return Vr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function X(t){return gi(()=>{const e=bM(t);return wM(e),e})}function pe(t){return t[Vh]||null}function Bt(t){return t[ty]||null}function hn(t){return t[ny]||null}function zn(t,e){const n=t[uM]||null;if(!n&&!0===e)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function bM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vM(t.inputs,e),outputs:vM(t.outputs)}}function wM(t){t.features?.forEach(e=>e(t))}function Bh(t,e){if(!t)return null;const n=e?hn:m5;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(g5)}const et=0,F=1,ie=2,We=3,br=4,bu=5,en=6,ma=7,ct=8,no=9,ga=10,te=11,wu=12,EM=13,_a=14,ut=15,Eu=16,ya=17,Ur=18,Iu=19,IM=20,ro=21,yi=22,Du=23,Tu=24,de=25,iy=1,DM=2,jr=7,va=9,Ut=11;function kn(t){return Array.isArray(t)&&"object"==typeof t[iy]}function fn(t){return Array.isArray(t)&&!0===t[iy]}function oy(t){return 0!=(4&t.flags)}function Jo(t){return t.componentOffset>-1}function jh(t){return 1==(1&t.flags)}function wr(t){return!!t.template}function sy(t){return 0!=(512&t[ie])}function es(t,e){return t.hasOwnProperty(_i)?t[_i]:null}let jt=null,$h=!1;function ar(t){const e=jt;return jt=t,e}const SM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xM(t){if(!Su(t)||t.dirty){if(!t.producerMustRecompute(t)&&!NM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function kM(t){t.dirty=!0,function MM(t){if(void 0===t.liveConsumerNode)return;const e=$h;$h=!0;try{for(const n of t.liveConsumerNode)n.dirty||kM(n)}finally{$h=e}}(t),t.consumerMarkedDirty?.(t)}function cy(t){return t&&(t.nextProducerIndex=0),ar(t)}function uy(t,e){if(ar(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Su(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function NM(t){ba(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xM(n),r!==n.version))return!0}return!1}function RM(t){if(ba(t),Su(t))for(let e=0;e<t.producerNode.length;e++)Hh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Hh(t,e){if(function PM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ba(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Hh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ba(i),i.producerIndexOfThis[r]=e}}function Su(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ba(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let FM=null;const UM=()=>{},N5=(()=>({...SM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:UM}))();class R5{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cr(){return jM}function jM(t){return t.type.prototype.ngOnChanges&&(t.setInput=P5),O5}function O5(){const t=HM(this),e=t?.current;if(e){const n=t.previous;if(n===Vr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function P5(t,e,n,r){const i=this.declaredInputs[n],o=HM(t)||function F5(t,e){return t[$M]=e}(t,{previous:Vr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new R5(c&&c.currentValue,e,a===Vr),t[r]=e}cr.ngInherit=!0;const $M="__ngSimpleChanges__";function HM(t){return t[$M]||null}const $r=function(t,e,n){};function Fe(t){for(;Array.isArray(t);)t=t[et];return t}function zh(t,e){return Fe(e[t])}function Nn(t,e){return Fe(e[t.index])}function qM(t,e){return t.data[e]}function Gn(t,e){const n=e[t];return kn(n)?n:n[et]}function oo(t,e){return null==e?null:t[e]}function WM(t){t[ya]=0}function $5(t){1024&t[ie]||(t[ie]|=1024,QM(t,1))}function KM(t){1024&t[ie]&&(t[ie]&=-1025,QM(t,-1))}function QM(t,e){let n=t[We];if(null===n)return;n[bu]+=e;let r=n;for(n=n[We];null!==n&&(1===e&&1===r[bu]||-1===e&&0===r[bu]);)n[bu]+=e,r=n,n=n[We]}const Q={lFrame:a1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function XM(){return Q.bindingsEnabled}function T(){return Q.lFrame.lView}function me(){return Q.lFrame.tView}function ts(t){return Q.lFrame.contextLView=t,t[ct]}function ns(t){return Q.lFrame.contextLView=null,t}function $t(){let t=JM();for(;null!==t&&64===t.type;)t=t.parent;return t}function JM(){return Q.lFrame.currentTNode}function Hr(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function py(){return Q.lFrame.isParent}function Ia(){return Q.lFrame.bindingIndex++}function bi(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function eq(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,gy(e)}function gy(t){Q.lFrame.currentDirectiveIndex=t}function yy(t){Q.lFrame.currentQueryIndex=t}function nq(t){const e=t[F];return 2===e.type?e.declTNode:1===e.type?t[en]:null}function o1(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=nq(o),null===i||(o=o[_a],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Q.lFrame=s1();return r.currentTNode=e,r.lView=t,!0}function vy(t){const e=s1(),n=t[F];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function s1(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?a1(t):e}function a1(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function c1(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const u1=c1;function by(){const t=c1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return Q.lFrame.selectedIndex}function rs(t){Q.lFrame.selectedIndex=t}function Ye(){const t=Q.lFrame;return qM(t.tView,t.selectedIndex)}let d1=!0;function Gh(){return d1}function so(t){d1=t}function qh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Wh(t,e,n){h1(t,e,3,n)}function Kh(t,e,n,r){(3&t[ie])===n&&h1(t,e,n,r)}function wy(t,e){let n=t[ie];(3&n)===e&&(n&=8191,n+=1,t[ie]=n)}function h1(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[ya]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[ya]+=65536),(a<o||-1==o)&&(lq(t,n,e,c),t[ya]=(4294901760&t[ya])+c+2),c++}function f1(t,e){$r(4,t,e);const n=ar(null);try{e.call(t)}finally{ar(n),$r(5,t,e)}}function lq(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>13<t[ya]>>16&&(3&t[ie])===e&&(t[ie]+=8192,f1(a,o)):f1(a,o)}const Da=-1;class xu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Iy(t){return t!==Da}function Mu(t){return 32767&t}function ku(t,e){let n=function pq(t){return t>>16}(t),r=e;for(;n>0;)r=r[_a],n--;return r}let Dy=!0;function Qh(t){const e=Dy;return Dy=t,e}const p1=255,m1=5;let mq=0;const zr={};function Yh(t,e){const n=g1(t,e);if(-1!==n)return n;const r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,Ty(r.data,t),Ty(e,null),Ty(r.blueprint,null));const i=Zh(t,e),o=t.injectorIndex;if(Iy(i)){const s=Mu(i),a=ku(i,e),c=a[F].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Ty(t,e){t.push(0,0,0,0,0,0,0,0,e)}function g1(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Zh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=I1(i),null===r)return Da;if(n++,i=i[_a],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Da}function Cy(t,e,n){!function gq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(yu)&&(r=n[yu]),null==r&&(r=n[yu]=mq++);const i=r&p1;e.data[t+(i>>m1)]|=1<<i}(t,e,n)}function _1(t,e,n){if(n&le.Optional||void 0!==t)return t;q_()}function y1(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[no],o=xn(void 0);try{return i?i.get(e,r,n&le.Optional):oM(e,r,n&le.Optional)}finally{xn(o)}}return _1(r,0,n)}function v1(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[ie]&&!(r&le.Self)){const s=function Eq(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ie]&&!(512&s[ie]);){const a=b1(o,s,n,r|le.Self,zr);if(a!==zr)return a;let c=o.parent;if(!c){const u=s[IM];if(u){const l=u.get(n,zr,r);if(l!==zr)return l}c=I1(s),s=s[_a]}o=c}return i}(t,e,n,r,zr);if(s!==zr)return s}const o=b1(t,e,n,r,zr);if(o!==zr)return o}return y1(e,n,r,i)}function b1(t,e,n,r,i){const o=function vq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(yu)?t[yu]:void 0;return"number"==typeof e?e>=0?e&p1:wq:e}(n);if("function"==typeof o){if(!o1(e,t,r))return r&le.Host?_1(i,0,r):y1(e,n,r,i);try{let s;if(s=o(r),null!=s||r&le.Optional)return s;q_()}finally{u1()}}else if("number"==typeof o){let s=null,a=g1(t,e),c=Da,u=r&le.Host?e[ut][en]:null;for((-1===a||r&le.SkipSelf)&&(c=-1===a?Zh(t,e):e[a+8],c!==Da&&E1(r,!1)?(s=e[F],a=Mu(c),e=ku(c,e)):a=-1);-1!==a;){const l=e[F];if(w1(o,a,l.data)){const d=yq(a,e,n,s,r,u);if(d!==zr)return d}c=e[a+8],c!==Da&&E1(r,e[F].data[a+8]===u)&&w1(o,a,e)?(s=l,a=Mu(c),e=ku(c,e)):a=-1}}return i}function yq(t,e,n,r,i,o){const s=e[F],a=s.data[t+8],l=function Xh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&wr(f)&&f.type===n)return c}return null}(a,s,n,null==r?Jo(a)&&Dy:r!=s&&0!=(3&a.type),i&le.Host&&o===a);return null!==l?is(e,s,l,a):zr}function is(t,e,n,r){let i=t[n];const o=e.data;if(function dq(t){return t instanceof xu}(i)){const s=i;s.resolving&&function U3(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Te(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(o[n]));const a=Qh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?xn(s.injectImpl):null;o1(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=jM(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&xn(u),Qh(a),s.resolving=!1,u1()}}return i}function w1(t,e,n){return!!(n[e+(t>>m1)]&1<<t)}function E1(t,e){return!(t&le.Self||t&le.Host&&e)}class gn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return v1(this._tNode,this._lView,e,Fh(r),n)}}function wq(){return new gn($t(),T())}function Ht(t){return gi(()=>{const e=t.prototype.constructor,n=e[_i]||Sy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[_i]||Sy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sy(t){return z_(t)?()=>{const e=Sy(Y(t));return e&&e()}:es(t)}function I1(t){const e=t[F],n=e.type;return 2===n?e.declTNode:1===n?t[en]:null}const Ca="__parameters__";function Aa(t,e,n){return gi(()=>{const r=function Ay(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Ca)?c[Ca]:Object.defineProperty(c,Ca,{value:[]})[Ca];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ma(t,e){t.forEach(n=>Array.isArray(n)?Ma(n,e):e(n))}function T1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ef(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qn(t,e,n){let r=ka(t,e);return r>=0?t[1|r]=n:(r=~r,function xq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function xy(t,e){const n=ka(t,e);if(n>=0)return t[1|n]}function ka(t,e){return function C1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Rn=_u(Aa("Optional"),8),nf=_u(Aa("SkipSelf"),4);function uf(t){return 128==(128&t.flags)}var ao=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ao||{});const Oy=new Map;let Jq=0;const Fy="__ngContext__";function tn(t,e){kn(e)?(t[Fy]=e[Iu],function t6(t){Oy.set(t[Iu],t)}(e)):t[Fy]=e}let Ly;function Vy(t,e){return Ly(t,e)}function Lu(t){const e=t[We];return fn(e)?e[We]:e}function q1(t){return K1(t[wu])}function W1(t){return K1(t[br])}function K1(t){for(;null!==t&&!fn(t);)t=t[br];return t}function Oa(t,e,n,r,i){if(null!=r){let o,s=!1;fn(r)?o=r:kn(r)&&(s=!0,r=r[et]);const a=Fe(r);0===t&&null!==n?null==i?X1(e,n,a):os(e,n,a,i||null,!0):1===t&&null!==n?os(e,n,a,i||null,!0):2===t?function gf(t,e,n){const r=pf(t,e);r&&function b6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function I6(t,e,n,r,i){const o=n[jr];o!==Fe(n)&&Oa(e,t,r,o,i);for(let a=Ut;a<n.length;a++){const c=n[a];Bu(c[F],c,t,e,r,o)}}(e,t,o,n,i)}}function hf(t,e,n){return t.createElement(e,n)}function Y1(t,e){const n=t[va],r=n.indexOf(e);KM(e),n.splice(r,1)}function ff(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[Eu];null!==i&&i!==t&&Y1(i,r),e>0&&(t[n-1][br]=r[br]);const o=ef(t,Ut+e);!function h6(t,e){Bu(t,e,e[te],2,null,null),e[et]=null,e[en]=null}(r[F],r);const s=o[Ur];null!==s&&s.detachView(o[F]),r[We]=null,r[br]=null,r[ie]&=-129}return r}function Uy(t,e){if(!(256&e[ie])){const n=e[te];e[Du]&&RM(e[Du]),e[Tu]&&RM(e[Tu]),n.destroyNode&&Bu(t,e,n,3,null,null),function m6(t){let e=t[wu];if(!e)return jy(t[F],t);for(;e;){let n=null;if(kn(e))n=e[wu];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[br]&&e!==t;)kn(e)&&jy(e[F],e),e=e[We];null===e&&(e=t),kn(e)&&jy(e[F],e),n=e&&e[br]}e=n}}(e)}}function jy(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function v6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xu)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];$r(4,a,c);try{c.call(a)}finally{$r(5,a,c)}}else{$r(4,i,o);try{o.call(i)}finally{$r(5,i,o)}}}}}(t,e),function y6(t,e){const n=t.cleanup,r=e[ma];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[ma]=null);const i=e[ro];if(null!==i){e[ro]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[F].type&&e[te].destroy();const n=e[Eu];if(null!==n&&fn(e[We])){n!==e[We]&&Y1(n,e);const r=e[Ur];null!==r&&r.detachView(t)}!function n6(t){Oy.delete(t[Iu])}(e)}}function $y(t,e,n){return function Z1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[et];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===sr.None||o===sr.Emulated)return null}return Nn(r,n)}}(t,e.parent,n)}function os(t,e,n,r,i){t.insertBefore(e,n,r,i)}function X1(t,e,n){t.appendChild(e,n)}function J1(t,e,n,r,i){null!==r?os(t,e,n,r,i):X1(t,e,n)}function pf(t,e){return t.parentNode(e)}let Hy,Wy,yf,nk=function tk(t,e,n){return 40&t.type?Nn(t,n):null};function mf(t,e,n,r){const i=$y(t,r,e),o=e[te],a=function ek(t,e,n){return nk(t,e,n)}(r.parent||e[en],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)J1(o,i,n[c],a,!1);else J1(o,i,n,a,!1);void 0!==Hy&&Hy(o,r,e,n,i)}function Vu(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return zy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Vu(t,r);{const i=t[e.index];return fn(i)?zy(-1,i):Fe(i)}}if(32&n)return Vy(e,t)()||Fe(t[e.index]);{const r=ik(t,e);return null!==r?Array.isArray(r)?r[0]:Vu(Lu(t[ut]),r):Vu(t,e.next)}}return null}function ik(t,e){return null!==e?t[ut][en].projection[e.projection]:null}function zy(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[F].firstChild;if(null!==i)return Vu(r,i)}return e[jr]}function Gy(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&tn(Fe(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Gy(t,e,n.child,r,i,o,!1),Oa(e,t,i,a,o);else if(32&c){const u=Vy(n,r);let l;for(;l=u();)Oa(e,t,i,l,o);Oa(e,t,i,a,o)}else 16&c?sk(t,e,r,n,i,o):Oa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Bu(t,e,n,r,i,o){Gy(n,r,t.firstChild,e,i,o,!1)}function sk(t,e,n,r,i,o){const s=n[ut],c=s[en].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Oa(e,t,i,c[u],o);else{let u=c;const l=s[We];uf(r)&&(u.flags|=128),Gy(t,e,u,l,i,o,!0)}}function ak(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ck(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&ry(t,e,r),null!==i&&ak(t,e,i),null!==o&&function T6(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function dk(t){return function Ky(){if(void 0===yf&&(yf=null,Pe.trustedTypes))try{yf=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yf}()?.createScriptURL(t)||t}class hk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tM})`}}function co(t){return t instanceof hk?t.changingThisBreaksApplicationSecurity:t}function Uu(t,e){const n=function P6(t){return t instanceof hk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tM})`)}return n===e}const B6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var La=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(La||{});function Jy(t){const e=$u();return e?e.sanitize(La.URL,t)||"":Uu(t,"URL")?co(t):function Qy(t){return(t=String(t)).match(B6)?t:"unsafe:"+t}(ee(t))}function vk(t){const e=$u();if(e)return dk(e.sanitize(La.RESOURCE_URL,t)||"");if(Uu(t,"ResourceURL"))return dk(co(t));throw new E(904,!1)}function $u(){const t=T();return t&&t[ga].sanitizer}class N{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hu=new N("ENVIRONMENT_INITIALIZER"),wk=new N("INJECTOR",-1),Ek=new N("INJECTOR_DEF_TYPES");class ev{get(e,n=gu){if(n===gu){const r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}}function X6(...t){return{\u0275providers:Dk(0,t),\u0275fromNgModule:!0}}function Dk(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ma(e,s=>{const a=s;bf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Tk(i,o),n}function Tk(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];tv(i,o=>{e(o,r)})}}function bf(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,o=Rh(t);const s=!o&&pe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Rh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)bf(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ma(o.imports,l=>{bf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&Tk(u,e)}if(!a){const u=es(i)||(()=>new i);e({provide:i,useFactory:u,deps:we},i),e({provide:Ek,useValue:i,multi:!0},i),e({provide:Hu,useValue:()=>P(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;tv(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function tv(t,e){for(let n of t)G_(n)&&(n=n.\u0275providers),Array.isArray(n)?tv(n,e):e(n)}const J6=Ce({provide:String,useValue:Ce});function nv(t){return null!==t&&"object"==typeof t&&J6 in t}function ss(t){return"function"==typeof t}const rv=new N("Set Injector scope."),wf={},tW={};let iv;function Ef(){return void 0===iv&&(iv=new ev),iv}class lr{}class If extends lr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sv(e,s=>this.processProvider(s)),this.records.set(wk,Va(void 0,this)),i.has("environment")&&this.records.set(lr,Va(void 0,this));const o=this.records.get(rv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ek.multi,we,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=to(this),r=xn(void 0);try{return e()}finally{to(n),xn(r)}}get(e,n=gu,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lM))return e[lM](this);r=Fh(r);const o=to(this),s=xn(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function sW(t){return"function"==typeof t||"object"==typeof t&&t instanceof N}(e)&&Nh(e);c=u&&this.injectableDefInScope(u)?Va(ov(e),wf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&le.Self?Ef():this.parent).get(e,n=r&le.Optional&&n===gu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ph]=a[Ph]||[]).unshift(Et(e)),o)throw a;return function t5(t,e,n,r){const i=t[Ph];throw e[aM]&&i.unshift(e[aM]),t.message=function n5(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ph]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{xn(s),to(o)}}resolveInjectorInitializers(){const e=to(this),n=xn(void 0);try{const i=this.get(Hu.multi,we,le.Self);for(const o of i)o()}finally{to(e),xn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let n=ss(e=Y(e))?e:Y(e&&e.provide);const r=function rW(t){return nv(t)?Va(void 0,t.useValue):Va(Ak(t),wf)}(e);if(ss(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Va(void 0,wf,!0),i.factory=()=>ey(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===wf&&(n.value=tW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function oW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ov(t){const e=Nh(t),n=null!==e?e.factory:es(t);if(null!==n)return n;if(t instanceof N)throw new E(204,!1);if(t instanceof Function)return function nW(t){const e=t.length;if(e>0)throw function Ou(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new E(204,!1);const n=function q3(t){return t&&(t[Oh]||t[rM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new E(204,!1)}function Ak(t,e,n){let r;if(ss(t)){const i=Y(t);return es(i)||ov(i)}if(nv(t))r=()=>Y(t.useValue);else if(function Sk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ey(t.deps||[]));else if(function Ck(t){return!(!t||!t.useExisting)}(t))r=()=>P(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function iW(t){return!!t.deps}(t))return es(i)||ov(i);r=()=>new i(...ey(t.deps))}return r}function Va(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sv(t,e){for(const n of t)Array.isArray(n)?sv(n,e):n&&G_(n)?sv(n.\u0275providers,e):e(n)}const Df=new N("AppId",{providedIn:"root",factory:()=>aW}),aW="ng",xk=new N("Platform Initializer"),Ei=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mk=new N("AnimationModuleType"),av=new N("CSP nonce",{providedIn:"root",factory:()=>function Fa(){if(void 0!==Wy)return Wy;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kk=(t,e,n)=>null;function mv(t,e,n=!1){return kk(t,e,n)}class _W{}class Ok{}class vW{resolveComponentFactory(e){throw function yW(t){const e=Error(`No component factory found for ${Et(t)}.`);return e.ngComponent=t,e}(e)}}let Mf=(()=>{class t{static#e=this.NULL=new vW}return t})();function bW(){return ja($t(),T())}function ja(t,e){return new Pn(Nn(t,e))}let Pn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=bW}return t})();class qu{}let Ii=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function EW(){const t=T(),n=Gn($t().index,t);return(kn(n)?n:t)[te]}()}return t})(),IW=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();class uo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fk=new uo("16.2.7"),yv={};function Uk(t,e=null,n=null,r){const i=jk(t,e,n,r);return i.resolveInjectorInitializers(),i}function jk(t,e=null,n=null,r,i=new Set){const o=[n||we,X6(t)];return r=r||("object"==typeof t?void 0:Et(t)),new If(o,e||Ef(),r||null,i)}let _n=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=gu;static#t=this.NULL=new ev;static create(n,r){if(Array.isArray(n))return Uk({name:""},r,n,"");{const i=n.name??"";return Uk({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=U({token:t,providedIn:"any",factory:()=>P(wk)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function bv(t){return t.ngOriginalError}class Di{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bv(e);for(;n&&bv(n);)n=bv(n);return n||null}}function Ev(t){return e=>{setTimeout(t,void 0,e)}}const tt=class MW extends rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ev(o),i&&(i=Ev(i)),s&&(s=Ev(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof An&&e.add(a),a}};function Hk(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function kW(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function OW(t){const e=()=>{!function RW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dv(t),t.isCheckStableRunning=!0,Iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function FW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return zk(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Gk(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return zk(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Gk(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Dv(t),Iv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NW,Hk,Hk);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const NW={};function Iv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gk(t){t._nesting--,Iv(t)}class PW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const qk=new N("",{providedIn:"root",factory:Wk});function Wk(){const t=L(Ee);let e=!0;return function F3(...t){const e=mu(t),n=function x3(t,e){return"number"==typeof j_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?$n(r[0]):ha(n)(At(r,e)):Fr}(new qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new qe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(eM()))}function Ti(t){return t instanceof Function?t():t}let Tv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Wu(t){for(;t;){t[ie]|=64;const e=Lu(t);if(sy(t)&&!e)return t;t=e}return null}const Xk=new N("",{providedIn:"root",factory:()=>!1});let Nf=null;function nN(t,e){return t[e]??oN()}function rN(t,e){const n=oN();n.producerNode?.length&&(t[e]=Nf,n.lView=t,Nf=iN())}const qW={...SM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wu(t.lView)},lView:null};function iN(){return Object.create(qW)}function oN(){return Nf??=iN(),Nf}const re={};function zt(t){sN(me(),T(),mn()+t,!1)}function sN(t,e,n,r){if(!r)if(3==(3&e[ie])){const o=t.preOrderCheckHooks;null!==o&&Wh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Kh(e,o,0,n)}rs(n)}function D(t,e=le.Default){const n=T();return null===n?P(t,e):v1($t(),n,Y(t),e)}function Rf(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[et]=i,d[ie]=140|r,(null!==u||t&&2048&t[ie])&&(d[ie]|=2048),WM(d),d[We]=d[_a]=t,d[ct]=n,d[ga]=s||t&&t[ga],d[te]=a||t&&t[te],d[no]=c||t&&t[no]||null,d[en]=o,d[Iu]=function e6(){return Jq++}(),d[yi]=l,d[IM]=u,d[ut]=2==e.type?t[ut]:d,d}function za(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Cv(t,e,n,r,i){const o=JM(),s=py(),c=t.data[e]=function e9(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Ea(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function J5(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Au(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Hr(o,!0),o}function Ku(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cN(t,e,n,r,i){const o=nN(e,Du),s=mn(),a=2&r;try{rs(-1),a&&e.length>de&&sN(t,e,de,!1),$r(a?2:0,i);const u=a?o:null,l=cy(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{uy(u,l)}}finally{a&&null===e[Du]&&rN(e,Du),rs(s),$r(a?3:1,i)}}function Sv(t,e,n){if(oy(e)){const r=ar(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ar(r)}}}function Av(t,e,n){XM()&&(function a9(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Jo(n)&&function p9(t,e,n){const r=Nn(e,t),i=uN(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Of(t,Rf(t,i,null,s,r,e,null,t[ga].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yh(n,e),tn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=is(e,t,a,n);tn(u,e),null!==s&&m9(0,a-i,u,c,0,s),wr(c)&&(Gn(n.index,e)[ct]=is(e,t,a,n))}}(t,e,n,Nn(n,e)),64==(64&n.flags)&&pN(t,e,n))}function xv(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function uN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mv(t,e,n,r,i,o,s,a,c,u,l){const d=de+r,h=d+i,f=function KW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof u?u():u;return f[F]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let lN=t=>null;function dN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?hN(n,e,i,o):r.hasOwnProperty(i)&&hN(n,e,r[i],o)}return n}function hN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Wn(t,e,n,r,i,o,s,a){const c=Nn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(Pv(t,n,l,r,i),Jo(e)&&function r9(t,e){const n=Gn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function n9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function kv(t,e,n,r){if(XM()){const i=null===r?null:{"":-1},o=function u9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(_M(e,s.selectors,!1))if(r||(r=[]),wr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Nv(t,e,a.length)}else r.unshift(s),Nv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fN(t,e,n,s,i,a),i&&function l9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new E(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=vu(n.mergedAttrs,n.attrs)}function fN(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Cy(Yh(n,e),t,r[u].type);!function h9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Ku(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=vu(n.mergedAttrs,l.hostAttrs),f9(t,n,e,c,l),d9(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function t9(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;c=dN(d.inputs,l,c,h?h.inputs:null),u=dN(d.outputs,l,u,p);const m=null===c||null===s||gM(e)?null:g9(c,l,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function pN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function tq(){return Q.lFrame.currentDirectiveIndex}();try{rs(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];gy(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&c9(c,u)}}finally{rs(-1),gy(s)}}function c9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Nv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function d9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wr(e)&&(n[""]=t)}}function f9(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=es(i.type)),s=new xu(o,wr(i),D);t.blueprint[r]=s,n[r]=s,function o9(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function s9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Ku(t,n,i.hostVars,re),i)}function Gr(t,e,n,r,i,o){const s=Nn(t,e);!function Rv(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ee(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[te],s,o,t.value,n,r,i)}function m9(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)mN(r,n,s[a++],s[a++],s[a++])}function mN(t,e,n,r,i){const o=ar(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ar(o)}}function g9(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function _N(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];yy(n[r]),s.contentQueries(2,e[o],o)}}}function Of(t,e){return t[wu]?t[EM][br]=e:t[wu]=e,t[EM]=e,e}function Ov(t,e,n){yy(0);const r=ar(null);try{e(t,n)}finally{ar(r)}}function wN(t,e){const n=t[no],r=n?n.get(Di,null):null;r&&r.handleError(e)}function Pv(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];mN(t.data[s],e[s],r,a,i)}}function Ci(t,e,n){const r=zh(e,t);!function Q1(t,e,n){t.setValue(e,n)}(t[te],r,n)}function _9(t,e){const n=Gn(e,t),r=n[F];!function y9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[et];null!==i&&null===n[yi]&&(n[yi]=mv(i,n[no])),Fv(r,n,n[ct])}function Fv(t,e,n){vy(e);try{const r=t.viewQuery;null!==r&&Ov(1,r,n);const i=t.template;null!==i&&cN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_N(t,e),t.staticViewQueries&&Ov(2,t.viewQuery,n);const o=t.components;null!==o&&function v9(t,e){for(let n=0;n<e.length;n++)_9(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,by()}}let EN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function k5(t,e,n){const r=Object.create(N5);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>kM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!NM(r))return;r.hasRun=!0;const s=cy(r);try{r.cleanupFn(),r.cleanupFn=UM,r.fn(i)}finally{uy(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Pf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=H_(i,a):2==o&&(r=H_(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Qu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Fe(o)),fn(o)&&IN(o,r);const s=n.type;if(8&s)Qu(t,e,n.child,r);else if(32&s){const a=Vy(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=ik(e,n);if(Array.isArray(a))r.push(...a);else{const c=Lu(e[ut]);Qu(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function IN(t,e){for(let n=Ut;n<t.length;n++){const r=t[n],i=r[F].firstChild;null!==i&&Qu(r[F],r,i,e)}t[jr]!==t[et]&&e.push(t[jr])}function Ff(t,e,n,r=!0){const i=e[ga],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{DN(t,e,t.template,n)}catch(c){throw r&&wN(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function DN(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[ga].effectManager?.flush(),vy(e);try{WM(e),function t1(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&cN(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Wh(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Kh(e,u,0,null),wy(e,0)}if(function E9(t){for(let e=q1(t);null!==e;e=W1(e)){if(!e[DM])continue;const n=e[va];for(let r=0;r<n.length;r++){$5(n[r])}}}(e),TN(e,2),null!==t.contentQueries&&_N(t,e),s){const u=t.contentCheckHooks;null!==u&&Wh(e,u)}else{const u=t.contentHooks;null!==u&&Kh(e,u,1),wy(e,1)}!function WW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=nN(e,Tu);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)rs(~o);else{const s=o,a=n[++i],c=n[++i];eq(a,s),r.dirty=!1;const u=cy(r);try{c(2,e[s])}finally{uy(r,u)}}}}finally{null===e[Tu]&&rN(e,Tu),rs(-1)}}(t,e);const a=t.components;null!==a&&SN(e,a,0);const c=t.viewQuery;if(null!==c&&Ov(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Wh(e,u)}else{const u=t.viewHooks;null!==u&&Kh(e,u,2),wy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,KM(e)}finally{by()}}}function TN(t,e){for(let n=q1(t);null!==n;n=W1(n))for(let r=Ut;r<n.length;r++)CN(n[r],e)}function I9(t,e,n){CN(Gn(e,t),n)}function CN(t,e){if(!function U5(t){return 128==(128&t[ie])}(t))return;const n=t[F],r=t[ie];if(80&r&&0===e||1024&r||2===e)DN(n,t,n.template,t[ct]);else if(t[bu]>0){TN(t,1);const i=n.components;null!==i&&SN(t,i,1)}}function SN(t,e,n){for(let r=0;r<e.length;r++)I9(t,e[r],n)}class Yu{get rootNodes(){const e=this._lView,n=e[F];return Qu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[We];if(fn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ff(e,r),ef(n,r))}this._attachedToViewContainer=!1}Uy(this._lView[F],this._lView)}onDestroy(e){!function YM(t,e){if(256==(256&t[ie]))throw new E(911,!1);null===t[ro]&&(t[ro]=[]),t[ro].push(e)}(this._lView,e)}markForCheck(){Wu(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Ff(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p6(t,e){Bu(t,e,e[te],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class D9 extends Yu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ff(e[F],e,e[ct],!1)}checkNoChanges(){}get context(){return null}}class AN extends Mf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new Zu(n,this.ngModule)}}function xN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class C9{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fh(r);const i=this.injector.get(e,yv,r);return i!==yv||n===yv?i:this.parentInjector.get(e,n,r)}}class Zu extends Ok{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=xN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return xN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function h5(t){return t.map(d5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof lr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new C9(e,o):e,a=s.get(qu,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(IW,null),effectManager:s.get(EN,null),afterRenderEventManager:s.get(Tv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function QW(t,e,n,r){const o=r.get(Xk,!1)||n===sr.ShadowDom,s=t.selectRootElement(e,o);return function YW(t){lN(t)}(s),s}(h,r,this.componentDef.encapsulation,s):hf(h,f,function T9(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=mv(p,s,!0));const I=Mv(0,null,null,1,0,null,null,null,null,null,null),x=Rf(null,I,null,v,null,null,d,h,s,null,_);let B,z;vy(x);try{const oe=this.componentDef;let je,wt=null;oe.findHostDirectiveDefs?(je=[],wt=new Map,oe.findHostDirectiveDefs(oe,je,wt),je.push(oe)):je=[oe];const tr=function A9(t,e){const n=t[F],r=de;return t[r]=e,za(n,r,2,"#host",null)}(x,p),A_=function x9(t,e,n,r,i,o,s){const a=i[F];!function M9(t,e,n,r){for(const i of t)e.mergedAttrs=vu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Pf(e,e.mergedAttrs,!0),null!==n&&ck(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=mv(e,i[no]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Rf(i,uN(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Nv(a,t,r.length-1),Of(i,d),i[t.index]=d}(tr,p,oe,je,x,d,h);z=qM(I,de),p&&function N9(t,e,n,r){if(r)ry(t,n,["ng-version",Fk.full]);else{const{attrs:i,classes:o}=function f5(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ry(t,n,i),o&&o.length>0&&ak(t,n,o.join(" "))}}(h,oe,p,r),void 0!==n&&function R9(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(z,this.ngContentSelectors,n),B=function k9(t,e,n,r,i,o){const s=$t(),a=i[F],c=Nn(s,i);fN(a,i,s,n,null,r);for(let l=0;l<n.length;l++)tn(is(i,a,s.directiveStart+l,s),i);pN(a,i,s),c&&tn(c,i);const u=is(i,a,s.directiveStart+s.componentOffset,s);if(t[ct]=i[ct]=u,null!==o)for(const l of o)l(u,e);return Sv(a,s,t),u}(A_,oe,je,wt,x,[O9]),Fv(I,x,null)}finally{by()}return new S9(this.componentType,B,ja(z,x),x,z)}}class S9 extends _W{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new D9(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Pv(o[F],o,i,e,n),this.previousInputValues.set(e,n),Wu(Gn(this._tNode.index,o))}}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function O9(){const t=$t();qh(T()[F],t)}function Se(t){let e=function MN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(wr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Lf(t.inputs),s.inputTransforms=Lf(t.inputTransforms),s.declaredInputs=Lf(t.declaredInputs),s.outputs=Lf(t.outputs);const a=i.hostBindings;a&&V9(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&F9(t,c),u&&L9(t,u),Mh(t.inputs,i.inputs),Mh(t.declaredInputs,i.declaredInputs),Mh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Mh(s.inputTransforms,i.inputTransforms)),wr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Se&&(n=!1)}}e=Object.getPrototypeOf(e)}!function P9(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vu(i.hostAttrs,n=vu(n,i.hostAttrs))}}(r)}function Lf(t){return t===Vr?{}:t===we?[]:t}function F9(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function L9(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function V9(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ON(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Vf(t){return!!function Lv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Wr(t,e,n,r){const i=T();return nn(i,Ia(),e)&&(me(),Gr(Ye(),i,t,e,n,r)),Wr}function qa(t,e,n,r){return nn(t,Ia(),n)?e+ee(n)+r:re}function Wa(t,e,n,r,i,o){const a=function as(t,e,n,r){const i=nn(t,e,n);return nn(t,e+1,r)||i}(t,function vi(){return Q.lFrame.bindingIndex}(),n,i);return bi(2),a?e+ee(n)+r+ee(i)+o:re}function lo(t,e,n,r,i,o,s,a){const c=T(),u=me(),l=t+de,d=u.firstCreatePass?function u8(t,e,n,r,i,o,s,a,c){const u=e.consts,l=za(e,t,4,s||null,oo(u,a));kv(e,n,l,oo(u,c)),qh(e,l);const d=l.tView=Mv(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];Hr(d,!1);const h=WN(u,c,d,t);Gh()&&mf(u,c,h,d),tn(h,c),Of(c,c[l]=gN(h,c,h,d)),jh(d)&&Av(u,c,d),null!=s&&xv(c,d,a)}let WN=function KN(t,e,n,r){return so(!0),e[te].createComment("")};function yn(t,e,n){const r=T();return nn(r,Ia(),e)&&Wn(me(),Ye(),r,t,e,r[te],n,!1),yn}function Hv(t,e,n,r,i){const s=i?"class":"style";Pv(t,n,e.inputs[s],s,r)}function ue(t,e,n,r){const i=T(),o=me(),s=de+t,a=i[te],c=o.firstCreatePass?function p8(t,e,n,r,i,o){const s=e.consts,c=za(e,t,2,r,oo(s,i));return kv(e,n,c,oo(s,o)),null!==c.attrs&&Pf(c,c.attrs,!1),null!==c.mergedAttrs&&Pf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=QN(o,i,c,a,e,t);i[s]=u;const l=jh(c);return Hr(c,!0),ck(a,u,c),32!=(32&c.flags)&&Gh()&&mf(o,i,u,c),0===function z5(){return Q.lFrame.elementDepthCount}()&&tn(u,i),function G5(){Q.lFrame.elementDepthCount++}(),l&&(Av(o,i,c),Sv(o,c,i)),null!==r&&xv(i,c),ue}function ce(){let t=$t();py()?function my(){Q.lFrame.isParent=!1}():(t=t.parent,Hr(t,!1));const e=t;(function W5(t){return Q.skipHydrationRootTNode===t})(e)&&function Z5(){Q.skipHydrationRootTNode=null}(),function q5(){Q.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(qh(n,t),oy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function hq(t){return 0!=(8&t.flags)}(e)&&Hv(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function fq(t){return 0!=(16&t.flags)}(e)&&Hv(n,e,T(),e.stylesWithoutHost,!1),ce}function Si(t,e,n,r){return ue(t,e,n,r),ce(),Si}let QN=(t,e,n,r,i,o)=>(so(!0),hf(r,i,function l1(){return Q.lFrame.currentNamespace}()));function qv(){return T()}function nl(t){return!!t&&"function"==typeof t.then}function XN(t){return!!t&&"function"==typeof t.subscribe}function Le(t,e,n,r){const i=T(),o=me(),s=$t();return function eR(t,e,n,r,i,o,s){const a=jh(r),u=t.firstCreatePass&&function vN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[ct],d=function yN(t){return t[ma]||(t[ma]=[])}(e);let h=!0;if(3&r.type||s){const m=Nn(r,e),g=s?s(m):m,v=d.length,_=s?x=>s(Fe(x[r.index])):r.index;let I=null;if(!s&&a&&(I=function b8(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[ma],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=nR(r,e,l,o,!1);const x=n.listen(g,i,o);d.push(o,x),u&&u.push(i,_,v,v+1)}}else o=nR(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const B=e[p[g]][p[g+1]].subscribe(o),z=d.length;d.push(o,B),u&&u.push(i,r.index,z,-(z+1))}}}(o,i,i[te],s,t,e,r),Le}function tR(t,e,n,r){try{return $r(6,e,n),!1!==n(r)}catch(i){return wN(t,i),!1}finally{$r(7,e,n)}}function nR(t,e,n,r,i){return function o(s){if(s===Function)return r;Wu(t.componentOffset>-1?Gn(t.index,e):e);let c=tR(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=tR(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Er(t=1){return function rq(t){return(Q.lFrame.contextLView=function iq(t,e){for(;t>0;)e=e[_a],t--;return e}(t,Q.lFrame.contextLView))[ct]}(t)}function rl(t,e,n,r,i){const o=T(),s=qa(o,e,n,r);return s!==re&&Wn(me(),Ye(),o,t,s,o[te],i,!1),rl}function Hf(t,e){return t<<17|e<<2}function ho(t){return t>>17&32767}function Wv(t){return 2|t}function cs(t){return(131068&t)>>2}function Kv(t,e){return-131069&t|e<<2}function Qv(t){return 1|t}function hR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ho(o):cs(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];x8(t[a],e)&&(c=!0,t[a+1]=r?Qv(l):Wv(l)),a=r?ho(l):cs(l)}c&&(t[n+1]=r?Wv(o):Qv(o))}function x8(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ka(t,e)>=0}function zf(t,e){return function Ir(t,e,n,r){const i=T(),o=me(),s=bi(2);o.firstUpdatePass&&function wR(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[mn()],s=function bR(t,e){return e>=t.expandoStartIndex}(t,n);(function TR(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function V8(t,e,n,r){const i=function _y(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=il(n=Yv(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Yv(i,t,e,n,r),null===o){let c=function B8(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==cs(r))return t[ho(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Yv(null,t,e,c[1],r),c=il(c,e.attrs,r),function U8(t,e,n,r){t[ho(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function j8(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=il(r,t[o].hostAttrs,n);return il(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function S8(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ho(s),c=cs(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||ka(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=ho(t[a+1]);t[r+1]=Hf(h,a),0!==h&&(t[h+1]=Kv(t[h+1],r)),t[a+1]=function T8(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Hf(a,0),0!==a&&(t[a+1]=Kv(t[a+1],r)),a=r;else t[r+1]=Hf(c,0),0===a?a=r:t[c+1]=Kv(t[c+1],r),c=r;u&&(t[r+1]=Wv(t[r+1])),hR(t,l,r,!0),hR(t,l,r,!1),function A8(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ka(o,e)>=0&&(n[r+1]=Qv(n[r+1]))}(e,l,t,r,o),s=Hf(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==re&&nn(i,s,e)&&function IR(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function C8(t){return 1==(1&t)}(u)?DR(c,e,n,i,cs(u),s):void 0;Gf(l)||(Gf(o)||function D8(t){return 2==(2&t)}(u)&&(o=DR(c,null,n,i,a,s)),function D6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ao.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ao.Important),t.setStyle(n,r,i,o))}}(r,s,zh(mn(),n),i,o))}(o,o.data[mn()],i,i[te],t,i[s+1]=function G8(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Et(co(t)))),t}(e,n),r,s)}(t,e,null,!0),zf}function Yv(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=il(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function il(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qn(t,s,!!n||e[++o]))}return void 0===t?null:t}function DR(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===re&&(h=d?we:void 0);let f=d?xy(h,r):l===r?h:void 0;if(u&&!Gf(f)&&(f=xy(c,r)),Gf(f)&&(a=f,s))return a;const p=t[i+1];i=s?ho(p):cs(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=xy(c,r))}return a}function Gf(t){return void 0!==t}function Ae(t,e=""){const n=T(),r=me(),i=t+de,o=r.firstCreatePass?za(r,i,1,e,null):r.data[i],s=CR(r,n,o,e,t);n[i]=s,Gh()&&mf(r,n,s,o),Hr(o,!1)}let CR=(t,e,n,r,i)=>(so(!0),function df(t,e){return t.createText(e)}(e[te],r));function Zv(t){return fo("",t,""),Zv}function fo(t,e,n){const r=T(),i=qa(r,t,e,n);return i!==re&&Ci(r,mn(),i),fo}function qf(t,e,n,r,i){const o=T(),s=Wa(o,t,e,n,r,i);return s!==re&&Ci(o,mn(),s),qf}const nc="en-US";let WR=nc;function eb(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let o=0;o<t.length;o++)eb(t[o],e,n,r,i);else{const o=me(),s=T(),a=$t();let c=ss(t)?t:Y(t.provide);const u=Ak(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ss(t)||!t.multi){const f=new xu(u,i,D),p=nb(c,e,i?l:l+h,d);-1===p?(Cy(Yh(a,s),o,c),tb(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=nb(c,e,l+h,d),p=nb(c,e,l,l+h),g=p>=0&&n[p];if(i&&!g||!i&&!(f>=0&&n[f])){Cy(Yh(a,s),o,c);const v=function hK(t,e,n,r,i){const o=new xu(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,yO(o,i,r&&!n),o}(i?dK:lK,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),tb(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else tb(o,t,f>-1?f:p,yO(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function tb(t,e,n,r){const i=ss(e),o=function eW(t){return!!t.useClass}(e);if(i||o){const c=(o?Y(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function yO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function nb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lK(t,e,n,r){return rb(this.multi,[])}function dK(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=is(n,n[F],this.providerFactory.index,r);o=a.slice(0,s),rb(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rb(i,o);return o}function rb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function uK(t,e,n){const r=me();if(r.firstCreatePass){const i=wr(t);eb(n,r.data,r.blueprint,i,!0),eb(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ls{}class vO{}class ib extends ls{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AN(this);const i=zn(e);this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=jk(e,n,[{provide:ls,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ob extends vO{constructor(e){super(),this.moduleType=e}create(e){return new ib(this.moduleType,e,[])}}class bO extends ls{constructor(e){super(),this.componentFactoryResolver=new AN(this),this.instance=null;const n=new If([...e.providers,{provide:ls,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver}],e.parent||Ef(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sb(t,e,n=null){return new bO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let mK=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Dk(0,n.type),i=r.length>0?sb([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(P(lr))})}return t})();function wO(t){t.getStandaloneInjector=e=>e.get(mK).getOrCreateStandaloneInjector(t)}function HK(t,e,n,r=!0){const i=e[F];if(function g6(t,e,n,r){const i=Ut+r,o=n.length;r>0&&(n[i-1][br]=e),r<o-Ut?(e[br]=n[i],T1(n,Ut+r,e)):(n.push(e),e[br]=null),e[We]=n;const s=e[Eu];null!==s&&n!==s&&function _6(t,e){const n=t[va];e[ut]!==e[We][We][ut]&&(t[DM]=!0),null===n?t[va]=[e]:n.push(e)}(s,e);const a=e[Ur];null!==a&&a.insertView(t),e[ie]|=128}(i,e,t,n),r){const o=zy(n,t),s=e[te],a=pf(s,t[jr]);null!==a&&function f6(t,e,n,r,i,o){r[et]=i,r[en]=e,Bu(t,r,n,1,i,o)}(i,t[en],s,e,a,o)}}Symbol;let Ai=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qK}return t})();const zK=Ai,GK=class extends zK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function $K(t,e,n,r){const i=e.tView,a=Rf(t,i,n,4096&t[ie]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Eu]=t[e.index];const u=t[Ur];return null!==u&&(a[Ur]=u.createEmbeddedView(i)),Fv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Yu(i)}};function qK(){return function Zf(t,e){return 4&t.type?new GK(e,t,ja(t,e)):null}($t(),T())}let Tr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XK}return t})();function XK(){return function BO(t,e){let n;const r=e[t.index];return fn(r)?n=r:(n=gN(r,e,null,t),e[t.index]=n,Of(e,n)),UO(n,e,t,r),new LO(n,t,e)}($t(),T())}const JK=Tr,LO=class extends JK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zh(this._hostTNode,this._hostLView);if(Iy(e)){const n=ku(e,this._hostLView),r=Mu(e);return new gn(n[F].data[r+8],n)}return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=VO(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ru(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const c=s?e:new Zu(pe(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const g=(s?u:this.parentInjector).get(lr,null);g&&(o=g)}pe(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function j5(t){return fn(t[We])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[We],l=new LO(u,u[en],u[We]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return HK(a,i,s,!r),e.attachToViewContainerRef(),T1(ub(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=VO(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);r&&(ef(ub(this._lContainer),n),Uy(r[F],r))}detach(e){const n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);return r&&null!=ef(ub(this._lContainer),n)?new Yu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VO(t){return t[8]}function ub(t){return t[8]||(t[8]=[])}let UO=function jO(t,e,n,r){if(t[jr])return;let i;i=8&n.type?Fe(r):function eQ(t,e){const n=t[te],r=n.createComment(""),i=Nn(e,t);return os(n,pf(n,i),r,function w6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[jr]=i};const bb=new N("Application Initializer");let wb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(bb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(nl(o))n.push(o);else if(XN(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Yr=new N("LocaleId",{providedIn:"root",factory:()=>L(Yr,le.Optional|le.SkipSelf)||function kQ(){return typeof $localize<"u"&&$localize.locale||nc}()});let fP=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ir(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class OQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pP=(()=>{class t{compileModuleSync(n){return new ob(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Ti(zn(n).declarations).reduce((s,a)=>{const c=pe(a);return c&&s.push(new Zu(c)),s},[]);return new OQ(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yP=new N(""),tp=new N("");let Cb,Db=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cb||(function eY(t){Cb=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(P(Ee),P(Tb),P(tp))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Tb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Cb?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),po=null;const vP=new N("AllowMultipleToken"),Sb=new N("PlatformDestroyListeners"),Ab=new N("appBootstrapListener");class wP{constructor(e,n){this.name=e,this.token=n}}function IP(t,e,n=[]){const r=`Platform: ${e}`,i=new N(r);return(o=[])=>{let s=xb();if(!s||s.injector.get(vP,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function rY(t){if(po&&!po.get(vP,!1))throw new E(400,!1);(function bP(){!function C5(t){FM=t}(()=>{throw new E(600,!1)})})(),po=t;const e=t.get(TP);(function EP(t){t.get(xk,null)?.forEach(n=>n())})(t)}(function DP(t=[],e){return _n.create({name:e,providers:[{provide:rv,useValue:"platform"},{provide:Sb,useValue:new Set([()=>po=null])},...t]})}(a,r))}return function oY(t){const e=xb();if(!e)throw new E(401,!1);return e}()}}function xb(){return po?.get(TP)??null}let TP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function sY(t="zone.js",e){return"noop"===t?new PW:"zone.js"===t?new Ee(e):t}(r?.ngZone,function CP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function pK(t,e,n){return new ib(t,e,n)}(n.moduleType,this.injector,function kP(t){return[{provide:Ee,useFactory:t},{provide:Hu,multi:!0,useFactory:()=>{const e=L(cY,{optional:!0});return()=>e.initialize()}},{provide:MP,useFactory:aY},{provide:qk,useFactory:Wk}]}(()=>i)),s=o.injector.get(Di,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{np(this._modules,o),a.unsubscribe()})}),function SP(t,e,n){try{const r=n();return nl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(wb);return a.runInitializers(),a.donePromise.then(()=>(function KR(t){or(t,"Expected localeId to be defined"),"string"==typeof t&&(WR=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Yr,nc)||nc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=AP({},r);return function tY(t,e,n){const r=new ob(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ds);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Sb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(P(_n))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function AP(t,e){return Array.isArray(e)?e.reduce(AP,t):{...t,...e}}let ds=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(MP),this.zoneIsStable=L(qk),this.componentTypes=[],this.components=[],this.isStable=L(fP).hasPendingTasks.pipe(Lr(n=>n?W(!1):this.zoneIsStable),function L3(t,e=Ji){return t=t??V3,gt((n,r)=>{let i,o=!0;n.subscribe(at(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),eM()),this._injector=L(lr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Ok;if(!this._injector.get(wb).done)throw!i&&function pa(t){const e=pe(t)||Bt(t)||hn(t);return null!==e&&e.standalone}(n),new E(405,!1);let s;s=i?n:this._injector.get(Mf).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function nY(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ls),u=s.create(_n.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(yP,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),np(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;np(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ab,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>np(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function np(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const MP=new N("",{providedIn:"root",factory:()=>L(Di).handleError.bind(void 0)});function aY(){const t=L(Ee),e=L(Di);return n=>t.runOutsideAngular(()=>e.handleError(n))}let cY=(()=>{class t{constructor(){this.zone=L(Ee),this.applicationRef=L(ds)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let rp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lY}return t})();function lY(t){return function dY(t,e,n){if(Jo(t)&&!n){const r=Gn(t.index,e);return new Yu(r,r)}return 47&t.type?new Yu(e[ut],e):null}($t(),T(),16==(16&t))}class PP{constructor(){}supports(e){return Vf(e)}create(e){return new _Y(e)}}const gY=(t,e)=>e;class _Y{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gY}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<LP(r,i,o)?n:r,a=LP(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Vf(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function G9(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new yY(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new FP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yY{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class FP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vY,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function BP(){return new sp([new PP])}let sp=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:BP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||BP()),deps:[[t,new nf,new Rn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new E(901,!1)}}return t})();const DY=IP(null,"core",[]);let TY=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(P(ds))};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({})}return t})();function oc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Pb=null;function mo(){return Pb}class BY{}const Gt=new N("DocumentToken");let Fb=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return L(jY)},providedIn:"platform"})}return t})();const UY=new N("Location Initialized");let jY=(()=>{class t extends Fb{constructor(){super(),this._doc=L(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mo().getBaseHref(this._doc)}onPopState(n){const r=mo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=mo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Lb(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xi(t){return t&&"?"!==t[0]?"?"+t:t}let fs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return L(ZP)},providedIn:"root"})}return t})();const YP=new N("appBaseHref");let ZP=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lb(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+xi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+xi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(P(Fb),P(YP,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$Y=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Lb(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(P(Fb),P(YP,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),ml=(()=>{class t{constructor(n){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function GY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(QP(XP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xi(r))}normalize(n){return t.stripTrailingSlash(function zY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,XP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=xi;static#t=this.joinWithSlash=Lb;static#n=this.stripTrailingSlash=QP;static#r=this.\u0275fac=function(r){return new(r||t)(P(fs))};static#i=this.\u0275prov=U({token:t,factory:function(){return function HY(){return new ml(P(fs))}()},providedIn:"root"})}return t})();function XP(t){return t.replace(/\/index.html$/,"")}class NZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yp=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new NZ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),uF(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{uF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(Tr),D(Ai),D(sp))};static#t=this.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function uF(t,e){t.context.$implicit=e.item}let vp=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new RZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(Tr),D(Ai))};static#t=this.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class RZ{constructor(){this.$implicit=null,this.ngIf=null}}function lF(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}let iX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({})}return t})();const fF="browser";function pF(t){return"server"===t}let uX=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new lX(P(Gt),window)})}return t})();class lX{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function dX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class PX extends BY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ew extends PX{static makeCurrent(){!function VY(t){Pb||(Pb=t)}(new ew)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function FX(){return vl=vl||document.querySelector("base"),vl?vl.getAttribute("href"):null}();return null==n?null:function LX(t){Ep=Ep||document.createElement("a"),Ep.setAttribute("href",t);const e=Ep.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Ep,vl=null,BX=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const tw=new N("EventManagerPlugins");let vF=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(P(tw),P(Ee))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class bF{constructor(e){this._doc=e}}const nw="ng-app-id";let wF=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pF(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(nw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(nw,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(P(Gt),P(Df),P(av,8),P(Ei))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const rw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iw=/%COMP%/g,HX=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function IF(t,e){return e.map(n=>n.replace(iw,t))}let ow=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=pF(a),this.defaultRenderer=new sw(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r={...r,encapsulation:sr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof TF?i.applyToHost(n):i instanceof aw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:o=new TF(c,u,r,this.appId,l,s,a,d);break;case sr.ShadowDom:return new WX(c,u,n,r,s,a,this.nonce,d);default:o=new aw(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(P(vF),P(wF),P(Df),P(HX),P(Gt),P(Ei),P(Ee),P(av))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class sw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=rw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=rw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ao.DashCase|ao.Important)?e.style.setProperty(n,r,i&ao.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ao.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=mo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function DF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class WX extends sw{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=IF(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class aw extends sw{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?IF(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TF extends aw{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function zX(t){return"_ngcontent-%COMP%".replace(iw,t)}(u),this.hostAttr=function GX(t){return"_nghost-%COMP%".replace(iw,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let KX=(()=>{class t extends bF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(P(Gt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const CF=["alt","control","meta","shift"],QX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ZX=(()=>{class t extends bF{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mo().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CF.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=QX[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CF.forEach(s=>{s!==i&&(0,YX[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(P(Gt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const AF=[{provide:Ei,useValue:fF},{provide:xk,useValue:function XX(){ew.makeCurrent()},multi:!0},{provide:Gt,useFactory:function eJ(){return function x6(t){Wy=t}(document),document},deps:[]}],tJ=IP(DY,"browser",AF),nJ=new N(""),xF=[{provide:tp,useClass:class VX{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?mo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:yP,useClass:Db,deps:[Ee,Tb,tp]},{provide:Db,useClass:Db,deps:[Ee,Tb,tp]}],MF=[{provide:rv,useValue:"root"},{provide:Di,useFactory:function JX(){return new Di},deps:[]},{provide:tw,useClass:KX,multi:!0,deps:[Gt,Ee,Ei]},{provide:tw,useClass:ZX,multi:!0,deps:[Gt]},ow,wF,vF,{provide:qu,useExisting:ow},{provide:class hX{},useClass:BX,deps:[]},[]];let kF=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Df,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(P(nJ,12))};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({providers:[...MF,...xF],imports:[iX,TY]})}return t})(),NF=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(P(Gt))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function iJ(){return new NF(P(Gt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:lJ}=Array,{getPrototypeOf:dJ,prototype:hJ,keys:fJ}=Object;function FF(t){if(1===t.length){const e=t[0];if(lJ(e))return{args:e,keys:null};if(function pJ(t){return t&&"object"==typeof t&&dJ(t)===hJ}(e)){const n=fJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:mJ}=Array;function LF(t){return be(e=>function gJ(t,e){return mJ(e)?t(...e):t(e)}(t,e))}function VF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ip(...t){const e=mu(t),n=Xx(t),{args:r,keys:i}=FF(t);if(0===r.length)return At([],e);const o=new qe(function _J(t,e,n=Ji){return r=>{BF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)BF(e,()=>{const u=At(t[c],e);let l=!1;u.subscribe(at(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>VF(i,s):Ji));return n?o.pipe(LF(n)):o}function BF(t,e,n){t?mi(n,t,e):e()}const Dp=fu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tp(...t){return function yJ(){return ha(1)}()(At(t,mu(t)))}function UF(t){return new qe(e=>{$n(t()).subscribe(e)})}function bl(t,e){const n=Ne(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function uw(){return gt((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class jF extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new An;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=An.EMPTY)}return e}refCount(){return uw()(this)}}function ps(t){return t<=0?()=>Fr:gt((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $F(...t){const e=mu(t);return gt((n,r)=>{(e?Tp(t,n,e):Tp(t,n)).subscribe(r)})}function Ni(t,e){return gt((n,r)=>{let i=0;n.subscribe(at(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Cp(t){return gt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function HF(t=vJ){return gt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vJ(){return new Dp}function ms(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ni((i,o)=>t(i,o,r)):Ji,ps(1),n?Cp(e):HF(()=>new Dp))}function wl(t,e){return Ne(e)?Vt(t,e,1):Vt(t,1)}function qt(t,e,n){const r=Ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?gt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(at(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ji}function gs(t){return gt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,s=>{o=$n(t(s,gs(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lw(t){return t<=0?()=>Fr:gt((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dw(t){return gt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zF(t){return gt((e,n)=>{$n(t).subscribe(at(n,()=>n.complete(),M_)),!n.closed&&e.subscribe(n)})}const se="primary",El=Symbol("RouteTitle");class DJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ac(t){return new DJ(t)}function TJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!GF(t[i],e[i]))return!1;return!0}function GF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function qF(t){return t.length>0?t[t.length-1]:null}function _o(t){return function uJ(t){return!!t&&(t instanceof qe||Ne(t.lift)&&Ne(t.subscribe))}(t)?t:nl(t)?At(Promise.resolve(t)):W(t)}const SJ={exact:function QF(t,e,n){if(!_s(t.segments,e.segments)||!Sp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!QF(t.children[r],e.children[r],n))return!1;return!0},subset:YF},WF={exact:function AJ(t,e){return Zr(t,e)},subset:function xJ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GF(t[n],e[n]))},ignored:()=>!0};function KF(t,e,n){return SJ[n.paths](t.root,e.root,n.matrixParams)&&WF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function YF(t,e,n){return ZF(t,e,e.segments,n)}function ZF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_s(i,n)||e.hasChildren()||!Sp(i,n,r))}if(t.segments.length===n.length){if(!_s(t.segments,n)||!Sp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!YF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(_s(t.segments,i)&&Sp(t.segments,i,r)&&t.children[se])&&ZF(t.children[se],e,o,r)}}function Sp(t,e,n){return e.every((r,i)=>WF[n](t[i].parameters,r.parameters))}class cc{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ac(this.queryParams)),this._queryParamMap}toString(){return NJ.serialize(this)}}class xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class Il{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ac(this.parameters)),this._parameterMap}toString(){return eL(this)}}function _s(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Dl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new hw},providedIn:"root"})}return t})();class hw{parse(e){const n=new HJ(e);return new cc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Tl(e.root,!0)}`,r=function PJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${xp(n)}=${xp(i)}`).join("&"):`${xp(n)}=${xp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function RJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const NJ=new hw;function Ap(t){return t.segments.map(e=>eL(e)).join("/")}function Tl(t,e){if(!t.hasChildren())return Ap(t);if(e){const n=t.children[se]?Tl(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Tl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function kJ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Tl(t.children[se],!1)]:[`${i}:${Tl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Ap(t)}/${n[0]}`:`${Ap(t)}/(${n.join("//")})`}}function XF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(t){return XF(t).replace(/%3B/gi,";")}function fw(t){return XF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mp(t){return decodeURIComponent(t)}function JF(t){return Mp(t.replace(/\+/g,"%20"))}function eL(t){return`${fw(t.path)}${function OJ(t){return Object.keys(t).map(e=>`;${fw(e)}=${fw(t[e])}`).join("")}(t.parameters)}`}const FJ=/^[^\/()?;#]+/;function pw(t){const e=t.match(FJ);return e?e[0]:""}const LJ=/^[^\/()?;=#]+/,BJ=/^[^=?&#]+/,jJ=/^[^&#]+/;class HJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new xe(e,n)),r}parseSegment(){const e=pw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Il(Mp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function VJ(t){const e=t.match(LJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=pw(this.remaining);i&&(r=i,this.capture(r))}e[Mp(n)]=Mp(r)}parseQueryParam(e){const n=function UJ(t){const e=t.match(BJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function $J(t){const e=t.match(jJ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=JF(n),o=JF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[se]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function tL(t){return t.segments.length>0?new xe([],{[se]:t}):t}function nL(t){const e={};for(const r of Object.keys(t.children)){const o=nL(t.children[r]);if(r===se&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function zJ(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new xe(t.segments.concat(e.segments),e.children)}return t}(new xe(t.segments,e))}function ys(t){return t instanceof cc}function rL(t){let e;const i=tL(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new xe(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function iL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mw(i,i,i,n,r);const o=function qJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new sL(n,e,r)}(e);if(o.toRoot())return mw(i,i,new xe([],{}),n,r);const s=function WJ(t,e,n){if(t.isAbsolute)return new Np(e,!0,0);if(!n)return new Np(e,!1,NaN);if(null===n.parent)return new Np(n,!0,0);const r=kp(t.commands[0])?0:1;return function KJ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Np(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Sl(s.segmentGroup,s.index,o.commands):aL(s.segmentGroup,s.index,o.commands);return mw(i,s.segmentGroup,a,n,r)}function kp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Cl(t){return"object"==typeof t&&null!=t&&t.outlets}function mw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:oL(t,e,n);const a=tL(nL(s));return new cc(a,o,i)}function oL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:oL(o,e,n)}),new xe(t.segments,r)}class sL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kp(r[0]))throw new E(4003,!1);const i=r.find(Cl);if(i&&i!==qF(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Np{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function aL(t,e,n){if(t||(t=new xe([],{})),0===t.segments.length&&t.hasChildren())return Sl(t,e,n);const r=function YJ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Cl(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!uL(c,u,s))return o;r+=2}else{if(!uL(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new xe(t.segments.slice(r.pathIndex),t.children),Sl(o,0,i)}return r.match&&0===i.length?new xe(t.segments,{}):r.match&&!t.hasChildren()?gw(t,e,n):r.match?Sl(t,0,i):gw(t,e,n)}function Sl(t,e,n){if(0===n.length)return new xe(t.segments,{});{const r=function QJ(t){return Cl(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const o=Sl(t.children[se],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aL(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new xe(t.segments,i)}}function gw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Cl(o)){const c=ZJ(o.outlets);return new xe(r,c)}if(0===i&&kp(n[0])){r.push(new Il(t.segments[e].path,cL(n[0]))),i++;continue}const s=Cl(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kp(a)?(r.push(new Il(s,cL(a))),i+=2):(r.push(new Il(s,{})),i++)}return new xe(r,{})}function ZJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gw(new xe([],{}),0,r))}),e}function cL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function uL(t,e,n){return t==n.path&&Zr(e,n.parameters)}const Al="imperative";class Xr{constructor(e,n){this.id=e,this.url=n}}class Rp extends Xr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yo extends Xr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xl extends Xr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uc extends Xr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Op extends Xr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lL extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XJ extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JJ extends Xr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eee extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tee extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ree{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class see{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _w{}class yw{constructor(e){this.url=e}}class cee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ml,this.attachRef=null}}let Ml=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new cee,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class hL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=bw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bw(e,this._root).map(n=>n.value)}}function vw(t,e){if(t===e.value)return e;for(const n of e.children){const r=vw(t,n);if(r)return r}return null}function bw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=bw(t,n);if(r.length)return r.unshift(e),r}return[]}class Ri{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function lc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class fL extends hL{constructor(e,n){super(e),this.snapshot=n,ww(this,e)}toString(){return this.snapshot.toString()}}function pL(t,e){const n=function uee(t,e){const s=new Pp([],{},{},"",{},se,e,null,{});return new gL("",new Ri(s,[]))}(0,e),r=new ir([new Il("",{})]),i=new ir({}),o=new ir({}),s=new ir({}),a=new ir(""),c=new vo(r,i,s,a,o,se,e,n.root);return c.snapshot=n.root,new fL(new Ri(c,[]),n)}class vo{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(be(u=>u[El]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>ac(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>ac(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function lee(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pp{get title(){return this.data?.[El]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gL extends hL{constructor(e,n){super(n),this.url=e,ww(this,n)}toString(){return _L(this._root)}}function ww(t,e){e.value._routerState=t,e.children.forEach(n=>ww(t,n))}function _L(t){const e=t.children.length>0?` { ${t.children.map(_L).join(", ")} } `:"";return`${t.value}${e}`}function Ew(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zr(e.params,n.params)||t.paramsSubject.next(n.params),function CJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Zr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Iw(t,e){const n=Zr(t.params,e.params)&&function MJ(t,e){return _s(t,e)&&t.every((n,r)=>Zr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Iw(t.parent,e.parent))}let Dw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=L(Ml),this.location=L(Tr),this.changeDetector=L(rp),this.environmentInjector=L(lr),this.inputBinder=L(Fp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dee(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}return t})();class dee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vo?this.route:e===Ml?this.childContexts:this.parent.get(e,n)}}const Fp=new N("");let yL=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ip([r.queryParams,r.params,r.data]).pipe(Lr(([o,s,a],c)=>(a={...o,...s,...a},0===c?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function LY(t){const e=pe(t);if(!e)return null;const n=new Zu(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function kl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function fee(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kl(t,r,i);return kl(t,r)})}(t,e,n);return new Ri(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kl(t,a)),s}}const r=function pee(t){return new vo(new ir(t.url),new ir(t.params),new ir(t.queryParams),new ir(t.fragment),new ir(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>kl(t,o));return new Ri(r,i)}}const Tw="ngNavigationCancelingError";function vL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function bL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function wL(t){return t&&t[Tw]}let EL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Br({type:t,selectors:[["ng-component"]],standalone:!0,features:[wO],decls:1,vars:0,template:function(r,i){1&r&&Si(0,"router-outlet")},dependencies:[Dw],encapsulation:2})}return t})();function Cw(t){const e=t.children&&t.children.map(Cw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=EL),n}function Ar(t){return t.outlet||se}function Nl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Eee{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ew(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=lc(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=lc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new aee(o.value.snapshot))}),e.children.length&&this.forwardEvent(new oee(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Ew(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ew(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Nl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class IL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lp{constructor(e,n){this.component=e,this.route=n}}function Iee(t,e,n){const r=t._root;return Rl(r,e?e._root:null,n,[r.value])}function dc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function G3(t){return null!==Nh(t)}(t)?e.get(t):t:r}function Rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=lc(e);return t.children.forEach(s=>{(function Tee(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Cee(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_s(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(t.url,e.url)||!Zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iw(t,e)||!Zr(t.queryParams,e.queryParams);default:return!Iw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new IL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rl(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lp(a.outlet.component,s))}else s&&Ol(e,a,i),i.canActivateChecks.push(new IL(r)),Rl(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ol(a,n.getContext(s),i)),i}function Ol(t,e,n){const r=lc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Ol(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Lp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pl(t){return"function"==typeof t}function DL(t){return t instanceof Dp||"EmptyError"===t?.name}const Vp=Symbol("INITIAL_VALUE");function hc(){return Lr(t=>Ip(t.map(e=>e.pipe(ps(1),$F(Vp)))).pipe(be(e=>{for(const n of e)if(!0!==n){if(n===Vp)return Vp;if(!1===n||n instanceof cc)return n}return!0}),Ni(e=>e!==Vp),ps(1)))}function TL(t){return function WG(...t){return Ox(t)}(qt(e=>{if(ys(e))throw vL(0,e)}),be(e=>!0===e))}class Bp{constructor(e){this.segmentGroup=e||null}}class CL{constructor(e){this.urlTree=e}}function fc(t){return bl(new Bp(t))}function SL(t){return bl(new CL(t))}class qee{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new E(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[se])return bl(new E(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new cc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wee(t,e,n,r,i){const o=Aw(t,e,n);return o.matched?(r=function gee(t,e){return t.providers&&!t._injector&&(t._injector=sb(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Hee(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=dc(s,t);return _o(function Nee(t){return t&&Pl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(hc(),TL()):W(!0)}(r,e,n).pipe(be(s=>!0===s?o:{...Sw}))):W(o)}function Aw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Sw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||TJ)(n,t,e);if(!i)return{...Sw};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AL(t,e,n,r){return n.length>0&&function Yee(t,e,n){return n.some(r=>Up(t,e,r)&&Ar(r)!==se)}(t,n,r)?{segmentGroup:new xe(e,Qee(r,new xe(n,t.children))),slicedSegments:[]}:0===n.length&&function Zee(t,e,n){return n.some(r=>Up(t,e,r))}(t,n,r)?{segmentGroup:new xe(t.segments,Kee(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function Kee(t,e,n,r,i){const o={};for(const s of r)if(Up(t,n,s)&&!i[Ar(s)]){const a=new xe([],{});o[Ar(s)]=a}return{...i,...o}}function Qee(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&Ar(r)!==se){const i=new xe([],{});n[Ar(r)]=i}return n}function Up(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class tte{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new qee(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,!1)}recognize(){const e=AL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(gs(n=>{if(n instanceof CL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Bp?this.noMatchError(n):n}),be(n=>{const r=new Pp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new Ri(r,n),o=new gL("",i),s=function GJ(t,e,n=null,r=null){return iL(rL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(gs(r=>{throw r instanceof Bp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=mL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return At(i).pipe(wl(o=>{const s=r.children[o],a=function bee(t,e){const n=t.filter(r=>Ar(r)===e);return n.push(...t.filter(r=>Ar(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function wJ(t,e){return gt(function bJ(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(at(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Cp(null),function EJ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ni((i,o)=>t(i,o,r)):Ji,lw(1),n?Cp(e):HF(()=>new Dp))}(),Vt(o=>{if(null===o)return fc(r);const s=xL(o);return function nte(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(s),W(s)}))}processSegment(e,n,r,i,o,s){return At(n).pipe(wl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gs(c=>{if(c instanceof Bp)return W(null);throw c}))),ms(a=>!!a),gs(a=>{if(DL(a))return function Jee(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?W([]):fc(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Xee(t,e,n,r){return!!(Ar(t)===r||r!==se&&Up(e,n,t))&&("**"===t.path||Aw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):fc(i):fc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?SL(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Vt(s=>{const a=new xe(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=Aw(n,i,o);if(!a)return fc(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?SL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Vt(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?qF(i).parameters:{};a=W({snapshot:new Pp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ML(r),Ar(r),r.component??r._loadedComponent??null,r,kL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Wee(n,r,i,e).pipe(be(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new Pp(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ML(r),Ar(r),r.component??r._loadedComponent??null,r,kL(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Lr(c=>null===c?fc(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Lr(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:m}=AL(n,h,f,u);if(0===m.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(be(v=>null===v?null:[new Ri(d,v)]));if(0===u.length&&0===m.length)return W([new Ri(d,[])]);const g=Ar(r)===o;return this.processSegment(l,u,p,m,g?se:o,!0).pipe(be(v=>[new Ri(d,v)]))}))))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function $ee(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=dc(s,t);return _o(function Aee(t){return t&&Pl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(hc(),TL())}(e,n,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,n).pipe(qt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Gee(t){return bl(bL(!1,3))}())):W({routes:[],injector:e})}}function rte(t){const e=t.value.routeConfig;return e&&""===e.path}function xL(t){const e=[],n=new Set;for(const r of t){if(!rte(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=xL(r.children);e.push(new Ri(r.value,i))}return e.filter(r=>!n.has(r))}function ML(t){return t.data||{}}function kL(t){return t.resolve||{}}function NL(t){return"string"==typeof t.title||null===t.title}function xw(t){return Lr(e=>{const n=t(e);return n?At(n).pipe(be(()=>e)):W(e)})}const pc=new N("ROUTES");let Mw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(pP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=_o(n.loadComponent()).pipe(be(RL),qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),dw(()=>{this.componentLoaders.delete(n)})),i=new jF(r,()=>new rr).pipe(uw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function lte(t,e,n,r){return _o(t.loadChildren()).pipe(be(RL),Vt(i=>i instanceof vO||Array.isArray(i)?W(i):At(e.compileModuleAsync(i))),be(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(pc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Cw),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(dw(()=>{this.childrenLoaders.delete(r)})),s=new jF(o,()=>new rr).pipe(uw());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RL(t){return function dte(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let jp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rr,this.transitionAbortSubject=new rr,this.configLoader=L(Mw),this.environmentInjector=L(lr),this.urlSerializer=L(Dl),this.rootContexts=L(Ml),this.inputBindingEnabled=null!==L(Fp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new ree(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new nee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new ir({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Al,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ni(o=>0!==o.id),be(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Lr(o=>{this.currentTransition=o;let s=!1,a=!1;return W(o).pipe(qt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Lr(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new uc(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Fr}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W(c).pipe(Lr(h=>{const f=this.transitions?.getValue();return this.events.next(new Rp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Fr:Promise.resolve(h)}),function ite(t,e,n,r,i,o){return Vt(s=>function ete(t,e,n,r,i,o,s="emptyOnly"){return new tte(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(be(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),qt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new lL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=c,v=new Rp(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=pL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},W(o)}{const h="";return this.events.next(new uc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Fr}}),qt(c=>{const u=new XJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),be(c=>(this.currentTransition=o={...c,guards:Iee(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Oee(t,e){return Vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?W({...n,guardsResult:!0}):function Pee(t,e,n,r){return At(t).pipe(Vt(i=>function jee(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const c=Nl(e)??i,u=dc(a,c);return _o(function kee(t){return t&&Pl(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(ms())})).pipe(hc()):W(!0)}(i.component,i.route,n,e,r)),ms(i=>!0!==i,!0))}(s,r,i,t).pipe(Vt(a=>a&&function See(t){return"boolean"==typeof t}(a)?function Fee(t,e,n,r){return At(e).pipe(wl(i=>Tp(function Vee(t,e){return null!==t&&e&&e(new iee(t)),W(!0)}(i.route.parent,r),function Lee(t,e){return null!==t&&e&&e(new see(t)),W(!0)}(i.route,r),function Uee(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Dee(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>UF(()=>W(s.guards.map(c=>{const u=Nl(s.node)??n,l=dc(c,u);return _o(function Mee(t){return t&&Pl(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(ms())})).pipe(hc())));return W(o).pipe(hc())}(t,i.path,n),function Bee(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>UF(()=>{const s=Nl(e)??n,a=dc(o,s);return _o(function xee(t){return t&&Pl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(ms())}));return W(i).pipe(hc())}(t,i.route,n))),ms(i=>!0!==i,!0))}(r,o,t,e):W(a)),be(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(o.guardsResult=c.guardsResult,ys(c.guardsResult))throw vL(0,c.guardsResult);const u=new JJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ni(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),xw(c=>{if(c.guards.canActivateChecks.length)return W(c).pipe(qt(u=>{const l=new eee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Lr(u=>{let l=!1;return W(u).pipe(function ote(t,e){return Vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=0;return At(i).pipe(wl(s=>function ste(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!NL(i)&&(o[El]=i.title),function ate(t,e,n,r){const i=function cte(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return W({});const o={};return At(i).pipe(Vt(s=>function ute(t,e,n,r){const i=Nl(e)??r,o=dc(t,i);return _o(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(ms(),qt(a=>{o[s]=a}))),lw(1),function IJ(t){return be(()=>t)}(o),gs(s=>DL(s)?Fr:bl(s)))}(o,t,e,r).pipe(be(s=>(t._resolvedData=s,t.data=mL(t,n).resolve,i&&NL(i)&&(t.data[El]=i.title),null)))}(s.route,r,t,e)),qt(()=>o++),lw(1),Vt(s=>o===i.length?W(n):Fr))})}(n.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),qt(u=>{const l=new tee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),xw(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(qt(h=>{l.component=h}),be(()=>{})));for(const h of l.children)d.push(...u(h));return d};return Ip(u(c.targetSnapshot.root)).pipe(Cp(),ps(1))}),xw(()=>this.afterPreactivation()),be(c=>{const u=function hee(t,e,n){const r=kl(t,e._root,n?n._root:void 0);return new fL(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),qt(()=>{this.events.next(new _w)}),((t,e,n,r)=>be(i=>(new Eee(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ps(1),qt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),zF(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),dw(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),gs(c=>{if(a=!0,wL(c))this.events.next(new xl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function mee(t){return wL(t)&&ys(t.url)}(c)?this.events.next(new yw(c.url)):o.resolve(!1);else{this.events.next(new Op(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return Fr}))}))}cancelNavigationTransition(n,r,i){const o=new xl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OL(t){return t!==Al}let PL=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[El]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return L(hte)},providedIn:"root"})}return t})(),hte=(()=>{class t extends PL{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(P(NF))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return L(mte)},providedIn:"root"})}return t})();class pte{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let mte=(()=>{class t extends pte{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $p=new N("",{providedIn:"root",factory:()=>({})});let gte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return L(_te)},providedIn:"root"})}return t})(),_te=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fl||{});function FL(t,e){t.events.pipe(Ni(n=>n instanceof yo||n instanceof xl||n instanceof Op||n instanceof uc),be(n=>n instanceof yo||n instanceof uc?Fl.COMPLETE:n instanceof xl&&(0===n.code||1===n.code)?Fl.REDIRECTING:Fl.FAILED),Ni(n=>n!==Fl.REDIRECTING),ps(1)).subscribe(()=>{e()})}function yte(t){throw t}function vte(t,e,n){return e.parse("/")}const bte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wte={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(hP),this.isNgZoneEnabled=!1,this._events=new rr,this.options=L($p,{optional:!0})||{},this.pendingTasks=L(fP),this.errorHandler=this.options.errorHandler||yte,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vte,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(gte),this.routeReuseStrategy=L(fte),this.titleStrategy=L(PL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(pc,{optional:!0})?.flat()??[],this.navigationTransitions=L(jp),this.urlSerializer=L(Dl),this.location=L(ml),this.componentInputBindingEnabled=!!L(Fp,{optional:!0}),this.eventsSubscription=new An,this.isNgZoneEnabled=L(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(LL(r)&&this._events.next(r));if(r instanceof Rp)OL(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof uc)this.rawUrlTree=i.rawUrl;else if(r instanceof lL){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof _w)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof xl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof yw){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OL(i.source)};this.scheduleNavigation(o,Al,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Op&&this.restoreHistory(i,!0),r instanceof yo&&(this.navigated=!0),LL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Al,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=rL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return iL(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ys(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Al,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ete(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...bte}:!1===r?{...wte}:r,ys(n))return KF(this.currentUrlTree,n,i);const o=this.parseUrl(n);return KF(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return FL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LL(t){return!(t instanceof _w||t instanceof yw)}let mc=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new rr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof yo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function bk(t,e,n){return function Z6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?vk:Jy}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(D(pr),D(vo),function Jh(t){return function _q(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(hM(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}($t(),t)}("tabindex"),D(Ii),D(Pn),D(fs))};static#t=this.\u0275dir=X({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Wr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",oc],skipLocationChange:["skipLocationChange","skipLocationChange",oc],replaceUrl:["replaceUrl","replaceUrl",oc],routerLink:"routerLink"},standalone:!0,features:[ON,cr]})}return t})();class VL{}let Tte=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(n=>n instanceof yo),wl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=sb(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return At(i).pipe(ha())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const o=i.pipe(Vt(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?At([o,this.loader.loadComponent(r)]).pipe(ha()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(P(pr),P(pP),P(lr),P(VL),P(Mw))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kw=new N("");let BL=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Rp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof uc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function aN(){throw new Error("invalid")}()};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Oi(t,e){return{\u0275kind:t,\u0275providers:e}}function jL(){const t=L(_n);return e=>{const n=t.get(ds);if(e!==n.components[0])return;const r=t.get(pr),i=t.get($L);1===t.get(Nw)&&r.initialNavigation(),t.get(HL,null,le.Optional)?.setUpPreloading(),t.get(kw,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $L=new N("",{factory:()=>new rr}),Nw=new N("",{providedIn:"root",factory:()=>1}),HL=new N("");function xte(t){return Oi(0,[{provide:HL,useExisting:Tte},{provide:VL,useExisting:t}])}const zL=new N("ROUTER_FORROOT_GUARD"),kte=[ml,{provide:Dl,useClass:hw},pr,Ml,{provide:vo,useFactory:function UL(t){return t.routerState.root},deps:[pr]},Mw,[]];function Nte(){return new wP("Router",pr)}let GL=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[kte,[],{provide:pc,multi:!0,useValue:n},{provide:zL,useFactory:Fte,deps:[[pr,new Rn,new nf]]},{provide:$p,useValue:r||{}},r?.useHash?{provide:fs,useClass:$Y}:{provide:fs,useClass:ZP},{provide:kw,useFactory:()=>{const t=L(uX),e=L(Ee),n=L($p),r=L(jp),i=L(Dl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new BL(i,r,t,e,n)}},r?.preloadingStrategy?xte(r.preloadingStrategy).\u0275providers:[],{provide:wP,multi:!0,useFactory:Nte},r?.initialNavigation?Lte(r):[],r?.bindToComponentInputs?Oi(8,[yL,{provide:Fp,useExisting:yL}]).\u0275providers:[],[{provide:qL,useFactory:jL},{provide:Ab,multi:!0,useExisting:qL}]]}}static forChild(n){return{ngModule:t,providers:[{provide:pc,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(P(zL,8))};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({})}return t})();function Fte(t){return"guarded"}function Lte(t){return["disabled"===t.initialNavigation?Oi(3,[{provide:bb,multi:!0,useFactory:()=>{const e=L(pr);return()=>{e.setUpLocationChangeListener()}}},{provide:Nw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Oi(2,[{provide:Nw,useValue:0},{provide:bb,multi:!0,deps:[_n],useFactory:e=>{const n=e.get(UY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(pr),o=e.get($L);FL(i,()=>{r(!0)}),e.get(jp).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const qL=new N("");let gc=(()=>{class t{constructor(){this.messages=[]}add(n){this.messages.push(n)}clear(){this.messages=[]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bte(t,e){if(1&t&&(ue(0,"div"),Ae(1),ce()),2&t){const n=e.$implicit;zt(1),fo(" ",n," ")}}function Ute(t,e){if(1&t){const n=qv();ue(0,"div")(1,"h2"),Ae(2,"Messages"),ce(),ue(3,"button",1),Le("click",function(){return ts(n),ns(Er().messageService.clear())}),Ae(4,"Clear messages"),ce(),lo(5,Bte,2,1,"div",2),ce()}if(2&t){const n=Er();zt(5),yn("ngForOf",n.messageService.messages)}}let jte=(()=>{class t{constructor(n){this.messageService=n}static#e=this.\u0275fac=function(r){return new(r||t)(D(gc))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-messages"]],decls:1,vars:1,consts:[[4,"ngIf"],["type","button",1,"clear",3,"click"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&lo(0,Ute,6,1,"div",0),2&r&&yn("ngIf",i.messageService.messages.length)},dependencies:[yp,vp]})}return t})(),$te=(()=>{class t{constructor(){this.title="angular-tour-of-heroes-luginbuv"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-root"]],decls:13,vars:1,consts:[["routerLink","/dashboard"],["routerLink","/heroes"],["routerLink","/weapons"]],template:function(r,i){1&r&&(ue(0,"h1"),Ae(1),ce(),ue(2,"h2"),Ae(3,"Navigation"),ce(),ue(4,"nav")(5,"a",0),Ae(6,"Dashboard"),ce(),ue(7,"a",1),Ae(8,"Heroes"),ce(),ue(9,"a",2),Ae(10,"Weapons"),ce()(),Si(11,"router-outlet")(12,"app-messages")),2&r&&(zt(1),Zv(i.title))},dependencies:[Dw,mc,jte]})}return t})(),WL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Ii),D(Pn))};static#t=this.\u0275dir=X({type:t})}return t})(),vs=(()=>{class t extends WL{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=X({type:t,features:[Se]})}return t})();const Jr=new N("NgValueAccessor"),Gte={provide:Jr,useExisting:Oe(()=>Ll),multi:!0},Wte=new N("CompositionEventMode");let Ll=(()=>{class t extends WL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qte(){const t=mo()?mo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Ii),D(Pn),D(Wte,8))};static#t=this.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ke([Gte]),Se]})}return t})();function bo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const rn=new N("NgValidators"),wo=new N("NgAsyncValidators");function Hp(t){return null}function i2(t){return null!=t}function o2(t){return nl(t)?At(t):t}function s2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function a2(t,e){return e.map(n=>n(t))}function c2(t){return t.map(e=>function Qte(t){return!t.validate}(e)?e:n=>e.validate(n))}function Rw(t){return null!=t?function u2(t){if(!t)return null;const e=t.filter(i2);return 0==e.length?null:function(n){return s2(a2(n,e))}}(c2(t)):null}function Ow(t){return null!=t?function l2(t){if(!t)return null;const e=t.filter(i2);return 0==e.length?null:function(n){return function Hte(...t){const e=Xx(t),{args:n,keys:r}=FF(t),i=new qe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;$n(n[l]).subscribe(at(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?VF(r,a):a),o.complete())}))}});return e?i.pipe(LF(e)):i}(a2(n,e).map(o2)).pipe(be(s2))}}(c2(t)):null}function d2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function h2(t){return t._rawValidators}function f2(t){return t._rawAsyncValidators}function Pw(t){return t?Array.isArray(t)?t:[t]:[]}function zp(t,e){return Array.isArray(t)?t.includes(e):t===e}function p2(t,e){const n=Pw(e);return Pw(t).forEach(i=>{zp(n,i)||n.push(i)}),n}function m2(t,e){return Pw(e).filter(n=>!zp(t,n))}class g2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class En extends g2{get formDirective(){return null}get path(){return null}}class Eo extends g2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fw=(()=>{class t extends _2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Eo,2))};static#t=this.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&zf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Se]})}return t})(),Lw=(()=>{class t extends _2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(En,10))};static#t=this.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&zf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Se]})}return t})();const Vl="VALID",qp="INVALID",_c="PENDING",Bl="DISABLED";function Uw(t){return(Wp(t)?t.validators:t)||null}function jw(t,e){return(Wp(e)?e.asyncValidators:t)||null}function Wp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class w2{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vl}get invalid(){return this.status===qp}get pending(){return this.status==_c}get disabled(){return this.status===Bl}get enabled(){return this.status!==Bl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(p2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(p2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(m2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(m2(e,this._rawAsyncValidators))}hasValidator(e){return zp(this._rawValidators,e)}hasAsyncValidator(e){return zp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_c,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vl||this.status===_c)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bl:Vl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_c,this._hasOwnPendingAsyncValidator=!0;const n=o2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Bl:this.errors?qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_c)?_c:this._anyControlsHaveStatus(qp)?qp:Vl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Jte(t){return Array.isArray(t)?Rw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ene(t){return Array.isArray(t)?Ow(t):t||null}(this._rawAsyncValidators)}}class Ul extends w2{constructor(e,n,r){super(Uw(n),jw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function b2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new E(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function v2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bs=new N("CallSetDisabledState",{providedIn:"root",factory:()=>jl}),jl="always";function $l(t,e,n=jl){$w(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function rne(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&E2(t,e)})}(t,e),function one(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ine(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&E2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nne(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Qp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Yp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $w(t,e){const n=h2(t);null!==e.validator?t.setValidators(d2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=f2(t);null!==e.asyncValidator?t.setAsyncValidators(d2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Yp(e._rawValidators,i),Yp(e._rawAsyncValidators,i)}function Zp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=h2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=f2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Yp(e._rawValidators,r),Yp(e._rawAsyncValidators,r),n}function E2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function T2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function C2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xr=class extends w2{constructor(e=null,n,r){super(Uw(n),jw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=C2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){T2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){T2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){C2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ww=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const pne={provide:Jr,useExisting:Oe(()=>Xp),multi:!0};let Xp=(()=>{class t extends vs{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=X({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ke([pne]),Se]})}return t})(),k2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({})}return t})();const Kw=new N("NgModelWithFormControlWarning"),vne={provide:En,useExisting:Oe(()=>zl)};let zl=(()=>{class t extends En{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return $l(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Qp(n.control||null,n,!1),function une(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function D2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Qp(r||null,n),(t=>t instanceof xr)(i)&&($l(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function I2(t,e){$w(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function sne(t,e){return Zp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$w(this.form,this),this._oldForm&&Zp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(D(rn,10),D(wo,10),D(bs,8))};static#t=this.\u0275dir=X({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([vne]),Se,cr]})}return t})();const Ene={provide:Eo,useExisting:Oe(()=>Jp)};let Jp=(()=>{class t extends Eo{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new tt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Gw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ll?n=o:function cne(t){return Object.getPrototypeOf(t.constructor)===vs}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function zw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Kp(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(D(En,13),D(rn,10),D(wo,10),D(Jr,10),D(Kw,8))};static#n=this.\u0275dir=X({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ke([Ene]),Se,cr]})}return t})();function B2(t){return"number"==typeof t?t:parseFloat(t)}let ws=(()=>{class t{constructor(){this._validator=Hp}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=X({type:t,features:[cr]})}return t})();const xne={provide:rn,useExisting:Oe(()=>em),multi:!0};let em=(()=>{class t extends ws{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>B2(n),this.createValidator=n=>function ZL(t){return e=>{if(bo(e.value)||bo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=X({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Wr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ke([xne]),Se]})}return t})();const Mne={provide:rn,useExisting:Oe(()=>tm),multi:!0};let tm=(()=>{class t extends ws{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>B2(n),this.createValidator=n=>function YL(t){return e=>{if(bo(e.value)||bo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ht(t)))(i||t)}}();static#t=this.\u0275dir=X({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Wr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ke([Mne]),Se]})}return t})(),G2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[k2]})}return t})(),Vne=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bs,useValue:n.callSetDisabledState??jl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[G2]})}return t})(),Bne=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Kw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:bs,useValue:n.callSetDisabledState??jl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[G2]})}return t})();const q2=[{id:12,name:"Dr. Nice",attack:1,defense:1,health:1,dash:1,experience:40},{id:13,name:"Narco",attack:1,defense:1,health:1,dash:1,experience:40},{id:14,name:"Bombasto",attack:1,defense:1,health:1,dash:1,experience:40},{id:15,name:"Celeritas",attack:1,defense:1,health:1,dash:1,experience:40},{id:16,name:"Magneta",attack:1,defense:1,health:1,dash:1,experience:40}];let e0=(()=>{class t{constructor(n){this.messageService=n}getHeroes(){const n=W(q2);return this.messageService.add("HeroService: fetched heroes"),n}getHero(n){const r=q2.find(i=>i.id===n);return this.messageService.add(`HeroService: fetched hero id=${n}`),W(r)}static#e=this.\u0275fac=function(r){return new(r||t)(P(gc))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Une(t,e){if(1&t&&(ue(0,"a",1),Ae(1),ce()),2&t){const n=e.$implicit;rl("routerLink","/hero/detail/",n.id,""),zt(1),fo(" ",n.name,"\n")}}let jne=(()=>{class t{constructor(n){this.heroService=n,this.heroes=[]}ngOnInit(){this.getHeroes()}getHeroes(){this.heroService.getHeroes().subscribe(n=>this.heroes=n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(e0))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-heroes"]],decls:1,vars:1,consts:[[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,i){1&r&&lo(0,Une,2,2,"a",0),2&r&&yn("ngForOf",i.heroes)},dependencies:[yp,mc]})}return t})(),$ne=(()=>{class t{constructor(n){this.heroService=n,this.heroes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(D(e0))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}})}return t})(),Hne=(()=>{class t{constructor(n){this.messageService=n,this.attack=0,this.defense=0,this.dash=0,this.health=0,this.experience=0,this.skillsForms=new Ul({name:new xr(""),attack:new xr(1),defense:new xr(1),dash:new xr(1),health:new xr(1)})}ngOnInit(){this.hero&&(this.skillsForms.patchValue({name:this.hero.name,attack:this.hero.attack,dash:this.hero.dash,defense:this.hero.defense,health:this.hero.health}),this.attack=this.hero.attack,this.defense=this.hero.defense,this.dash=this.hero.dash,this.health=this.hero.health,this.experience=this.hero.experience-this.attack-this.defense-this.dash-this.health)}changeExp(){this.attack=this.skillsForms.value.attack||1,this.defense=this.skillsForms.value.defense||1,this.dash=this.skillsForms.value.dash||1,this.health=this.skillsForms.value.health||1,this.hero&&(this.experience=this.hero.experience-this.attack-this.defense-this.dash-this.health)}onSubmit(){if(console.warn(this.skillsForms.value),this.hero){const n=this.skillsForms.value.name||"Sans nom",r=this.skillsForms.value.attack||1,i=this.skillsForms.value.defense||1,o=this.skillsForms.value.dash||1,s=this.skillsForms.value.health||1;r+i+o+s==this.hero.experience?(this.hero.attack=r,this.hero.defense=i,this.hero.dash=o,this.hero.health=s,this.hero.name=n):this.messageService.add("Vous n'avez pas utilis\xe9 tous vos points d'exp\xe9rience")}}static#e=this.\u0275fac=function(r){return new(r||t)(D(gc))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-profile-editor"]],inputs:{hero:"hero"},decls:20,vars:3,consts:[[2,"display","flex","flex-direction","column","width","200px",3,"formGroup","ngSubmit"],["for","name"],["id","name","type","text","formControlName","name"],["id","name","type","number","formControlName","health","max","37","min","1",3,"click"],["for","first-name"],["id","first-name","type","number","formControlName","attack","max","37","min","1",3,"click"],["for","last-name"],["id","last-name","type","number","formControlName","defense","max","37","min","1",3,"click"],["for","email"],["id","email","type","number","formControlName","dash","max","37","min","1",3,"click"],["type","submit",3,"disabled","click"]],template:function(r,i){1&r&&(ue(0,"form",0),Le("ngSubmit",function(){return i.onSubmit()}),ue(1,"label",1),Ae(2,"Name: "),ce(),Si(3,"input",2),ue(4,"label",1),Ae(5,"Health: "),ce(),ue(6,"input",3),Le("click",function(){return i.changeExp()}),ce(),ue(7,"label",4),Ae(8,"Attack: "),ce(),ue(9,"input",5),Le("click",function(){return i.changeExp()}),ce(),ue(10,"label",6),Ae(11,"Defense: "),ce(),ue(12,"input",7),Le("click",function(){return i.changeExp()}),ce(),ue(13,"label",8),Ae(14,"Dash: "),ce(),ue(15,"input",9),Le("click",function(){return i.changeExp()}),ce()(),ue(16,"p"),Ae(17),ce(),ue(18,"button",10),Le("click",function(){return i.onSubmit()}),Ae(19,"Save"),ce()),2&r&&(yn("formGroup",i.skillsForms),zt(17),fo("Experience left: ",i.experience,""),zt(1),yn("disabled",!i.skillsForms.valid))},dependencies:[Ww,Ll,Xp,Fw,Lw,tm,em,zl,Jp]})}return t})();function zne(t,e){if(1&t&&(ue(0,"div")(1,"h2"),Ae(2),ce(),Si(3,"app-profile-editor",2),ce()),2&t){const n=Er();zt(2),qf("",n.hero.name," ",n.hero.id,""),zt(1),yn("hero",n.hero)}}let Gne=(()=>{class t{constructor(n,r,i){this.route=n,this.heroService=r,this.location=i}ngOnInit(){this.getHero()}getHero(){const n=Number(this.route.snapshot.paramMap.get("id"));this.heroService.getHero(n).subscribe(r=>this.hero=r)}goBack(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(D(vo),D(e0),D(ml))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-hero-detail"]],inputs:{hero:"hero"},decls:3,vars:1,consts:[["type","button",3,"click"],[4,"ngIf"],[3,"hero"]],template:function(r,i){1&r&&(ue(0,"button",0),Le("click",function(){return i.goBack()}),Ae(1,"go back"),ce(),lo(2,zne,4,3,"div",1)),2&r&&(zt(2),yn("ngIf",i.hero))},dependencies:[vp,Hne]})}return t})();function W2(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){W2(o,r,i,s,a,"next",c)}function a(c){W2(o,r,i,s,a,"throw",c)}s(void 0)})}}const K2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new Qne;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nm=function(t){return function(t){const e=K2(t);return n0.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rm=function(t){try{return n0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},im=()=>{try{return function Xne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rm(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Y2=()=>{var t;return null===(t=im())||void 0===t?void 0:t.config};class om{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function r0(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Es(){try{return"object"==typeof indexedDB}catch{return!1}}function Gl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function o0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function lre(t,e){return t.replace(dre,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Mr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const dre=/\{\$([^}]+)}/g;function s0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(X2(o)&&X2(s)){if(!s0(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X2(t){return null!==t&&"object"==typeof t}function J2(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class fre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function pre(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=a0),void 0===i.error&&(i.error=a0),void 0===i.complete&&(i.complete=a0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a0(){}const mre=1e3,gre=2,_re=144e5,yre=.5;function u0(t,e=mre,n=gre){const r=e*Math.pow(n,t),i=Math.round(yre*r*(Math.random()-.5)*2);return Math.min(_re,r+i)}function In(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Is="[DEFAULT]";class bre{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new om;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ere(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Is?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ire{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const l0=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const eV={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Dre=ye.INFO,Tre={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Cre=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Tre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class yc{constructor(e){this.name=e,this._logLevel=Dre,this._logHandler=Cre,this._userLogHandler=null,l0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Sre=(t,e)=>e.some(n=>t instanceof n);let tV,nV;const rV=new WeakMap,d0=new WeakMap,iV=new WeakMap,h0=new WeakMap,f0=new WeakMap;let p0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return d0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||iV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ore(t){return"function"==typeof t?function Rre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xre(){return nV||(nV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(m0(this),e),Io(rV.get(this))}:function(...e){return Io(t.apply(m0(this),e))}:function(e,...n){const r=t.call(m0(this),e,...n);return iV.set(r,e.sort?e.sort():[e]),Io(r)}}(t):(t instanceof IDBTransaction&&function kre(t){if(d0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});d0.set(t,e)}(t),Sre(t,function Are(){return tV||(tV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,p0):t)}function Io(t){if(t instanceof IDBRequest)return function Mre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Io(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rV.set(n,t)}).catch(()=>{}),f0.set(e,t),e}(t);if(h0.has(t))return h0.get(t);const e=Ore(t);return e!==t&&(h0.set(t,e),f0.set(e,t)),e}const m0=t=>f0.get(t),Fre=["get","getKey","getAll","getAllKeys","count"],Lre=["put","add","delete","clear"],g0=new Map;function oV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(g0.get(e))return g0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fre.includes(n))return;const o=function(){var s=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return g0.set(e,o),o}!function Nre(t){p0=t(p0)}(t=>({...t,get:(e,n,r)=>oV(e,n)||t.get(e,n,r),has:(e,n)=>!!oV(e,n)||t.has(e,n)}));class Vre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Bre(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const _0="@firebase/app",Ds=new yc("@firebase/app"),am="[DEFAULT]",die={[_0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ts=new Map,cm=new Map;function hie(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(cm.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of Ts.values())hie(n,t);return!0}function um(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Pi=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const ql="9.23.0";function aV(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=Y2()),!n)throw Pi.create("no-options");const o=Ts.get(i);if(o){if(s0(n,o.options)&&s0(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}const s=new Ire(i);for(const c of cm.values())s.addComponent(c);const a=new pie(n,r,s);return Ts.set(i,a),a}function cV(t=am){const e=Ts.get(t);if(!e&&t===am&&Y2())return aV();if(!e)throw Pi.create("no-app",{appName:t});return e}function uV(){return Array.from(Ts.values())}function dt(t,e,n){var r;let i=null!==(r=die[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ds.warn(a.join(" "))}Dn(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mie="firebase-heartbeat-database",gie=1,Wl="firebase-heartbeat-store";let v0=null;function lV(){return v0||(v0=function Pre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Io(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Io(s.result),c.oldVersion,c.newVersion,Io(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(mie,gie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wl)}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),v0}function b0(){return(b0=y(function*(t){try{return yield(yield lV()).transaction(Wl).objectStore(Wl).get(hV(t))}catch(e){if(e instanceof Mr)Ds.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}})).apply(this,arguments)}function dV(t,e){return w0.apply(this,arguments)}function w0(){return(w0=y(function*(t,e){try{const r=(yield lV()).transaction(Wl,"readwrite");yield r.objectStore(Wl).put(e,hV(t)),yield r.done}catch(n){if(n instanceof Mr)Ds.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(r.message)}}})).apply(this,arguments)}function hV(t){return`${t.name}!${t.options.appId}`}class bie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Eie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=fV(),{heartbeatsToSend:r,unsentEntries:i}=function wie(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=nm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function fV(){return(new Date).toISOString().substring(0,10)}class Eie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Es()&&Gl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function _ie(t){return b0.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return dV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return dV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function pV(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}!function Iie(t){Dn(new on("platform-logger",e=>new Vre(e),"PRIVATE")),Dn(new on("heartbeat",e=>new bie(e),"PRIVATE")),dt(_0,"0.9.13",t),dt(_0,"0.9.13","esm2017"),dt("fire-js","")}(""),dt("firebase","9.23.0","app");const Cie=(t,e)=>e.some(n=>t instanceof n);let mV,gV;const _V=new WeakMap,E0=new WeakMap,yV=new WeakMap,I0=new WeakMap,D0=new WeakMap;let T0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return E0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||yV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Do(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Rie(t){return"function"==typeof t?function Nie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Aie(){return gV||(gV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(C0(this),e),Do(_V.get(this))}:function(...e){return Do(t.apply(C0(this),e))}:function(e,...n){const r=t.call(C0(this),e,...n);return yV.set(r,e.sort?e.sort():[e]),Do(r)}}(t):(t instanceof IDBTransaction&&function Mie(t){if(E0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});E0.set(t,e)}(t),Cie(t,function Sie(){return mV||(mV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,T0):t)}function Do(t){if(t instanceof IDBRequest)return function xie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Do(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_V.set(n,t)}).catch(()=>{}),D0.set(e,t),e}(t);if(I0.has(t))return I0.get(t);const e=Rie(t);return e!==t&&(I0.set(t,e),D0.set(e,t)),e}const C0=t=>D0.get(t),Pie=["get","getKey","getAll","getAllKeys","count"],Fie=["put","add","delete","clear"],S0=new Map;function vV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(S0.get(e))return S0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pie.includes(n))return;const o=function(){var s=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return S0.set(e,o),o}!function kie(t){T0=t(T0)}(t=>({...t,get:(e,n,r)=>vV(e,n)||t.get(e,n,r),has:(e,n)=>!!vV(e,n)||t.has(e,n)}));const bV="@firebase/installations",A0="0.6.4",wV=1e4,EV=`w:${A0}`,IV="FIS_v2",Lie="https://firebaseinstallations.googleapis.com/v1",Vie=36e5,Fi=new ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function DV(t){return t instanceof Mr&&t.code.includes("request-failed")}function x0({projectId:t}){return`${Lie}/projects/${t}/installations`}function TV(t){return{token:t.token,requestStatus:2,expiresIn:$ie(t.expiresIn),creationTime:Date.now()}}function M0(t,e){return k0.apply(this,arguments)}function k0(){return(k0=y(function*(t,e){const r=(yield e.json()).error;return Fi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function CV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N0(t){return R0.apply(this,arguments)}function R0(){return(R0=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function $ie(t){return Number(t.replace("s","000"))}function O0(){return(O0=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=x0(t),i=CV(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:IV,appId:t.appId,sdkVersion:EV})},c=yield N0(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:TV(u.authToken)}}throw yield M0("Create Installation",c)})).apply(this,arguments)}function AV(t){return new Promise(e=>{setTimeout(e,t)})}const qie=/^[cdef][\w-]{21}$/,P0="";function Wie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Kie(t){return function Gie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return qie.test(n)?n:P0}catch{return P0}}function vc(t){return`${t.appName}!${t.appId}`}const bc=new Map;function xV(t,e){const n=vc(t);MV(n,e),function Zie(t,e){const n=function kV(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=t=>{MV(t.data.key,t.data.fid)}),Cs}();n&&n.postMessage({key:t,fid:e}),function NV(){0===bc.size&&Cs&&(Cs.close(),Cs=null)}()}(n,e)}function MV(t,e){const n=bc.get(t);if(n)for(const r of n)r(e)}let Cs=null;const Xie="firebase-installations-database",Jie=1,Ss="firebase-installations-store";let F0=null;function L0(){return F0||(F0=function Oie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Do(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Do(s.result),c.oldVersion,c.newVersion,Do(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Xie,Jie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ss)}})),F0}function lm(t,e){return V0.apply(this,arguments)}function V0(){return(V0=y(function*(t,e){const n=vc(t),i=(yield L0()).transaction(Ss,"readwrite"),o=i.objectStore(Ss),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&xV(t,e.fid),e})).apply(this,arguments)}function B0(t){return U0.apply(this,arguments)}function U0(){return(U0=y(function*(t){const e=vc(t),r=(yield L0()).transaction(Ss,"readwrite");yield r.objectStore(Ss).delete(e),yield r.done})).apply(this,arguments)}function Kl(t,e){return j0.apply(this,arguments)}function j0(){return(j0=y(function*(t,e){const n=vc(t),i=(yield L0()).transaction(Ss,"readwrite"),o=i.objectStore(Ss),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&xV(t,a.fid),a})).apply(this,arguments)}function $0(t){return H0.apply(this,arguments)}function H0(){return H0=y(function*(t){let e;const n=yield Kl(t.appConfig,r=>{const i=function eoe(t){return OV(t||{fid:Wie(),registrationStatus:0})}(r),o=function toe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Fi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function noe(t,e){return z0.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:roe(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===P0?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),H0.apply(this,arguments)}function z0(){return z0=y(function*(t,e){try{const n=yield function zie(t,e){return O0.apply(this,arguments)}(t,e);return lm(t.appConfig,n)}catch(n){throw DV(n)&&409===n.customData.serverCode?yield B0(t.appConfig):yield lm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),z0.apply(this,arguments)}function roe(t){return G0.apply(this,arguments)}function G0(){return(G0=y(function*(t){let e=yield RV(t.appConfig);for(;1===e.registrationStatus;)yield AV(100),e=yield RV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $0(t);return r||n}return e})).apply(this,arguments)}function RV(t){return Kl(t,e=>{if(!e)throw Fi.create("installation-not-found");return OV(e)})}function OV(t){return function ioe(t){return 1===t.registrationStatus&&t.registrationTime+wV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function q0(){return(q0=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function soe(t,{fid:e}){return`${x0(t)}/${e}/authTokens:generate`}(t,n),i=function SV(t,{refreshToken:e}){const n=CV(t);return n.append("Authorization",function Hie(t){return`${IV} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:EV,appId:t.appId}})},c=yield N0(()=>fetch(r,a));if(c.ok)return TV(yield c.json());throw yield M0("Generate Auth Token",c)})).apply(this,arguments)}function W0(t){return K0.apply(this,arguments)}function K0(){return K0=y(function*(t,e=!1){let n;const r=yield Kl(t.appConfig,o=>{if(!FV(o))throw Fi.create("not-registered");const s=o.authToken;if(!e&&function uoe(t){return 2===t.requestStatus&&!function loe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Vie}(t)}(s))return o;if(1===s.requestStatus)return n=function aoe(t,e){return Q0.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Fi.create("app-offline");const a=function doe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function coe(t,e){return Y0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),K0.apply(this,arguments)}function Q0(){return(Q0=y(function*(t,e){let n=yield PV(t.appConfig);for(;1===n.authToken.requestStatus;)yield AV(100),n=yield PV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?W0(t,e):r})).apply(this,arguments)}function PV(t){return Kl(t,e=>{if(!FV(e))throw Fi.create("not-registered");return function hoe(t){return 1===t.requestStatus&&t.requestTime+wV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Y0(){return Y0=y(function*(t,e){try{const n=yield function ooe(t,e){return q0.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield lm(t.appConfig,r),n}catch(n){if(!DV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield lm(t.appConfig,r)}else yield B0(t.appConfig);throw n}}),Y0.apply(this,arguments)}function FV(t){return void 0!==t&&2===t.registrationStatus}function Z0(){return(Z0=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $0(e);return r?r.catch(console.error):W0(e).catch(console.error),n.fid})).apply(this,arguments)}function X0(){return X0=y(function*(t,e=!1){const n=t;return yield function moe(t){return J0.apply(this,arguments)}(n),(yield W0(n,e)).token}),X0.apply(this,arguments)}function J0(){return(J0=y(function*(t){const{registrationPromise:e}=yield $0(t);e&&(yield e)})).apply(this,arguments)}function nE(t){return Fi.create("missing-app-config-values",{valueName:t})}const LV="installations",boe=t=>{const e=t.getProvider("app").getImmediate(),n=function yoe(t){if(!t||!t.options)throw nE("App Configuration");if(!t.name)throw nE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:um(e,"heartbeat"),_delete:()=>Promise.resolve()}},woe=t=>{const n=um(t.getProvider("app").getImmediate(),LV).getImmediate();return{getId:()=>function foe(t){return Z0.apply(this,arguments)}(n),getToken:i=>function poe(t){return X0.apply(this,arguments)}(n,i)}};(function Eoe(){Dn(new on(LV,boe,"PUBLIC")),Dn(new on("installations-internal",woe,"PRIVATE"))})(),dt(bV,A0),dt(bV,A0,"esm2017");const rE="@firebase/remote-config",Vn=new ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Roe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Ooe(t=navigator){return t.languages&&t.languages[0]||t.language}class Poe{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Ooe()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",_(I)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Vn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Vn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Vn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Voe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function Foe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Loe(t){if(!(t instanceof Mr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+u0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class joe{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hm(t,e){const n=t.target.error||void 0;return Vn.create(e,{originalErrorMessage:n&&n?.message})}const As="app_namespace_store";class Goe{constructor(e,n,r,i=function zoe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(hm(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(As,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([As],"readonly").objectStore(As),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(hm(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(Vn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([As],"readwrite").objectStore(As),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(hm(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Vn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([As],"readwrite").objectStore(As),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(hm(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Vn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class qoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Koe(){return cE.apply(this,arguments)}function cE(){return(cE=y(function*(){if(!Es())return!1;try{return yield Gl()}catch{return!1}})).apply(this,arguments)}!function Woe(){Dn(new on("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!Es())throw Vn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Vn.create("registration-project-id");if(!s)throw Vn.create("registration-api-key");if(!a)throw Vn.create("registration-app-id");const c=new Goe(a,r.name,n=n||"firebase"),u=new qoe(c),l=new yc(rE);l.logLevel=ye.ERROR;const d=new Poe(i,ql,n,o,s,a),h=new Voe(d,c),f=new Roe(h,c,u,l),p=new joe(r,f,u,c,l);return function Moe(t){const e=In(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),dt(rE,"0.4.4"),dt(rE,"0.4.4","esm2017")}();const Qoe=(t,e)=>e.some(n=>t instanceof n);let jV,$V;const HV=new WeakMap,uE=new WeakMap,zV=new WeakMap,lE=new WeakMap,dE=new WeakMap;let hE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||zV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nse(t){return"function"==typeof t?function tse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zoe(){return $V||($V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fE(this),e),Li(HV.get(this))}:function(...e){return Li(t.apply(fE(this),e))}:function(e,...n){const r=t.call(fE(this),e,...n);return zV.set(r,e.sort?e.sort():[e]),Li(r)}}(t):(t instanceof IDBTransaction&&function Joe(t){if(uE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});uE.set(t,e)}(t),Qoe(t,function Yoe(){return jV||(jV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hE):t)}function Li(t){if(t instanceof IDBRequest)return function Xoe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Li(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&HV.set(n,t)}).catch(()=>{}),dE.set(e,t),e}(t);if(lE.has(t))return lE.get(t);const e=nse(t);return e!==t&&(lE.set(t,e),dE.set(e,t)),e}const fE=t=>dE.get(t);function GV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Li(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Li(s.result),c.oldVersion,c.newVersion,Li(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function pE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Li(n).then(()=>{})}const rse=["get","getKey","getAll","getAllKeys","count"],ise=["put","add","delete","clear"],mE=new Map;function qV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mE.get(e))return mE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ise.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rse.includes(n))return;const o=function(){var s=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return mE.set(e,o),o}!function ese(t){hE=t(hE)}(t=>({...t,get:(e,n,r)=>qV(e,n)||t.get(e,n,r),has:(e,n)=>!!qV(e,n)||t.has(e,n)}));const ose="/firebase-messaging-sw.js",sse="/firebase-cloud-messaging-push-scope",WV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ase="https://fcmregistrations.googleapis.com/v1",KV="google.c.a.c_id",cse="google.c.a.c_l",use="google.c.a.ts";var fm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(fm||{});function Vi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hse(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const gE="fcm_token_details_db",fse=5,QV="fcm_token_object_Store";function _E(){return _E=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(gE))return null;let e=null;return(yield GV(gE,fse,{upgrade:(r=y(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(QV))return;const u=a.objectStore(QV),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Vi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield pE(gE),yield pE("fcm_vapid_details_db"),yield pE("undefined"),function mse(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),_E.apply(this,arguments)}const gse="firebase-messaging-database",_se=1,xs="firebase-messaging-store";let yE=null;function vE(){return yE||(yE=GV(gse,_se,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xs)}})),yE}function YV(t){return bE.apply(this,arguments)}function bE(){return bE=y(function*(t){const e=DE(t),r=yield(yield vE()).transaction(xs).objectStore(xs).get(e);if(r)return r;{const i=yield function pse(t){return _E.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield wE(t,i),i}}),bE.apply(this,arguments)}function wE(t,e){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(t,e){const n=DE(t),i=(yield vE()).transaction(xs,"readwrite");return yield i.objectStore(xs).put(e,n),yield i.done,e})).apply(this,arguments)}function IE(){return(IE=y(function*(t){const e=DE(t),r=(yield vE()).transaction(xs,"readwrite");yield r.objectStore(xs).delete(e),yield r.done})).apply(this,arguments)}function DE({appConfig:t}){return t.appId}const Wt=new ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bse(t,e){return TE.apply(this,arguments)}function TE(){return(TE=y(function*(t,e){const n=yield xE(t),r=XV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(AE(t.appConfig),i)).json()}catch(s){throw Wt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Wt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Wt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function CE(){return(CE=y(function*(t,e){const n=yield xE(t),r=XV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${AE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Wt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Wt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Wt.create("token-update-no-token");return o.token})).apply(this,arguments)}function ZV(t,e){return SE.apply(this,arguments)}function SE(){return(SE=y(function*(t,e){const r={method:"DELETE",headers:yield xE(t)};try{const o=yield(yield fetch(`${AE(t.appConfig)}/${e}`,r)).json();if(o.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function AE({projectId:t}){return`${ase}/projects/${t}/registrations`}function xE(t){return ME.apply(this,arguments)}function ME(){return(ME=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function XV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==WV&&(i.web.applicationPubKey=r),i}const Ese=6048e5;function kE(){return kE=y(function*(t){const e=yield function Tse(t,e){return PE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Vi(e.getKey("auth")),p256dh:Vi(e.getKey("p256dh"))},r=yield YV(t.firebaseDependencies);if(r){if(function Cse(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Ese?function Dse(t,e){return RE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ZV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return eB(t.firebaseDependencies,n)}return eB(t.firebaseDependencies,n)}),kE.apply(this,arguments)}function NE(){return NE=y(function*(t){const e=yield YV(t.firebaseDependencies);e&&(yield ZV(t.firebaseDependencies,e.token),yield function yse(t){return IE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),NE.apply(this,arguments)}function RE(){return RE=y(function*(t,e){try{const n=yield function wse(t,e){return CE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield wE(t.firebaseDependencies,r),n}catch(n){throw yield function JV(t){return NE.apply(this,arguments)}(t),n}}),RE.apply(this,arguments)}function eB(t,e){return OE.apply(this,arguments)}function OE(){return(OE=y(function*(t,e){const r={token:yield bse(t,e),createTime:Date.now(),subscriptionOptions:e};return yield wE(t,r),r.token})).apply(this,arguments)}function PE(){return(PE=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hse(e)})})).apply(this,arguments)}function tB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Sse(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function Ase(t,e){e.data&&(t.data=e.data)}(e,t),function xse(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function nB(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function FE(t){return Wt.create("missing-app-config-values",{valueName:t})}nB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nse{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function kse(t){if(!t||!t.options)throw FE("App Configuration Object");if(!t.name)throw FE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw FE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function LE(){return(LE=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(ose,{scope:sse}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function VE(){return(VE=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function rB(t){return LE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function BE(){return(BE=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=WV)})).apply(this,arguments)}function UE(){return UE=y(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield function Ose(t,e){return BE.apply(this,arguments)}(t,e?.vapidKey),yield function Rse(t,e){return VE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Ise(t){return kE.apply(this,arguments)}(t)}),UE.apply(this,arguments)}function jE(){return(jE=y(function*(t,e,n){const r=function Fse(t){switch(t){case fm.NOTIFICATION_CLICKED:return"notification_open";case fm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[KV],message_name:n[cse],message_time:n[use],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $E(){return $E=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===fm.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(tB(n)):t.onMessageHandler.next(tB(n)));const r=n.data;(function Mse(t){return"object"==typeof t&&!!t&&KV in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Pse(t,e,n){return jE.apply(this,arguments)}(t,n.messageType,r))}),$E.apply(this,arguments)}const oB="@firebase/messaging",Vse=t=>{const e=new Nse(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Lse(t,e){return $E.apply(this,arguments)}(e,n)),e},Bse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function iB(t,e){return UE.apply(this,arguments)}(e,r)}};function aB(){return HE.apply(this,arguments)}function HE(){return(HE=y(function*(){try{yield Gl()}catch{return!1}return typeof window<"u"&&Es()&&o0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Use(){Dn(new on("messaging",Vse,"PUBLIC")),Dn(new on("messaging-internal",Bse,"PRIVATE")),dt(oB,"0.12.4"),dt(oB,"0.12.4","esm2017")}();const pm="analytics",Hse="firebase_id",zse="origin",Gse=6e4,qse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qE="https://www.googletagmanager.com/gtag/js",Mt=new yc("@firebase/analytics"),Tn=new ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kse(t){if(!t.startsWith(qE)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function cB(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WE(){return(WE=y(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield cB(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Mt.error(a)}t("config",i,o)})).apply(this,arguments)}function KE(){return(KE=y(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield cB(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Mt.error(o)}})).apply(this,arguments)}const rae=30,uB=new class oae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function sae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function QE(){return(QE=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:sae(r)},o=qse.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function YE(){return(YE=y(function*(t,e=uB,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Tn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new dae;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:Gse),lB({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function lB(t,e,n){return ZE.apply(this,arguments)}function ZE(){return ZE=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uB){var o;const{appId:s,measurementId:a}=t;try{yield function uae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function aae(t){return QE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function lae(t){if(!(t instanceof Mr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?u0(n,i.intervalMillis,rae):u0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Mt.debug(`Calling attemptFetch again in ${l} millis`),lB(t,d,r,i)}}),ZE.apply(this,arguments)}class dae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let XE,oI;function JE(){return(JE=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function sI(){return(sI=y(function*(){if(!Es())return Mt.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Gl()}catch(t){return Mt.warn(Tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function aI(){return aI=y(function*(t,e,n,r,i,o,s){var a;const c=function cae(t){return YE.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(c);const u=function yae(){return sI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function nae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qE)&&n.src.includes(t))return n;return null})(o)||function Yse(t,e){const n=function Qse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Kse}),r=document.createElement("script"),i=`${qE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),oI&&(i("consent","default",oI),function dB(t){oI=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[zse]="firebase",h.update=!0,null!=d&&(h[Hse]=d),i("config",l.measurementId,h),XE&&(i("set",XE),function hB(t){XE=t}(void 0)),l.measurementId}),aI.apply(this,arguments)}class bae{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},fB=[];const pB={};let gB,ni,mm="dataLayer",cI=!1;function Eae(t,e,n){!function wae(){const t=[];if(r0()&&t.push("This is a browser extension environment."),o0()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Tn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw Tn.create("already-exists",{id:r});if(!cI){!function Zse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mm);const{wrappedGtag:o,gtagCore:s}=function tae(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function eae(t,e,n,r){function o(){return o=y(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function Jse(t,e,n,r,i){return KE.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Xse(t,e,n,r,i,o){return WE.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Mt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(ti,fB,pB,mm,"gtag");ni=o,gB=s,cI=!0}return ti[r]=function vae(t,e,n,r,i,o,s){return aI.apply(this,arguments)}(t,fB,pB,e,gB,mm,n),new bae(t)}function Dae(){return uI.apply(this,arguments)}function uI(){return(uI=y(function*(){if(r0()||!o0()||!Es())return!1;try{return yield Gl()}catch{return!1}})).apply(this,arguments)}const _B="@firebase/analytics";!function Cae(){Dn(new on(pm,(e,{options:n})=>Eae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Dn(new on("analytics-internal",function t(e){try{const n=e.getProvider(pm).getImmediate();return{logEvent:(r,i,o)=>function Tae(t,e,n,r){t=In(t),function hae(t,e,n,r,i){return JE.apply(this,arguments)}(ni,ti[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}(n,r,i,o)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),dt(_B,"0.10.0"),dt(_B,"0.10.0","esm2017")}();class Sae extends An{constructor(e,n){super()}schedule(e,n=0){return this}}const gm={setInterval(t,e,...n){const{delegate:r}=gm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=gm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class vB extends Sae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return gm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&gm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,da(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const bB={now:()=>(bB.delegate||Date).now(),delegate:void 0};class Ql{constructor(e,n=Ql.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ql.now=bB.now;class wB extends Ql{constructor(e,n=Ql.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Mae=new class xae extends wB{}(class Aae extends vB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),EB=new wB(vB),dI=new uo("7.6.1"),hI="__angularfire_symbol__analyticsIsSupportedValue",fI="__angularfire_symbol__analyticsIsSupported",pI="__angularfire_symbol__remoteConfigIsSupportedValue",mI="__angularfire_symbol__remoteConfigIsSupported",gI="__angularfire_symbol__messagingIsSupportedValue",_I="__angularfire_symbol__messagingIsSupported";globalThis[fI]||(globalThis[fI]=Dae().then(t=>globalThis[hI]=t).catch(()=>globalThis[hI]=!1)),globalThis[_I]||(globalThis[_I]=aB().then(t=>globalThis[gI]=t).catch(()=>globalThis[gI]=!1)),globalThis[mI]||(globalThis[mI]=Koe().then(t=>globalThis[pI]=t).catch(()=>globalThis[pI]=!1));const bI=(t,e)=>{const n=e?[e]:uV(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function wc(){}class IB{constructor(e,n=Mae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class kae{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)),n.pipe(qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let DB=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new IB(Zone.current)),this.insideAngular=n.run(()=>new IB(Zone.current,EB)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(P(Ee))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ms(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ks(t){return Ms().ngZone.run(()=>t())}function Rae(t){return Ms(),function Oae(t){return function(n){return(n=n.lift(new kae(t.ngZone))).pipe(xh(t.outsideAngular),Ah(t.insideAngular))}}(Ms())(t)}const Pae=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ks(()=>t.apply(void 0,r))},To=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)))),r[o]=Pae(r[o],n));const i=function Nae(t){return Ms().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof qe){const o=Ms();return i.pipe(xh(o.outsideAngular),Ah(o.insideAngular))}return ks(()=>i)}return i instanceof qe?i.pipe(Rae):i instanceof Promise?ks(()=>new Promise((o,s)=>i.then(a=>ks(()=>o(a)),a=>ks(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ks(()=>i)};class Ec{constructor(e){return e}}class TB{constructor(){return uV()}}const wI=new N("angularfire2._apps"),Lae={provide:Ec,useFactory:function Fae(t){return t&&1===t.length?t[0]:new Ec(cV())},deps:[[new Rn,wI]]},Vae={provide:TB,deps:[[new Rn,wI]]};function Bae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ec(r)}}let Uae=(()=>{class t{constructor(n){dt("angularfire",dI.full,"core"),dt("angularfire",dI.full,"app"),dt("angular",Fk.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(P(Ei))},t.\u0275mod=xt({type:t}),t.\u0275inj=It({providers:[Lae,Vae]}),t})();function jae(t,...e){return{ngModule:Uae,providers:[{provide:wI,useFactory:Bae(t),multi:!0,deps:[Ee,_n,DB,...e]}]}}const $ae=To(aV,!0);const Hae=function CB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},SB=new ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_m=new yc("@firebase/auth");function ym(t,...e){_m.logLevel<=ye.ERROR&&_m.error(`Auth (${ql}): ${t}`,...e)}function Bn(t,...e){throw EI(t,...e)}function ri(t,...e){return EI(t,...e)}function EI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SB.create(t,...e)}function M(t,e,...n){if(!t)throw EI(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ym(e),new Error(e)}function Co(t,e){t||ii(e)}function xB(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Co(n>e,"Short delay should be less than long delay!"),this.isMobile=function sre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}()||function cre(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Gae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function II(){return"http:"===xB()||"https:"===xB()}()||r0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class MB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kae=new Zl(3e4,6e4);function rt(t,e,n,r){return TI.apply(this,arguments)}function TI(){return(TI=y(function*(t,e,n,r,i={}){return kB(t,i,y(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=J2(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),MB.fetch()(NB(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function kB(t,e,n){return CI.apply(this,arguments)}function CI(){return(CI=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wae),e);try{const i=new Qae(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Xl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Xl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Xl(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Xl(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function AB(t,e,n){const r=Object.assign(Object.assign({},Hae()),{[e]:n});return new ei("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Bn(t,l)}}catch(i){if(i instanceof Mr)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function NB(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function DI(t,e){Co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Qae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),Kae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function AI(){return(AI=y(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function MI(){return(MI=y(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kI(){return(kI=y(function*(t,e=!1){const n=In(t),r=yield n.getIdToken(e),i=vm(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jl(NI(i.auth_time)),issuedAtTime:Jl(NI(i.iat)),expirationTime:Jl(NI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function NI(t){return 1e3*Number(t)}function vm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=rm(n);return i?JSON.parse(i):(ym("Failed to decode base64 JWT payload"),null)}catch(i){return ym("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ui(t,e){return RI.apply(this,arguments)}function RI(){return(RI=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mr&&function tce({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class nce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class RB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ed(t){return OI.apply(this,arguments)}function OI(){return OI=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ui(t,function Xae(t,e){return MI.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function oce(t){return t.map(e=>{var{providerId:n}=e,r=V_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function ice(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new RB(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),OI.apply(this,arguments)}function PI(){return(PI=y(function*(t){const e=In(t);yield ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function FI(){return(FI=y(function*(t,e){const n=yield kB(t,{},y(function*(){const r=J2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=NB(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MB.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ece(t){const e=vm(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function sce(t,e){return FI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new td;return r&&(M("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(M("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new td,this.toJSON())}_performRefresh(){return ii("not implemented")}}function So(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=V_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new RB(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Ui(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Jae(t){return kI.apply(this,arguments)}(this,e)}reload(){return function rce(t){return PI.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ed(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Ui(e,function Yae(t,e){return AI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:x,isAnonymous:B,providerData:z,stsTokenManager:oe}=n;M(I&&oe,e,"internal-error");const je=td.fromJSON(this.name,oe);M("string"==typeof I,e,"internal-error"),So(d,e.name),So(h,e.name),M("boolean"==typeof x,e,"internal-error"),M("boolean"==typeof B,e,"internal-error"),So(f,e.name),So(p,e.name),So(m,e.name),So(g,e.name),So(v,e.name),So(_,e.name);const wt=new Ns({uid:I,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:je,createdAt:v,lastLoginAt:_});return z&&Array.isArray(z)&&(wt.providerData=z.map(tr=>Object.assign({},tr))),g&&(wt._redirectEventId=g),wt}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new td;i.updateFromServerResponse(n);const o=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ed(o),o})()}}const OB=new Map;function ji(t){Co(t instanceof Function,"Expected a class definition");let e=OB.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OB.set(t,e),e)}const PB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bm(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bm(this.userKey,i.apiKey,o),this.fullPersistenceKey=bm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ns._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Dc(ji(PB),e,r);const i=(yield Promise.all(n.map(function(){var u=y(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||ji(PB);const s=bm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Ns._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=y(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Dc(o,e,r)):new Dc(o,e,r)})()}}function FB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function BB(t=Qn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function LB(t=Qn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function jB(t=Qn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function $B(t=Qn()){return/webos/i.test(t)}(e))return"Webos";if(function LI(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function VB(t=Qn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function UB(t=Qn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HB(t,e=[]){let n;switch(t){case"Browser":n=FB(Qn());break;case"Worker":n=`${FB(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}function zB(t,e){return BI.apply(this,arguments)}function BI(){return(BI=y(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",function Ze(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function qB(t){return void 0!==t&&void 0!==t.enterprise}class WB{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class QB{constructor(e){this.type="recaptcha-enterprise",this.auth=kt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function o(){return o=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(u,l){zB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new WB(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;qB(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&qB(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function UI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ri("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function lce(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class pce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class mce{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YB(this),this.idTokenSubscription=new YB(this),this.beforeStateQueue=new pce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(y(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Dc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield ed(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function qae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?In(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(ji(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield zB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new WB(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new QB(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&ji(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Dc.create(n,[ji(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return M(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function zae(t,...e){_m.logLevel<=ye.WARN&&_m.warn(`Auth (${ql}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function kt(t){return In(t)}class YB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function hre(t,e){const n=new fre(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function KB(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Zl(3e4,6e4),new Zl(2e3,1e4),new Zl(3e4,6e4),new Zl(5e3,15e3),encodeURIComponent("fac");var TU="@firebase/auth";class ale{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}im(),function ule(t){Dn(new on("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HB(t)},u=new mce(r,i,o,c);return function _ce(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ji);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new on("auth-internal",e=>{const n=kt(e.getProvider("auth").getImmediate());return new ale(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(TU,"0.23.2",function cle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),dt(TU,"0.23.2","esm2017")}("Browser");class xU{constructor(){return bI("auth")}}const AT=new Map,MU={activated:!1,tokenObservers:[]},gle={initialized:!1,enabled:!1};function it(t){return AT.get(t)||Object.assign({},MU)}function Rm(){return gle}const xT="https://content-firebaseappcheck.googleapis.com/v1",ble="exchangeDebugToken",kU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ele{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new om,yield function Ile(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new om,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Kt=new ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MT(t){if(!it(t).activated)throw Kt.create("use-before-activation",{appName:t.name})}function Fm(t,e){return NT.apply(this,arguments)}function NT(){return NT=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Kt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Kt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Kt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),NT.apply(this,arguments)}function NU(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${xT}/projects/${n}/apps/${r}:${ble}?key=${i}`,body:{debug_token:e}}}const Sle="firebase-app-check-database",Ale=1,sd="firebase-app-check-store";let Lm=null;function RT(){return RT=y(function*(t,e){const r=(yield function OU(){return Lm||(Lm=new Promise((t,e)=>{try{const n=indexedDB.open(Sle,Ale);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(sd,{keyPath:"compositeKey"})}}catch(n){e(Kt.create("storage-open",{originalErrorMessage:n?.message}))}}),Lm)}()).transaction(sd,"readwrite"),o=r.objectStore(sd).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Kt.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),RT.apply(this,arguments)}const ad=new yc("@firebase/app-check");function FT(t,e){return Es()?function Mle(t,e){return function PU(t,e){return RT.apply(this,arguments)}(function LU(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ad.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function VT(){return Rm().enabled}function BT(){return UT.apply(this,arguments)}function UT(){return UT=y(function*(){const t=Rm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UT.apply(this,arguments)}const Fle={error:"UNKNOWN_ERROR"};function Lle(t){return n0.encodeString(JSON.stringify(t),!1)}function Vm(t){return jT.apply(this,arguments)}function jT(){return jT=y(function*(t,e=!1){const n=t.app;MT(n);const r=it(n);let o,i=r.token;if(i&&!Cc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Cc(c)?i=c:yield FT(n,void 0))}if(!e&&i&&Cc(i))return{token:i.token};let a,s=!1;if(VT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Fm(NU(n,yield BT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield FT(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield it(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ad.warn(c.message):ad.error(c),o=c}return i?o?a=Cc(i)?{token:i.token,internalError:o}:jU(o):(a={token:i.token},r.token=i,yield FT(n,i)):a=jU(o),s&&function UU(t,e){const n=it(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),jT.apply(this,arguments)}function $T(){return $T=y(function*(t){const e=t.app;MT(e);const{provider:n}=it(e);if(VT()){const r=yield BT(),{token:i}=yield Fm(NU(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),$T.apply(this,arguments)}function zT(t,e){const n=it(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function BU(t){const{app:e}=t,n=it(e);let r=n.tokenRefresher;r||(r=function Vle(t){const{app:e}=t;return new Ele(y(function*(){let r;if(r=it(e).token?yield Vm(t,!0):yield Vm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=it(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kU.RETRIAL_MIN_WAIT,kU.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cc(t){return t.expireTimeMillis-Date.now()>0}function jU(t){return{token:Lle(Fle),error:t}}class Ble{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=it(this.app);for(const n of e)zT(this.app,n.next);return Promise.resolve()}}const QU="app-check-internal";!function Jle(){Dn(new on("app-check",t=>function Ule(t,e){return new Ble(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(QU).initialize()})),Dn(new on(QU,t=>function jle(t){return{getToken:e=>Vm(t,e),getLimitedUseToken:()=>function VU(t){return $T.apply(this,arguments)}(t),addTokenListener:e=>function HT(t,e,n,r){const{app:i}=t,o=it(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Cc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),BU(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>BU(t))}(t,"INTERNAL",e),removeTokenListener:e=>zT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dt("@firebase/app-check","0.8.0")}();class ZU{constructor(){return bI("app-check")}}typeof window<"u"&&window;var O,ide=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={},QT=QT||{},ne=ide||self;function Um(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function cd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var YT="closure_uid_"+(1e9*Math.random()>>>0),sde=0;function ade(t,e,n){return t.call.apply(t.bind,arguments)}function cde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sn(t,e,n){return(sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ade:cde).apply(null,arguments)}function jm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function xo(){this.s=this.s,this.o=this.o}xo.prototype.s=!1,xo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ode(t){Object.prototype.hasOwnProperty.call(t,YT)&&t[YT]||(t[YT]=++sde)}(this)},xo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ZT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Um(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var lde=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function ud(t){return/^[\s\xa0]*$/.test(t)}function $m(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function oi(t){return-1!=$m().indexOf(t)}function XT(t){return XT[" "](t),t}XT[" "]=function(){};var eC,hde=oi("Opera"),Sc=oi("Trident")||oi("MSIE"),ej=oi("Edge"),JT=ej||Sc,tj=oi("Gecko")&&!(-1!=$m().toLowerCase().indexOf("webkit")&&!oi("Edge"))&&!(oi("Trident")||oi("MSIE"))&&!oi("Edge"),fde=-1!=$m().toLowerCase().indexOf("webkit")&&!oi("Edge");function nj(){var t=ne.document;return t?t.documentMode:void 0}e:{var tC="",nC=function(){var t=$m();return tj?/rv:([^\);]+)(\)|;)/.exec(t):ej?/Edge\/([\d\.]+)/.exec(t):Sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):fde?/WebKit\/(\S+)/.exec(t):hde?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(nC&&(tC=nC?nC[1]:""),Sc){var rC=nj();if(null!=rC&&rC>parseFloat(tC)){eC=String(rC);break e}}eC=tC}var pde=ne.document&&Sc&&(nj()||parseInt(eC,10))||void 0;function ld(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tj){e:{try{XT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ld.$.h.call(this)}}Nt(ld,an);var mde={2:"touch",3:"pen",4:"mouse"};ld.prototype.h=function(){ld.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dd="closure_listenable_"+(1e6*Math.random()|0),gde=0;function _de(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gde,this.fa=this.ia=!1}function Hm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ij(t){const e={};for(const n in t)e[n]=t[n];return e}const oj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sj(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<oj.length;o++)n=oj[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zm(t){this.src=t,this.g={},this.h=0}function sC(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=XU(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Hm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}zm.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=aC(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new _de(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var cC="closure_lm_"+(1e6*Math.random()|0),uC={};function aj(t,e,n,r,i){if(r&&r.once)return uj(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aj(t,e[o],n,r,i);return null}return n=fC(n),t&&t[dd]?t.O(e,n,cd(r)?!!r.capture:!!r,i):cj(t,e,n,!1,r,i)}function cj(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=cd(i)?!!i.capture:!!i,a=dC(t);if(a||(t[cC]=a=new zm(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function vde(){const e=bde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lde||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dj(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function uj(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)uj(t,e[o],n,r,i);return null}return n=fC(n),t&&t[dd]?t.P(e,n,cd(r)?!!r.capture:!!r,i):cj(t,e,n,!0,r,i)}function lj(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)lj(t,e[o],n,r,i);else r=cd(r)?!!r.capture:!!r,n=fC(n),t&&t[dd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aC(o=t.g[e],n,r,i))&&(Hm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=dC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aC(e,n,r,i)),(n=-1<t?e[t]:null)&&lC(n))}function lC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[dd])sC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dj(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dC(e))?(sC(n,t),0==n.h&&(n.src=null,e[cC]=null)):Hm(t)}}}function dj(t){return t in uC?uC[t]:uC[t]="on"+t}function bde(t,e){if(t.fa)t=!0;else{e=new ld(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lC(t),t=n.call(r,e)}return t}function dC(t){return(t=t[cC])instanceof zm?t:null}var hC="__closure_events_fn_"+(1e9*Math.random()>>>0);function fC(t){return"function"==typeof t?t:(t[hC]||(t[hC]=function(e){return t.handleEvent(e)}),t[hC])}function Rt(){xo.call(this),this.i=new zm(this),this.S=this,this.J=null}function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;sj(e=new an(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Gm(s,r,!0,e)&&i}if(i=Gm(s=e.g=t,r,!0,e)&&i,i=Gm(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Gm(s=e.g=n[o],r,!1,e)&&i}function Gm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&sC(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nt(Rt,xo),Rt.prototype[dd]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){lj(this,t,e,n,r)},Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hm(n[r]);delete t.g[e],t.h--}}this.J=null},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var pC=ne.JSON.stringify;function Ede(){var t=mC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var hj=new class wde{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dde,t=>t.reset());class Dde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Tde(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cde(t){ne.setTimeout(()=>{throw t},0)}let hd,fd=!1,mC=new class Ide{constructor(){this.h=this.g=null}add(e,n){const r=hj.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},fj=()=>{const t=ne.Promise.resolve(void 0);hd=()=>{t.then(Sde)}};var Sde=()=>{for(var t;t=Ede();){try{t.h.call(t.g)}catch(n){Cde(n)}var e=hj;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fd=!1};function qm(t,e){Rt.call(this),this.h=t||1,this.g=e||ne,this.j=sn(this.qb,this),this.l=Date.now()}function gC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function _C(t,e,n){if("function"==typeof t)n&&(t=sn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=sn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function pj(t){t.g=_C(()=>{t.g=null,t.i&&(t.i=!1,pj(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nt(qm,Rt),(O=qm.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(gC(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){qm.$.N.call(this),gC(this),delete this.g};class Ade extends xo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pj(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pd(t){xo.call(this),this.h=t,this.g={}}Nt(pd,xo);var mj=[];function gj(t,e,n,r){Array.isArray(n)||(n&&(mj[0]=n.toString()),n=mj);for(var i=0;i<n.length;i++){var o=aj(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function _j(t){oC(t.g,function(e,n){this.g.hasOwnProperty(n)&&lC(e)},t),t.g={}}function Wm(){this.g=!0}function Ac(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nde(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return pC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}pd.prototype.N=function(){pd.$.N.call(this),_j(this)},pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wm.prototype.Ea=function(){this.g=!1},Wm.prototype.info=function(){};var Fs={},yj=null;function Km(){return yj=yj||new Rt}function vj(t){an.call(this,Fs.Ta,t)}function md(t){const e=Km();Qt(e,new vj(e))}function bj(t,e){an.call(this,Fs.STAT_EVENT,t),this.stat=e}function Cn(t){const e=Km();Qt(e,new bj(e,t))}function wj(t,e){an.call(this,Fs.Ua,t),this.size=e}function gd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}Fs.Ta="serverreachability",Nt(vj,an),Fs.STAT_EVENT="statevent",Nt(bj,an),Fs.Ua="timingevent",Nt(wj,an);var Qm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ej={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yC(){}function Dj(){}yC.prototype.h=null;var wC,_d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vC(){an.call(this,"d")}function bC(){an.call(this,"c")}function Ym(){}function yd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pd(this),this.P=Rde,this.V=new qm(t=JT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tj}function Tj(){this.i=null,this.g="",this.h=!1}Nt(vC,an),Nt(bC,an),Nt(Ym,yC),Ym.prototype.g=function(){return new XMLHttpRequest},Ym.prototype.i=function(){return{}},wC=new Ym;var Rde=45e3,EC={},Zm={};function IC(t,e,n){t.L=1,t.v=tg(Hi(e)),t.s=n,t.S=!0,Cj(t,null)}function Cj(t,e){t.G=Date.now(),vd(t),t.A=Hi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Fj(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Tj,t.g=s$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ade(sn(t.Pa,t,t.g),t.O)),gj(t.U,t.g,"readystatechange",t.nb),e=t.I?ij(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),md(),function xde(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Sj(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Aj(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Ode(t,n),i==Zm){4==e&&(t.o=4,Cn(14),r=!1),Ac(t.j,t.m,null,"[Incomplete Response]");break}if(i==EC){t.o=4,Cn(15),Ac(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ac(t.j,t.m,i,null),DC(t,i)}Sj(t)&&i!=Zm&&i!=EC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kC(e),e.M=!0,Cn(11))):(Ac(t.j,t.m,n,"[Invalid Chunked Response]"),Ls(t),bd(t))}function Ode(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Zm:(n=Number(e.substring(n,r)),isNaN(n)?EC:(r+=1)+n>e.length?Zm:(e=e.slice(r,r+n),t.C=r+n,e))}function vd(t){t.Y=Date.now()+t.P,xj(t,t.P)}function xj(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=gd(sn(t.lb,t),e)}function Xm(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function bd(t){0==t.l.H||t.J||n$(t.l,t)}function Ls(t){Xm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,gC(t.V),_j(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function DC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||TC(n.i,t)))if(!t.K&&TC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ag(n),og(n)}MC(n),Cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=gd(sn(n.ib,n),6e3));if(1>=Bj(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bs(n,11)}else if((t.K||n.g==t)&&ag(n),!ud(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(CC(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=o$(r,r.J?r.pa:null,r.Y),s.K){Uj(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(Xm(a),vd(a)),r.g=s}else e$(r);0<n.j.length&&sg(n)}else"stop"!=u[0]&&"close"!=u[0]||Bs(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Bs(n,7):xC(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}md()}catch{}}function Mj(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Um(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Fde(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Um(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Pde(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Um(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(O=yd.prototype).setTimeout=function(t){this.P=t},O.nb=function(t){t=t.target;const e=this.M;e&&3==si(t)?e.l():this.Pa(t)},O.Pa=function(t){try{if(t==this.g)e:{const l=si(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||JT||this.g&&(this.h.h||this.g.ja()||Kj(this.g)))){this.J||4!=l||7==e||md(),Xm(this);var n=this.g.da();this.ca=n;t:if(Sj(this)){var r=Kj(this.g);t="";var i=r.length,o=4==si(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),bd(this);var s="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Mde(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ud(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Cn(12),Ls(this),bd(this);break e}Ac(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DC(this,n)}this.S?(Aj(this,l,s),JT&&this.i&&3==l&&(gj(this.U,this.V,"tick",this.mb),this.V.start())):(Ac(this.j,this.m,s,null),DC(this,s)),4==l&&Ls(this),this.i&&!this.J&&(4==l?n$(this.l,this):(this.i=!1,vd(this)))}else(function ehe(t){const e={};t=(t.g&&2<=si(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ud(t[r]))continue;var n=Tde(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function yde(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),Ls(this),bd(this)}}}catch{}},O.mb=function(){if(this.g){var t=si(this.g),e=this.g.ja();this.C<e.length&&(Xm(this),Aj(this,t,e),this.i&&4!=t&&vd(this))}},O.cancel=function(){this.J=!0,Ls(this)},O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function kde(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(md(),Cn(17)),Ls(this),this.o=2,bd(this)):xj(this,this.Y-t)};var kj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vs){this.h=t.h,Jm(this,t.j),this.s=t.s,this.g=t.g,eg(this,t.m),this.l=t.l;var e=t.i,n=new Id;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Nj(this,n),this.o=t.o}else t&&(e=String(t).match(kj))?(this.h=!1,Jm(this,e[1]||"",!0),this.s=wd(e[2]||""),this.g=wd(e[3]||"",!0),eg(this,e[4]),this.l=wd(e[5]||"",!0),Nj(this,e[6]||"",!0),this.o=wd(e[7]||"")):(this.h=!1,this.i=new Id(null,this.h))}function Hi(t){return new Vs(t)}function Jm(t,e,n){t.j=n?wd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Nj(t,e,n){e instanceof Id?(t.i=e,function Hde(t,e){e&&!t.j&&(Mo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Oj(this,r),Fj(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ed(e,jde)),t.i=new Id(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function tg(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ed(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vde),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vde(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ed(e,Rj,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ed(e,Rj,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ed(n,"/"==n.charAt(0)?Ude:Bde,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ed(n,$de)),t.join("")};var Rj=/[#\/\?@]/g,Bde=/[#\?:]/g,Ude=/[#\?]/g,jde=/[#\?@]/g,$de=/#/g;function Id(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Lde(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Oj(t,e){Mo(t),e=xc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Pj(t,e){return Mo(t),e=xc(t,e),t.g.has(e)}function Fj(t,e,n){Oj(t,e),0<n.length&&(t.i=null,t.g.set(xc(t,e),ZT(n)),t.h+=n.length)}function xc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Lj(t){this.l=t||Gde,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=Id.prototype).add=function(t,e){Mo(this),this.i=null,t=xc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){Mo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},O.ta=function(){Mo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},O.Z=function(t){Mo(this);let e=[];if("string"==typeof t)Pj(this,t)&&(e=e.concat(this.g.get(xc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},O.set=function(t,e){return Mo(this),this.i=null,Pj(this,t=xc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Gde=10;function Vj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Bj(t){return t.h?1:t.g?t.g.size:0}function TC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function CC(t,e){t.g?t.g.add(e):t.h=e}function Uj(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jj(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ZT(t.i)}Lj.prototype.cancel=function(){if(this.i=jj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var qde=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function Wde(){this.g=new qde}function Kde(t,e,n){const r=n||"";try{Mj(t,function(i,o){let s=i;cd(i)&&(s=pC(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dd(t){this.l=t.fc||null,this.j=t.ob||!1}function rg(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=SC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(Dd,yC),Dd.prototype.g=function(){return new rg(this.l,this.j)},Dd.prototype.i=function(t){return function(){return t}}({}),Nt(rg,Rt);var SC=0;function $j(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Td(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cd(t)}function Cd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=rg.prototype).open=function(t,e){if(this.readyState!=SC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cd(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Td(this)),this.readyState=SC},O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cd(this)),this.g&&(this.readyState=3,Cd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$j(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Td(this):Cd(this),3==this.readyState&&$j(this)}},O.Za=function(t){this.g&&(this.response=this.responseText=t,Td(this))},O.Ya=function(t){this.g&&(this.response=t,Td(this))},O.ka=function(){this.g&&Td(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Yde=ne.JSON.parse;function ot(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hj,this.L=this.M=!1}Nt(ot,Rt);var Hj="",Zde=/^https?$/i,Xde=["POST","PUT"];function zj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Gj(t),ig(t)}function Gj(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}function qj(t){if(t.h&&typeof QT<"u"&&(!t.C[1]||4!=si(t)||2!=t.da()))if(t.v&&4==si(t))_C(t.La,0,t);else if(Qt(t,"readystatechange"),4==si(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(kj)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!Zde.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var o=2<si(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Gj(t)}}finally{ig(t)}}}function ig(t,e){if(t.g){Wj(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Wj(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function si(t){return t.g?t.g.readyState:0}function Kj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Hj:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Qj(t){let e="";return oC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function AC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qj(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Sd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yj(t){this.Ga=0,this.j=[],this.l=new Wm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sd("baseRetryDelayMs",5e3,t),this.hb=Sd("retryDelaySeedMs",1e4,t),this.eb=Sd("forwardChannelMaxRetries",2,t),this.xa=Sd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Lj(t&&t.concurrentRequestLimit),this.Ja=new Wde,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xC(t){if(Zj(t),3==t.H){var e=t.W++,n=Hi(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Ad(t,n),(e=new yd(t,t.l,e)).L=2,e.v=tg(Hi(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=s$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vd(e)}i$(t)}function og(t){t.g&&(kC(t),t.g.cancel(),t.g=null)}function Zj(t){og(t),t.u&&(ne.clearTimeout(t.u),t.u=null),ag(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function sg(t){if(!Vj(t.i)&&!t.m){t.m=!0;var e=t.Na;hd||fj(),fd||(hd(),fd=!0),mC.add(e,t),t.C=0}}function Xj(t,e){var n;n=e?e.m:t.W++;const r=Hi(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Ad(t,r),t.o&&t.s&&AC(r,t.o,t.s),n=new yd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Jj(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),CC(t.i,n),IC(n,r,e)}function Ad(t,e){t.na&&oC(t.na,function(n,r){$e(e,r,n)}),t.h&&Mj({},function(n,r){$e(e,r,n)})}function Jj(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{Kde(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function e$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hd||fj(),fd||(hd(),fd=!0),mC.add(e,t),t.A=0}}function MC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=gd(sn(t.Ma,t),r$(t,t.A)),t.A++,0))}function kC(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function t$(t){t.g=new yd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Hi(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Ad(t,e),t.o&&t.s&&AC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=tg(Hi(e)),n.s=null,n.S=!0,Cj(n,t)}function ag(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function n$(t,e){var n=null;if(t.g==e){ag(t),kC(t),t.g=null;var r=2}else{if(!TC(t.i,e))return;n=e.F,Uj(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qt(r=Km(),new wj(r,n)),sg(t)}else e$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function the(t,e){return!(Bj(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=gd(sn(t.Na,t,e),r$(t,t.C)),t.C++,0)))}(t,e)||2==r&&MC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bs(t,5);break;case 4:Bs(t,10);break;case 3:Bs(t,6);break;default:Bs(t,2)}}function r$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=sn(t.pb,t);n||(n=new Vs("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Jm(n,"https"),tg(n)),function Qde(t,e){const n=new Wm;if(ne.Image){const r=new Image;r.onload=jm(ng,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jm(ng,n,r,"TestLoadImage: error",!1,e),r.onabort=jm(ng,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jm(ng,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Cn(2);t.H=0,t.h&&t.h.za(e),i$(t),Zj(t)}function i$(t){if(t.H=0,t.ma=[],t.h){const e=jj(t.i);(0!=e.length||0!=t.j.length)&&(JU(t.ma,e),JU(t.ma,t.j),t.i.i.length=0,ZT(t.j),t.j.length=0),t.h.ya()}}function o$(t,e,n){var r=n instanceof Vs?Hi(n):new Vs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),eg(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Vs(null);r&&Jm(o,r),e&&(o.g=e),i&&eg(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),Ad(t,r),r}function s$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ot(n&&t.Ha&&!t.va?new Dd({ob:!0}):t.va)).Oa(t.J),e}function a$(){}function cg(){if(Sc&&!(10<=Number(pde)))throw Error("Environmental error: no available transport.")}function Yn(t,e){Rt.call(this),this.g=new Yj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ud(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ud(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Mc(this)}function c$(t){vC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function u$(){bC.call(this),this.status=1}function Mc(t){this.g=t}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(O=ot.prototype).Oa=function(t){this.M=t},O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wC.g(),this.C=function Ij(t){return t.h||(t.h=t.i())}(this.u?this.u:wC),this.g.onreadystatechange=sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void zj(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=XU(Xde,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wj(this),0<this.B&&((this.L=function Jde(t){return Sc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.ua,this)):this.A=_C(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){zj(this,o)}},O.ua=function(){typeof QT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),ig(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ig(this,!0)),ot.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?qj(this):this.kb())},O.kb=function(){qj(this)},O.isActive=function(){return!!this.g},O.da=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yde(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=Yj.prototype).ra=8,O.H=1,O.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=ij(o),sj(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Jj(this,i,e),$e(n=Hi(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Ad(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Qj(o)))+"&"+e:this.o&&AC(n,this.o,o)),CC(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,IC(i,n,null)):IC(i,n,e),this.H=2}}else 3==this.H&&(t?Xj(this,t):0==this.j.length||Vj(this.i)||Xj(this))},O.Ma=function(){if(this.u=null,t$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=gd(sn(this.jb,this),t)}},O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),og(this),t$(this))},O.ib=function(){null!=this.v&&(this.v=null,og(this),MC(this),Cn(19))},O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))},O.isActive=function(){return!!this.h&&this.h.isActive(this)},(O=a$.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.isActive=function(){return!0},O.Va=function(){},cg.prototype.g=function(t,e){return new Yn(t,e)},Nt(Yn,Rt),Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=o$(t,null,t.Y),sg(t)},Yn.prototype.close=function(){xC(this.g)},Yn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&sg(e)},Yn.prototype.N=function(){this.g.h=null,delete this.j,xC(this.g),delete this.g,Yn.$.N.call(this)},Nt(c$,vC),Nt(u$,bC),Nt(Mc,a$),Mc.prototype.Ba=function(){Qt(this.g,"a")},Mc.prototype.Aa=function(t){Qt(this.g,new c$(t))},Mc.prototype.za=function(t){Qt(this.g,new u$)},Mc.prototype.ya=function(){Qt(this.g,"b")},Nt(Nr,function nhe(){this.blockSize=-1}),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)NC(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){NC(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){NC(this,r),i=0;break}}this.h=i,this.i+=e},Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var rhe={};function RC(t){return-128<=t&&128>t?function dde(t,e){var n=rhe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function ai(t){if(isNaN(t)||!isFinite(t))return kc;if(0>t)return Yt(ai(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=OC;return new Me(e,0)}var OC=4294967296,kc=RC(0),PC=RC(1),d$=RC(16777216);function zi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function gr(t){return-1==t.h}function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(PC)}function ug(t,e){return t.add(Yt(e))}function lg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xd(t,e){this.g=t,this.h=e}function dg(t,e){if(zi(e))throw Error("division by zero");if(zi(t))return new xd(kc,kc);if(gr(t))return e=dg(Yt(t),e),new xd(Yt(e.g),Yt(e.h));if(gr(e))return e=dg(t,Yt(e)),new xd(Yt(e.g),e.h);if(30<t.g.length){if(gr(t)||gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=PC,r=e;0>=r.X(t);)n=h$(n),r=h$(r);var i=Nc(n,1),o=Nc(r,1);for(r=Nc(r,2),n=Nc(n,2);!zi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Nc(r,1),n=Nc(n,1)}return e=ug(t,i.R(e)),new xd(i,e)}for(i=kc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ai(n)).R(e);gr(s)||0<s.X(t);)s=(o=ai(n-=r)).R(e);zi(o)&&(o=PC),i=i.add(o),t=ug(t,s)}return new xd(i,t)}function h$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Nc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Me(i,t.h)}(O=Me.prototype).ea=function(){if(gr(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:OC+r)*e,e*=OC}return t},O.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zi(this))return"0";if(gr(this))return"-"+Yt(this).toString(t);for(var e=ai(Math.pow(t,6)),n=this,r="";;){var i=dg(n,e).g,o=((0<(n=ug(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zi(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},O.X=function(t){return gr(t=ug(this,t))?-1:zi(t)?0:1},O.abs=function(){return gr(this)?Yt(this):this},O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},O.R=function(t){if(zi(this)||zi(t))return kc;if(gr(this))return gr(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(gr(t))return Yt(this.R(Yt(t)));if(0>this.X(d$)&&0>t.X(d$))return ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,lg(n,2*r+2*i),n[2*r+2*i+1]+=o*c,lg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,lg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,lg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},O.gb=function(t){return dg(this,t).h},O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},cg.prototype.createWebChannel=cg.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Qm.NO_ERROR=0,Qm.TIMEOUT=8,Qm.HTTP_ERROR=6,Ej.COMPLETE="complete",Dj.EventType=_d,_d.OPEN="a",_d.CLOSE="b",_d.ERROR="c",_d.MESSAGE="d",Rt.prototype.listen=Rt.prototype.O,ot.prototype.listenOnce=ot.prototype.P,ot.prototype.getLastError=ot.prototype.Sa,ot.prototype.getLastErrorCode=ot.prototype.Ia,ot.prototype.getStatus=ot.prototype.da,ot.prototype.getResponseJson=ot.prototype.Wa,ot.prototype.getResponseText=ot.prototype.ja,ot.prototype.send=ot.prototype.ha,ot.prototype.setWithCredentials=ot.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=ai,Me.fromString=function l$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yt(l$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ai(Math.pow(e,8)),r=kc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ai(Math.pow(e,o)),r=r.R(o).add(ai(s))):r=(r=r.R(n)).add(ai(s))}return r};var ihe=kr.createWebChannelTransport=function(){return new cg},ohe=kr.getStatEventTarget=function(){return Km()},FC=kr.ErrorCode=Qm,she=kr.EventType=Ej,ahe=kr.Event=Fs,f$=kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},che=kr.FetchXmlHttpFactory=Dd,hg=kr.WebChannel=Dj,uhe=kr.XhrIo=ot,lhe=kr.Md5=Nr,Rc=kr.Integer=Me;const p$="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let Oc="9.23.0";const ko=new yc("@firebase/firestore");function LC(){return ko.logLevel}function S(t,...e){if(ko.logLevel<=ye.DEBUG){const n=e.map(VC);ko.debug(`Firestore (${Oc}): ${t}`,...n)}}function ht(t,...e){if(ko.logLevel<=ye.ERROR){const n=e.map(VC);ko.error(`Firestore (${Oc}): ${t}`,...n)}}function Rr(t,...e){if(ko.logLevel<=ye.WARN){const n=e.map(VC);ko.warn(`Firestore (${Oc}): ${t}`,...n)}}function VC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function $(t,e){t||V()}function R(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class m${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class hhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fhe{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ct,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(y(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new m$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Ot(e)}}class phe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new phe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ghe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.T=n.token,new g$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _he(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _${static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=_he(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Pc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Xe(0,0))}static max(){return new H(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Md{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Md.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends Md{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const yhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Md{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return yhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(ge.fromString(e))}static fromName(e){return new k(ge.fromString(e).popFirst(5))}static empty(){return new k(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new ge(e.slice()))}}function b$(t){return new Zn(t.readTime,t.key,-1)}class Zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zn(H.min(),k.empty(),-1)}static max(){return new Zn(H.max(),k.empty(),-1)}}function UC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=k.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const w$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class whe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function No(t){return jC.apply(this,arguments)}function jC(){return jC=y(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==w$)throw t;S("LocalStore","Unexpectedly lost primary lease")}),jC.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new b((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Ro(t){return"IndexedDbTransactionError"===t.name}let Xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Rd(t){return null==t}function Od(t){return 0===t&&1/t==-1/0}function M$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N$(this.data.getIterator())}getIteratorFrom(e){return new N$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class N${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Un([])}unionWith(e){let n=new He(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class R$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new R$("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const zhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if($(!!t),"string"==typeof t){let e=0;const n=zhe.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gi(t){return"string"==typeof t?St.fromBase64String(t):St.fromUint8Array(t)}function yg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vg(t){const e=t.mapValue.fields.__previous_value__;return yg(e)?vg(e):e}function Pd(t){const e=Po(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}class Ghe{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:L$(t)?9007199254740991:10:V()}function ui(t,e){if(t===e)return!0;const n=Lo(t);if(n!==Lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Po(r.timestampValue),s=Po(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gi(t.bytesValue).isEqual(Gi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=st(r.doubleValue),s=st(i.doubleValue);return o===s?Od(o)===Od(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Pc(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(M$(o)!==M$(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!ui(o[a],s[a])))return!1;return!0}(t,e);default:return V()}var i}function Fd(t,e){return void 0!==(t.values||[]).find(n=>ui(n,e))}function Vo(t,e){if(t===e)return 0;const n=Lo(t),r=Lo(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=st(i.integerValue||i.doubleValue),a=st(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return O$(t.timestampValue,e.timestampValue);case 4:return O$(Pd(t),Pd(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Gi(i),a=Gi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=J(s[c],a[c]);if(0!==u)return u}return J(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=J(st(i.latitude),st(o.latitude));return 0!==s?s:J(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=Vo(s[c],a[c]);if(u)return u}return J(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Fo.mapValue&&o===Fo.mapValue)return 0;if(i===Fo.mapValue)return 1;if(o===Fo.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=J(a[l],u[l]);if(0!==d)return d;const h=Vo(s[a[l]],c[u[l]]);if(0!==h)return h}return J(a.length,u.length)}(t.mapValue,e.mapValue);default:throw V()}}function O$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=Po(t),r=Po(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function Lc(t){return zC(t)}function zC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Po(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gi(t.bytesValue).toBase64():"referenceValue"in t?k.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=zC(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${zC(r.fields[a])}`;return o+"}"}(t.mapValue):V();var e}function GC(t){return!!t&&"integerValue"in t}function Ld(t){return!!t&&"arrayValue"in t}function P$(t){return!!t&&"nullValue"in t}function F$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eg(t){return!!t&&"mapValue"in t}function Vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Vd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xt(Vd(this.value))}}function U$(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new ft([n]);if(Eg(r)){const o=U$(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}class ze{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,H.min(),H.min(),H.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new ze(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new ze(e,2,n,H.min(),H.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new ze(e,3,n,H.min(),H.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bo{constructor(e,n){this.position=e,this.inclusive=n}}function j$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?k.comparator(k.fromName(s.referenceValue),n.key):Vo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}class Vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Khe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class H${}class he extends H${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Qhe(e,n,r):"array-contains"===n?new Xhe(e,r):"in"===n?new Q$(e,r):"not-in"===n?new Jhe(e,r):"array-contains-any"===n?new efe(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Yhe(e,r):new Zhe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Vo(n,this.value)):null!==n&&Lo(this.value)===Lo(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ke extends H${constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ke(e,n)}matches(e){return Bc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Bc(t){return"and"===t.op}function WC(t){return function z$(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}(t)&&Bc(t)}function KC(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+Lc(t.value);if(WC(t))return t.filters.map(e=>KC(e)).join(",");{const e=t.filters.map(n=>KC(n)).join(",");return`${t.op}(${e})`}}function G$(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&ui(n.value,r.value)):t instanceof ke?function(n,r){return r instanceof ke&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&G$(o,r.filters[s]),!0)}(t,e):void V();var n,r}function W$(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${Lc(e.value)}`}(t):t instanceof ke?function(e){return e.op.toString()+" {"+e.getFilters().map(W$).join(" ,")+"}"}(t):"Filter"}class Qhe extends he{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){const n=k.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yhe extends he{constructor(e,n){super(e,"in",n),this.keys=K$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zhe extends he{constructor(e,n){super(e,"not-in",n),this.keys=K$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}class Xhe extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ld(n)&&Fd(n.arrayValue,this.value)}}class Q$ extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fd(this.value.arrayValue,n)}}class Jhe extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fd(this.value.arrayValue,n)}}class efe extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ld(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fd(this.value.arrayValue,r))}}class tfe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function QC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tfe(t,e,n,r,i,o,s)}function zs(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>KC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lc(r)).join(",")),e.dt=n}return e.dt}function Bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Khe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$$(t.startAt,e.startAt)&&$$(t.endAt,e.endAt)}function Ig(t){return k.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class qi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Uc(t){return new qi(t)}function J$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Gs(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function Tg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function YC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Vc(n)),e.wt.push(new Vc(ft.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Vc(ft.keyField(),o))}}}return e.wt}function Sn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=QC(e.path,e.collectionGroup,Gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Gs(e))n.push(new Vc(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Bo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bo(e.startAt.position,e.startAt.inclusive):null;e._t=QC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Cg(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Bd(Sn(t),Sn(e))&&t.limitType===e.limitType}function e4(t){return`${zs(Sn(t))}|lt:${t.limitType}`}function JC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>W$(r)).join(", ")}]`),Rd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lc(r)).join(",")),`Target(${n})`}(Sn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):k.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Gs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=j$(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Gs(n),r)||n.endAt&&!function(i,o,s){const a=j$(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Gs(n),r)));var n,r}function n4(t){return(e,n)=>{let r=!1;for(const i of Gs(t)){const o=nfe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function nfe(t,e,n){const r=t.field.isKeyField()?k.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?Vo(a,c):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return k$(this.inner)}size(){return this.innerSize}}const rfe=new Ue(k.comparator);function jn(){return rfe}const r4=new Ue(k.comparator);function $d(...t){let e=r4;for(const n of t)e=e.insert(n.key,n);return e}function i4(t){let e=r4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return Hd()}function o4(){return Hd()}function Hd(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const ife=new Ue(k.comparator),ofe=new He(k.comparator);function ae(...t){let e=ofe;for(const n of t)e=e.add(n);return e}const sfe=new He(J);function s4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function a4(t){return{integerValue:""+t}}function c4(t,e){return function I$(t){return"number"==typeof t&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?a4(e):s4(t,e)}class Sg{constructor(){this._=void 0}}function afe(t,e,n){return t instanceof jc?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&yg(i)&&(i=vg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qs?l4(t,e):t instanceof Ws?d4(t,e):function(r,i){const o=u4(r,i),s=h4(o)+h4(r.gt);return GC(o)&&GC(r.gt)?a4(s):s4(r.serializer,s)}(t,e)}function cfe(t,e,n){return t instanceof qs?l4(t,e):t instanceof Ws?d4(t,e):n}function u4(t,e){return t instanceof $c?GC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class jc extends Sg{}class qs extends Sg{constructor(e){super(),this.elements=e}}function l4(t,e){const n=f4(e);for(const r of t.elements)n.some(i=>ui(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ws extends Sg{constructor(e){super(),this.elements=e}}function d4(t,e){let n=f4(e);for(const r of t.elements)n=n.filter(i=>!ui(i,r));return{arrayValue:{values:n}}}class $c extends Sg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function h4(t){return st(t.integerValue||t.doubleValue)}function f4(t){return Ld(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lfe{constructor(e,n){this.version=e,this.transformResults=n}}class Qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qe}static exists(e){return new Qe(void 0,e)}static updateTime(e){return new Qe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class xg{}function p4(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new zc(t.key,Qe.none()):new Hc(t.key,t.data,Qe.none());{const n=t.data,r=Xt.empty();let i=new He(ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ki(t.key,r,new Un(i.toArray()),Qe.none())}}function dfe(t,e,n){t instanceof Hc?function(r,i,o){const s=r.value.clone(),a=_4(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(r,i,o){if(!Ag(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=_4(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(g4(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Gd(t,e,n,r){return t instanceof Hc?function(i,o,s,a){if(!Ag(i.precondition,o))return s;const c=i.value.clone(),u=y4(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(i,o,s,a){if(!Ag(i.precondition,o))return s;const c=y4(i.fieldTransforms,a,o),u=o.data;return u.setAll(g4(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Ag(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function hfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=u4(r.transform,i||null);null!=o&&(null===n&&(n=Xt.empty()),n.set(r.field,o))}return n||null}function m4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Pc(n,r,(i,o)=>function ufe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof qs&&r instanceof qs||n instanceof Ws&&r instanceof Ws?Pc(n.elements,r.elements,ui):n instanceof $c&&r instanceof $c?ui(n.gt,r.gt):n instanceof jc&&r instanceof jc);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Hc extends xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ki extends xg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function g4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _4(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cfe(s,a,n[i]))}return r}function y4(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,afe(o,s,e))}return r}class zc extends xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dfe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=p4(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Pc(this.mutations,e.mutations,(n,r)=>m4(n,r))&&Pc(this.baseMutations,e.baseMutations,(n,r)=>m4(n,r))}}class rS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=ife;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new rS(e,n,r,i)}}class iS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var vt,_e;function b4(t){if(void 0===t)return ht("GRPC error has no .code"),w.UNKNOWN;switch(t){case vt.OK:return w.OK;case vt.CANCELLED:return w.CANCELLED;case vt.UNKNOWN:return w.UNKNOWN;case vt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case vt.INTERNAL:return w.INTERNAL;case vt.UNAVAILABLE:return w.UNAVAILABLE;case vt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case vt.NOT_FOUND:return w.NOT_FOUND;case vt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case vt.ABORTED:return w.ABORTED;case vt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case vt.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(_e=vt||(vt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class oS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mg}static getOrCreateInstance(){return null===Mg&&(Mg=new oS),Mg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Mg=null;const mfe=new Rc([4294967295,4294967295],0);function E4(t){const e=function w4(){return new TextEncoder}().encode(t),n=new lhe;return n.update(e),new Uint8Array(n.digest())}function I4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rc([n,r],0),new Rc([i,o],0)]}class sS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qd(`Invalid padding: ${n}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new qd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Rc.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Rc.fromNumber(r)));return 1===i.compare(mfe)&&(i=new Rc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=E4(e),[r,i]=I4(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new sS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=E4(e),[r,i]=I4(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(H.min(),i,new Ue(J),jn(),ae())}}class Kd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,ae(),ae(),ae())}}class kg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class D4{constructor(e,n){this.targetId=e,this.Vt=n}}class T4{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C4{constructor(){this.St=0,this.Dt=A4(),this.Ct=St.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),n=ae(),r=ae();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Kd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=A4()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jn(),this.zt=S4(),this.Wt=new Ue(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Ig(s))if(0===i){const a=new k(s.path);this.Yt(r,a,ze.newNoDocument(a,H.min()))}else $(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=oS.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,p,m,g,v;const _={localCacheCount:l,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(_.bloomFilter={applied:0===u,hashCount:null!==(h=I?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=I?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(g=I?.bits)||void 0===g?void 0:g.padding)&&void 0!==v?v:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=Gi(o).toUint8Array()}catch(l){if(l instanceof R$)return Rr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new sS(c,s,a)}catch(l){return Rr(l instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Ig(a.target)){const c=new k(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,ze.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=ae();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Wd(e,n,this.Wt,this.jt,r);return this.jt=jn(),this.zt=S4(),this.Wt=new Ue(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new C4,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new He(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new C4),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function S4(){return new Ue(k.comparator)}function A4(){return new Ue(k.comparator)}const _fe={asc:"ASCENDING",desc:"DESCENDING"},yfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vfe={and:"AND",or:"OR"};class bfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aS(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wfe(t,e){return Gc(t,e.toTimestamp())}function pt(t){return $(!!t),H.fromTimestamp(function(e){const n=Po(e);return new Xe(n.seconds,n.nanos)}(t))}function cS(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function M4(t){const e=ge.fromString(t);return $(B4(e)),e}function Qd(t,e){return cS(t.databaseId,e.path)}function di(t,e){const n=M4(e);if(n.get(1)!==t.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(N4(n))}function uS(t,e){return cS(t.databaseId,e)}function Yd(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N4(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function R4(t,e,n){return{name:Qd(t,e),fields:n.value.mapValue.fields}}function P4(t,e){return{documents:[uS(t,e.path)]}}function dS(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=uS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return V4(ke.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:Uo((l=u).field),direction:Cfe(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=aS(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function F4(t){let e=function k4(t){const e=M4(t);return 4===e.length?ge.emptyPath():N4(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=L4(l);return d instanceof ke&&WC(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Vc(qc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Rd(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Bo((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Bo(l.values||[],!l.before)}(n.endAt)),function X$(t,e,n,r,i,o,s,a){return new qi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function L4(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=qc(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=qc(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qc(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qc(e.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?function(e){return he.create(qc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ke.create(e.compositeFilter.filters.map(n=>L4(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V()}function Cfe(t){return _fe[t]}function Sfe(t){return yfe[t]}function Afe(t){return vfe[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function qc(t){return ft.fromServerFormat(t.fieldPath)}function V4(t){return t instanceof he?function(e){if("=="===e.op){if(F$(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(P$(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(F$(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(P$(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:Sfe(e.op),value:e.value}}}(t):t instanceof ke?function(e){const n=e.getFilters().map(r=>V4(r));return 1===n.length?n[0]:{compositeFilter:{op:Afe(e.op),filters:n}}}(t):V()}function xfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B4(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Qi{constructor(e,n,r,i,o=H.min(),s=H.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class U4{constructor(e){this.fe=e}}function hS(t){const e=F4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cg(e,e.limit,"L"):e}class Zs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Od(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?L$(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),k.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Zs.Ve=new Zs;class Vfe{constructor(){this.rn=new yS}addToCollectionParentIndex(e,n){return this.rn.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Zn.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(ge.comparator)).toArray()}}new Uint8Array(0);class un{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Js{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Js(0)}static Mn(){return new Js(-1)}}class zfe{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Gd(r.mutation,i,Un.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$d();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=jn();const s=Hd(),a=Hd();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Ki)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Gd(l.mutation,u,l.mutation.getFieldMask(),Xe.now())):s.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Wfe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hd();let i=new Ue((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Un.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=o4();l.forEach(h=>{if(!o.has(h)){const f=p4(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return k.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ZC(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):b.resolve(li());let a=-1,c=o;return s.next(u=>b.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?b.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ae())).next(l=>({batchId:a,changes:i4(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(r=>{let i=$d();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=$d();return this.indexManager.getCollectionParents(e,i).next(s=>b.forEach(s,a=>{const c=(u=n,l=a.child(i),new qi(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,ze.newInvalidDocument(u)))});let s=$d();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Gd(u.mutation,c,Un.empty(),Xe.now()),jd(n,c)&&(s=s.insert(a,c))}),s})}}class Kfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return b.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:pt(r.createTime)}),b.resolve()}getNamedQuery(e,n){return b.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:hS(r.bundledQuery),readTime:pt(r.readTime)}),b.resolve();var r}}class Qfe{constructor(){this.overlays=new Ue(k.comparator),this.ls=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return b.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=li(),o=n.length+1,s=new k(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ue((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=li(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=li(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return b.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iS(n,r));let o=this.ls.get(n);void 0===o&&(o=ae(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class vS{constructor(){this.fs=new He(Ft.ds),this.ws=new He(Ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ft(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new k(new ge([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new k(new ge([])),r=new Ft(n,e),i=new Ft(n,e+1);let o=ae();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ft(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return k.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||k.comparator(e.key,n.key)}}class Yfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new He(Ft.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new nS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,n){return b.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(J);return n.forEach(i=>{const o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),b.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;k.isDocumentKey(o)||(o=o.child(""));const s=new Ft(new k(o),0);let a=new He(J);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return b.forEach(n.mutations,i=>{const o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Rs.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Zfe{constructor(e){this.Ds=e,this.docs=new Ue(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ze.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jn();const s=n.path,a=new k(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||UC(b$(l),r)<=0||(i.has(l.key)||jd(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xfe(this)}getSize(e){return b.resolve(this.size)}}class Xfe extends zfe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Jfe{constructor(e){this.persistence=e,this.xs=new Wi(n=>zs(n),Bd),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vS,this.targetCount=0,this.Ms=Js.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),b.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Fn(n),b.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.ks.containsKey(n))}}class bS{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Jfe(this),this.indexManager=new Vfe,this.remoteDocumentCache=new Zfe(r=>this.referenceDelegate.Ls(r)),this.serializer=new U4(n),this.qs=new Kfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Yfe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new epe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return b.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class epe extends whe{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Qs=new vS,this.js=null}static zs(e){return new Ug(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),b.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,r=>{const i=k.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,H.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return b.or([()=>b.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class DS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ae(),i=ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DS(e,n.fromCache,r,i)}}class pH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(J$(n))return b.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Cg(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ae(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,Cg(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return J$(n)||i.isEqual(H.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(LC()<=ye.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),JC(n)),this.Wi(e,s,n,function v$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new Xe(n+1,0):new Xe(n,r));return new Zn(i,k.empty(),e)}(i,-1)))})}ji(e,n){let r=new He(n4(e));return n.forEach((i,o)=>{jd(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return LC()<=ye.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",JC(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class npe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ue(J),this.Yi=new Wi(o=>zs(o),Bd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function gH(t,e){return TS.apply(this,arguments)}function TS(){return TS=y(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ae();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}),TS.apply(this,arguments)}function _H(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ope(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yc(t,e,n){return CS.apply(this,arguments)}function CS(){return CS=y(function*(t,e,n){const r=R(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ro(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),CS.apply(this,arguments)}function Hg(t,e,n){const r=R(t);let i=H.min(),o=ae();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=R(a),d=l.Yi.get(u);return void 0!==d?b.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:H.min(),n?o:ae())).next(a=>(function wH(t,e,n){let r=t.Xi.get(e)||H.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function t4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class kS{constructor(){this.activeTargetIds=function eS(){return sfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DH{constructor(){this.Hr=new kS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cpe{Yr(e){}shutdown(){}}class TH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qg=null;function RS(){return null===qg?qg=268435456+Math.round(2147483648*Math.random()):qg++,"0x"+qg.toString(16)}const upe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lpe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ln="WebChannelConnection";class dpe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=RS(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(u=>(S("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Rr("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${upe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=RS();return new Promise((s,a)=>{const c=new uhe;c.setWithCredentials(!0),c.listenOnce(she.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case FC.NO_ERROR:const l=c.getResponseJson();S(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case FC.TIMEOUT:S(ln,`RPC '${e}' ${o} timed out`),a(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case FC.HTTP_ERROR:const d=c.getStatus();if(S(ln,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(g)>=0?g:w.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{S(ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);S(ln,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=RS(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ihe(),a=ohe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new che({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");S(ln,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,f=!1;const p=new lpe({ro:g=>{f?S(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(S(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(ln,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,I=>{try{_(I)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,hg.EventType.OPEN,()=>{f||S(ln,`RPC '${e}' stream ${i} transport opened.`)}),m(d,hg.EventType.CLOSE,()=>{f||(f=!0,S(ln,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,hg.EventType.ERROR,g=>{f||(f=!0,Rr(ln,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new C(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,hg.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];$(!!_);const x=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(x){S(ln,`RPC '${e}' stream ${i} received error:`,x);const B=x.status;let z=function(je){const wt=vt[je];if(void 0!==wt)return b4(wt)}(B),oe=x.message;void 0===z&&(z=w.INTERNAL,oe="Unknown error status: "+B+" with message "+x.message),f=!0,p.wo(new C(z,oe)),d.close()}else S(ln,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,ahe.STAT_EVENT,g=>{g.stat===f$.PROXY?S(ln,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===f$.NOPROXY&&S(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Wg(){return typeof document<"u"?document:null}function sh(t){return new bfe(t,!0)}class OS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class SH{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new OS(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(ht(n.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hpe extends SH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ife(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:V(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?($(void 0===u||"string"==typeof u),St.fromBase64String(u||"")):($(void 0===u||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?w.UNKNOWN:b4(c.code);return new C(u,c.message||"")}(s);n=new T4(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=di(t,r.document.name),o=pt(r.document.updateTime),s=r.document.createTime?pt(r.document.createTime):H.min(),a=new Xt({mapValue:{fields:r.document.fields}}),c=ze.newFoundDocument(i,o,s,a);n=new kg(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=di(t,r.document),o=r.readTime?pt(r.readTime):H.min(),s=ze.newNoDocument(i,o);n=new kg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=di(t,r.document);n=new kg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new pfe(i,o);n=new D4(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?H.min():o.readTime?pt(o.readTime):H.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Yd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Ig(a)?{documents:P4(i,a)}:{query:dS(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=x4(i,o.resumeToken);const c=aS(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(H.min())>0){s.readTime=Gc(i,o.snapshotVersion.toTimestamp());const c=aS(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function Tfe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Yd(this.serializer),n.removeTarget=e,this.Wo(n)}}class fpe extends SH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Dfe(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let o=pt(r.updateTime?r.updateTime:i);return o.isEqual(H.min())&&(o=pt(i)),new lfe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.cu(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Zd(t,e){let n;if(e instanceof Hc)n={update:R4(t,e.key,e.value)};else if(e instanceof zc)n={delete:Qd(t,e.key)};else if(e instanceof Ki)n={update:R4(t,e.key,e.data),updateMask:xfe(e.fieldMask)};else{if(!(e instanceof tS))return V();n={verify:Qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof qs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ws)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof $c)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class ppe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(w.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class gpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ht(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _pe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var c;zo(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const l=R(u);l.vu.add(4),yield Zc(l),l.bu.set("Unknown"),l.vu.delete(4),yield ah(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.bu=new gpe(r,i)}}function ah(t){return FS.apply(this,arguments)}function FS(){return FS=y(function*(t){if(zo(t))for(const e of t.Ru)yield e(!0)}),FS.apply(this,arguments)}function Zc(t){return LS.apply(this,arguments)}function LS(){return LS=y(function*(t){for(const e of t.Ru)yield e(!1)}),LS.apply(this,arguments)}function Kg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),US(n)?BS(n):Jc(n).Ko()&&VS(n,e))}function ch(t,e){const n=R(t),r=Jc(n);n.Au.delete(e),r.Ko()&&AH(n,e),0===n.Au.size&&(r.Ko()?r.jo():zo(n)&&n.bu.set("Unknown"))}function VS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jc(t).su(e)}function AH(t,e){t.Vu.qt(e),Jc(t).iu(e)}function BS(t){t.Vu=new gfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Jc(t).start(),t.bu.gu()}function US(t){return zo(t)&&!Jc(t).Uo()&&t.Au.size>0}function zo(t){return 0===R(t).vu.size}function xH(t){t.Vu=void 0}function ype(t){return jS.apply(this,arguments)}function jS(){return jS=y(function*(t){t.Au.forEach((e,n)=>{VS(t,e)})}),jS.apply(this,arguments)}function vpe(t,e){return $S.apply(this,arguments)}function $S(){return $S=y(function*(t,e){xH(t),US(t)?(t.bu.Iu(e),BS(t)):t.bu.set("Unknown")}),$S.apply(this,arguments)}function bpe(t,e,n){return HS.apply(this,arguments)}function HS(){return HS=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof T4&&2===e.state&&e.cause)try{yield(r=y(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qg(t,r)}else if(e instanceof kg?t.Vu.Ht(e):e instanceof D4?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(H.min()))try{const r=yield _H(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),AH(i,a);const l=new Qi(u.target,a,c,u.sequenceNumber);VS(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Qg(t,r)}var r}),HS.apply(this,arguments)}function Qg(t,e,n){return zS.apply(this,arguments)}function zS(){return zS=y(function*(t,e,n){if(!Ro(e))throw e;t.vu.add(1),yield Zc(t),t.bu.set("Offline"),n||(n=()=>_H(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ah(t)}))}),zS.apply(this,arguments)}function MH(t,e){return e().catch(n=>Qg(t,n,e))}function Xc(t){return GS.apply(this,arguments)}function GS(){return GS=y(function*(t){const e=R(t),n=Go(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wpe(e);)try{const i=yield ope(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Epe(e,i)}catch(i){yield Qg(e,i)}kH(e)&&NH(e)}),GS.apply(this,arguments)}function wpe(t){return zo(t)&&t.Eu.length<10}function Epe(t,e){t.Eu.push(e);const n=Go(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function kH(t){return zo(t)&&!Go(t).Uo()&&t.Eu.length>0}function NH(t){Go(t).start()}function Ipe(t){return qS.apply(this,arguments)}function qS(){return qS=y(function*(t){Go(t).hu()}),qS.apply(this,arguments)}function Dpe(t){return WS.apply(this,arguments)}function WS(){return WS=y(function*(t){const e=Go(t);for(const n of t.Eu)e.uu(n.mutations)}),WS.apply(this,arguments)}function Tpe(t,e,n){return KS.apply(this,arguments)}function KS(){return KS=y(function*(t,e,n){const r=t.Eu.shift(),i=rS.from(r,e,n);yield MH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xc(t)}),KS.apply(this,arguments)}function Cpe(t,e){return QS.apply(this,arguments)}function QS(){return QS=y(function*(t,e){var n;e&&Go(t).ou&&(yield(n=y(function*(r,i){if(function v4(t){switch(t){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(o=i.code)&&o!==w.ABORTED){const s=r.Eu.shift();Go(r).Qo(),yield MH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Xc(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),kH(t)&&NH(t)}),QS.apply(this,arguments)}function RH(t,e){return YS.apply(this,arguments)}function YS(){return YS=y(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=zo(n);n.vu.add(3),yield Zc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ah(n)}),YS.apply(this,arguments)}function XS(){return XS=y(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield ah(n)):e||(n.vu.add(2),yield Zc(n),n.bu.set("Unknown"))}),XS.apply(this,arguments)}function Jc(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new hpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ype.bind(null,t),ao:vpe.bind(null,t),nu:bpe.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),US(t)?BS(t):t.bu.set("Unknown")):(yield t.Su.stop(),xH(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Go(t){return t.Du||(t.Du=function(e,n,r){const i=R(e);return i.fu(),new fpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ipe.bind(null,t),ao:Cpe.bind(null,t),au:Dpe.bind(null,t),cu:Tpe.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield Xc(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class JS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new JS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eu(t,e){if(ht("AsyncQueue",`${e}: ${t}`),Ro(t))return new C(w.UNAVAILABLE,`${e}: ${t}`);throw t}class tu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=$d(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class OH{constructor(){this.Cu=new Ue(k.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class nu{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new nu(e,n,tu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Spe{constructor(){this.Nu=void 0,this.listeners=[]}}class Ape{constructor(){this.queries=new Wi(e=>e4(e),Ud),this.onlineState="Unknown",this.ku=new Set}}function tA(){return tA=y(function*(t,e){const n=R(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Spe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=eu(s,`Initialization of query '${JC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&iA(n)}),tA.apply(this,arguments)}function rA(){return rA=y(function*(t,e){const n=R(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),rA.apply(this,arguments)}function xpe(t,e){const n=R(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&iA(n)}function Mpe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function iA(t){t.ku.forEach(e=>{e.next()})}class oA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class LH{constructor(e){this.key=e}}class VH{constructor(e){this.key=e}}class BH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=n4(e),this.ec=new tu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new OH,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=jd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.rc(h,f)||(r.track({type:2,doc:f}),g=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(c||u)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new nu(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new OH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new VH(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new LH(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ae();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Rpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ope{constructor(e){this.key=e,this.fc=!1}}class Ppe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Wi(a=>e4(a),Ud),this._c=new Map,this.mc=new Set,this.gc=new Ue(k.comparator),this.yc=new Map,this.Ic=new vS,this.Tc={},this.Ec=new Map,this.Ac=Js.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Fpe(t,e){return sA.apply(this,arguments)}function sA(){return sA=y(function*(t,e){const n=function xA(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bpe.bind(null,e),e.dc.nu=xpe.bind(null,e.eventManager),e.dc.Pc=Mpe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Qc(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Qi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Sn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function aA(t,e,n,r,i){return cA.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Kg(n.remoteStore,s)}return i}),sA.apply(this,arguments)}function cA(){return cA=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(m,g,v,_){let I=g.view.sc(v);I.zi&&(I=yield Hg(m.localStore,g.query,!1).then(({documents:z})=>g.view.sc(z,I)));const x=_&&_.targetChanges.get(g.targetId),B=g.view.applyChanges(I,m.isPrimaryClient,x);return yA(m,g.targetId,B.cc),B.snapshot}),function(m,g,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Hg(t.localStore,e,!0),s=new BH(e,o.ir),a=s.sc(o.documents),c=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);yA(t,n,u.cc);const l=new Rpe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),cA.apply(this,arguments)}function Lpe(t,e){return uA.apply(this,arguments)}function uA(){return uA=y(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Ud(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ch(n.remoteStore,r.targetId),ru(n,r.targetId)}).catch(No))):(ru(n,r.targetId),yield Yc(n.localStore,r.targetId,!0))}),uA.apply(this,arguments)}function lA(){return lA=y(function*(t,e,n){const r=function MA(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Upe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jpe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=R(o),c=Xe.now(),u=s.reduce((h,f)=>h.add(f.key),ae());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=jn(),p=ae();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((g,v)=>{v.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const g=[];for(const v of s){const _=hfe(v,l.get(v.key).overlayedDocument);null!=_&&g.push(new Ki(v.key,_,U$(_.value.mapValue),Qe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,g,s)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:i4(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new Ue(J)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield Yi(r,i.changes),yield Xc(r.remoteStore)}catch(i){const o=eu(i,"Failed to persist write");n.reject(o)}}),lA.apply(this,arguments)}function UH(t,e){return dA.apply(this,arguments)}function dA(){return dA=y(function*(t,e){const n=R(t);try{const r=yield function ipe(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(d)?f=f.withResumeToken(St.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,g=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=jn(),u=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function yH(t,e,n){let r=ae(),i=ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=jn();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(H.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?$(s.fc):i.removedDocuments.size>0&&($(s.fc),s.fc=!1))}),yield Yi(n,r,e)}catch(r){yield No(r)}}),dA.apply(this,arguments)}function jH(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=R(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&iA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bpe(t,e,n){return hA.apply(this,arguments)}function hA(){return hA=y(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Ue(k.comparator);s=s.insert(o,ze.newNoDocument(o,H.min()));const a=ae().add(o),c=new Wd(H.min(),new Map,new Ue(J),s,a);yield UH(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),vA(r)}else yield Yc(r.localStore,e,!1).then(()=>ru(r,e,n)).catch(No)}),hA.apply(this,arguments)}function Upe(t,e){return fA.apply(this,arguments)}function fA(){return fA=y(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function rpe(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=b.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=c.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ae();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);_A(n,r,null),gA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yi(n,i)}catch(i){yield No(i)}}),fA.apply(this,arguments)}function jpe(t,e,n){return pA.apply(this,arguments)}function pA(){return pA=y(function*(t,e,n){const r=R(t);try{const i=yield function(o,s){const a=R(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>($(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);_A(r,e,n),gA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yi(r,i)}catch(i){yield No(i)}}),pA.apply(this,arguments)}function gA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function _A(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ru(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$H(t,r)})}function $H(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ch(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),vA(t))}function yA(t,e,n){for(const r of n)r instanceof LH?(t.Ic.addReference(r.key,e),Hpe(t,r)):r instanceof VH?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$H(t,r.key)):V()}function Hpe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),vA(t))}function vA(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new k(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ope(n)),t.gc=t.gc.insert(n,r),Kg(t.remoteStore,new Qi(Sn(Uc(n.path)),r,"TargetPurposeLimboResolution",Xn.ct))}}function Yi(t,e,n){return bA.apply(this,arguments)}function bA(){return bA=y(function*(t,e,n){const r=R(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=DS.Li(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=y(function*(c,u){const l=R(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(u,h=>b.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ro(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),bA.apply(this,arguments)}function zpe(t,e){return wA.apply(this,arguments)}function wA(){return wA=y(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield gH(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yi(n,r.er)}var i}),wA.apply(this,arguments)}function Gpe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class Yg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=sh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function mH(t,e,n,r){return new npe(t,e,n,r)}(this.persistence,new pH,e.initialUser,this.serializer)}createPersistence(e){return new bS(Ug.zs,this.serializer)}createSharedClientState(e){return new DH}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iu{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zpe.bind(null,r.syncEngine),yield function ZS(t,e){return XS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ape}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=new dpe(e.databaseInfo);return new ppe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>jH(this.syncEngine,a,0),s=TH.D()?new TH:new cpe,new _pe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new Ppe(r,i,o,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Zc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ime{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=_$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=eu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Xg(t,e){return kA.apply(this,arguments)}function kA(){return kA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(o){r.isEqual(o)||(yield gH(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),kA.apply(this,arguments)}function NA(t,e){return RA.apply(this,arguments)}function RA(){return RA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function OA(t){return PA.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>RH(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>RH(e.remoteStore,o)),t._onlineComponents=e}),RA.apply(this,arguments)}function PA(){return PA=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function KH(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Rr("Error using user provided cache. Falling back to memory cache: "+n),yield Xg(t,new Yg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Xg(t,new Yg);return t._offlineComponents}),PA.apply(this,arguments)}function Jg(t){return FA.apply(this,arguments)}function FA(){return FA=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield NA(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield NA(t,new iu))),t._onlineComponents}),FA.apply(this,arguments)}function ou(t){return VA.apply(this,arguments)}function VA(){return VA=y(function*(t){const e=yield Jg(t),n=e.eventManager;return n.onListen=Fpe.bind(null,e.syncEngine),n.onUnlisten=Lpe.bind(null,e.syncEngine),n}),VA.apply(this,arguments)}function ez(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const tz=new Map;function BA(t,e,n){if(!n)throw new C(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nz(t){if(!k.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rz(t){if(k.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=t_(t);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class oz{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function fme(t,e,n,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ez(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oz(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dhe;switch(n.type){case"firstParty":return new mhe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=tz.get(e);n&&(S("ComponentProvider","Removing Datastore"),tz.delete(e),n.terminate())}(this),Promise.resolve()}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class Jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class hi extends Jt{constructor(e,n,r){super(e,n,Uc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new k(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function mme(t,e,...n){if(t=In(t),BA("collection","path",e),t instanceof uh){const r=ge.fromString(e,...n);return rz(r),new hi(t,null,r)}{if(!(t instanceof mt||t instanceof hi))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return rz(r),new hi(t.firestore,null,r)}}function sz(t,e,...n){if(t=In(t),1===arguments.length&&(e=_$.A()),BA("doc","path",e),t instanceof uh){const r=ge.fromString(e,...n);return nz(r),new mt(t,null,new k(r))}{if(!(t instanceof mt||t instanceof hi))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return nz(r),new mt(t.firestore,t instanceof hi?t.converter:null,new k(r))}}class gme{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new OS(this,"async_queue_retry"),this.Xc=()=>{const n=Wg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Wg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ro(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=JS.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function UA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ge extends uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gme,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cz(this),this._firestoreClient.terminate()}}function yme(t,e){const r="string"==typeof t?t:e||"(default)",i=um("object"==typeof t?t:cV(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=im())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function pme(t,e,n,r={}){var i;const o=(t=fe(t,uh))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ot.MOCK_USER;else{a=function ore(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nm(JSON.stringify({alg:"none",type:"JWT"})),nm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(u)}t._authCredentials=new hhe(new m$(a,c))}}(i,...o)}return i}function bt(t){return t._firestoreClient||cz(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cz(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ghe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ez(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new ime(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(St.fromBase64String(e))}catch(n){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jA{constructor(e){this._methodName=e}}class $A{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const bme=/^__.*__$/;class dz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class n_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new n_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return i_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(hz(this.ca)&&bme.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Eme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}ya(e,n,r,i=!1){return new n_({ca:e,methodName:n,ga:r,path:ft.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}class dh extends jA{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function na(t,e){if(yz(t=In(t)))return GA("Unsupported field value:",e,t),function _z(t,e){const n={};return k$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const o=na(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}(t,e);if(t instanceof jA)return function(n,r){if(!hz(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=na(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=In(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return c4(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:Gc(r.serializer,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gc(r.serializer,i)}}if(n instanceof $A)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ta)return{bytesValue:x4(r.serializer,n._byteString)};if(n instanceof mt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${t_(n)}`)}(t,e)}function yz(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof $A||t instanceof ta||t instanceof mt||t instanceof jA)}function GA(t,e,n){if(!yz(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=t_(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function hh(t,e,n){if((e=In(e))instanceof su)return e._internalPath;if("string"==typeof e)return r_(t,e);throw i_("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cme=new RegExp("[~\\*/\\[\\]]");function r_(t,e,n){if(e.search(Cme)>=0)throw i_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new su(...e.split("."))._internalPath}catch{throw i_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function i_(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new C(w.INVALID_ARGUMENT,a+t+c)}function vz(t,e){return t.some(n=>n.isEqual(e))}class qA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Sme extends qA{data(){return super.data()}}function o_(t,e){return"string"==typeof e?r_(t,e):e instanceof su?e._internalPath:e._delegate._internalPath}class xme{convertValue(e,n="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new $A(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);$(B4(r));const i=new $s(r.get(1),r.get(3)),o=new k(r.popFirst(5));return i.isEqual(n)||ht(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends qA{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new u_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class u_ extends uu{data(e={}){return super.data(e)}}class lu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new u_(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new u_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ra(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new u_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ra(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:kme(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class qo extends xme{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Nme(t,e,n,...r){t=fe(t,mt);const i=fe(t.firestore,Ge),o=function au(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new Eme(t._databaseId,!!e.ignoreUndefinedProperties,n)}(i);let s;return s="string"==typeof(e=In(e))||e instanceof su?function mz(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[hh(e,r,n)],c=[i];if(o.length%2!=0)throw new C(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(hh(e,o[h])),c.push(o[h+1]);const u=[],l=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!vz(u,a[h])){const f=a[h];let p=c[h];p=In(p);const m=s.da(f);if(p instanceof dh)u.push(f);else{const g=na(p,m);null!=g&&(u.push(f),l.set(f,g))}}const d=new Un(u);return new dz(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function pz(t,e,n,r){const i=t.ya(1,e,n);GA("Data must be an object, but it was:",i,r);const o=[],s=Xt.empty();Oo(r,(c,u)=>{const l=r_(e,c,n);u=In(u);const d=i.da(l);if(u instanceof dh)o.push(l);else{const h=na(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Un(o);return new dz(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),ph(i,[s.toMutation(t._key,Qe.exists(!0))])}function Rme(t){return ph(fe(t.firestore,Ge),[new zc(t._key,Qe.none())])}function ph(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(y(function*(){return function Vpe(t,e,n){return lA.apply(this,arguments)}(yield function LA(t){return Jg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(bt(t),e)}!function(t,e=!0){Oc=ql,Dn(new on("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ge(new fhe(n.getProvider("auth-internal")),new ghe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),dt(p$,"3.13.0",t),dt(p$,"3.13.0","esm2017")}();var qme={includeMetadataChanges:!1};function YA(t,e){return void 0===e&&(e=qme),new qe(function(n){var r=function Ome(t,...e){var n,r,i;t=In(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||UA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(UA(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(t instanceof mt)u=fe(t.firestore,Ge),l=Uc(t._key.path),c={next:d=>{e[s]&&e[s](function QA(t,e,n){const r=n.docs.get(e._key),i=new qo(t);return new uu(t,i,e._key,r,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=fe(t,Jt);u=fe(d.firestore,Ge),l=d._query;const h=new qo(u);c={next:f=>{e[s]&&e[s](new lu(u,h,d,f))},error:e[s+1],complete:e[s+2]},function bz(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Zg(p),g=new oA(h,m,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function eA(t,e){return tA.apply(this,arguments)}(yield ou(d),g)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function nA(t,e){return rA.apply(this,arguments)}(yield ou(d),g)}))}}(bt(u),l,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Kme(t,e){return void 0===e&&(e={}),function Wme(t){return YA(t,{includeMetadataChanges:!0})}(t).pipe(be(function(n){return Az(n,e)}))}function Az(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function ege(t,e){return void 0===e&&(e={}),function Jme(t){return YA(t,{includeMetadataChanges:!0}).pipe(be(function(e){return e.docs}))}(t).pipe(be(function(n){return n.map(function(r){return Az(r,e)})}))}class mh{constructor(e){return e}}const Nz="firestore",JA=new N("angularfire2.firestore-instances");function rge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mh(r)}}const ige={provide:class tge{constructor(){return bI(Nz)}},deps:[[new Rn,JA]]},oge={provide:mh,useFactory:function nge(t,e){const n=function vI(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(Nz,t,e);return n&&new mh(n)},deps:[[new Rn,JA],Ec]};let sge=(()=>{class t{constructor(){dt("angularfire",dI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=It({providers:[oge,ige]}),t})();function age(t,...e){return{ngModule:sge,providers:[{provide:JA,useFactory:rge(t),multi:!0,deps:[Ee,_n,DB,TB,[new Rn,xU],[new Rn,ZU],...e]}]}}const cge=To(ege,!0),uge=To(Kme,!0),lge=To(mme,!0),dge=To(Rme,!0),ex=To(sz,!0),hge=To(yme,!0),fge=To(Nme,!0);let Rz=(()=>{class t{static#e=this.url="weapons";constructor(n,r){this.firestore=n,this.messageService=r,this.weapons=[]}getWeapons(){const n=lge(this.firestore,t.url);return this.messageService.add("Weapons loaded!"),cge(n,{idField:"id"})}getWeapon(n){const r=ex(this.firestore,t.url+"/"+n);return this.messageService.add("Weapon "+n+" loaded!"),uge(r,{idField:"id"})}updateWeapon(n,r){const i=ex(this.firestore,t.url+"/"+n);return this.messageService.add("Weapons update!"),fge(i,r)}deleteWeapon(n){const r=ex(this.firestore,t.url+"/"+n);return this.messageService.add("Weapons delete!"),dge(r)}static#t=this.\u0275fac=function(r){return new(r||t)(P(mh),P(gc))};static#n=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pge(t,e){if(1&t&&(ue(0,"a",1),Ae(1),ce()),2&t){const n=e.$implicit;rl("routerLink","/weapon/detail/",n.id,""),zt(1),fo(" ",n.name,"\n")}}let mge=(()=>{class t{static#e=this.url="weapons";constructor(n,r,i){this.firestore=n,this.messageService=r,this.weaponService=i,this.weapons=[],this.weaponService.getWeapons().subscribe(o=>this.weapons=o)}static#t=this.\u0275fac=function(r){return new(r||t)(D(mh),D(gc),D(Rz))};static#n=this.\u0275cmp=Br({type:t,selectors:[["app-weapons"]],decls:1,vars:1,consts:[[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,i){1&r&&lo(0,pge,2,2,"a",0),2&r&&yn("ngForOf",i.weapons)},dependencies:[yp,mc]})}return t})();function gge(t,e){1&t&&Si(0,"img",13),2&t&&yn("src",Er(2).imageDataUrl.toString(),Jy)}function _ge(t,e){if(1&t){const n=qv();ue(0,"div")(1,"h2"),Ae(2),ce(),ue(3,"form",2)(4,"label",3),Ae(5,"Picture: "),ce(),ue(6,"input",4),Le("change",function(i){return ts(n),ns(Er().onFileSelected(i))}),ce(),lo(7,gge,1,1,"img",5),Si(8,"input",6),ue(9,"label",3),Ae(10,"Name: "),ce(),Si(11,"input",7),ue(12,"label",8),Ae(13,"Damage: "),ce(),ue(14,"input",9),Le("click",function(){return ts(n),ns(Er().changeExp())}),ce(),ue(15,"label",8),Ae(16,"Knockback: "),ce(),ue(17,"input",10),Le("click",function(){return ts(n),ns(Er().changeExp())}),ce()(),ue(18,"p"),Ae(19),ce(),ue(20,"button",11),Le("click",function(){return ts(n),ns(Er().updateWeapon())}),Ae(21,"Save"),ce(),ue(22,"button",12),Le("click",function(){return ts(n),ns(Er().deleteWeapon())}),Ae(23,"Delete"),ce()()}if(2&t){const n=Er();zt(2),qf("",n.weapon.name," ",n.weapon.id,""),zt(1),yn("formGroup",n.skillsForms),zt(4),yn("ngIf",n.imageDataUrl),zt(12),fo("Experience left: ",n.experience,""),zt(1),yn("disabled",!n.enableForm())}}const yge=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:$ne},{path:"hero/detail/:id",component:Gne},{path:"heroes",component:jne},{path:"weapons",component:mge},{path:"weapon/detail/:id",component:(()=>{class t{constructor(n,r,i,o){this.location=n,this.weaponService=r,this.route=i,this.messageService=o,this.name=0,this.damage=0,this.knockback=0,this.experience=0,this.image=0,this.skillsForms=new Ul({name:new xr(""),damage:new xr(0),knockback:new xr(0),image:new xr("")}),this.imageDataUrl=null}ngOnInit(){this.getWeapon()}goBack(){this.location.back()}enableForm(){return this.experience==this.weapon?.experience}changeExp(){this.damage=this.skillsForms.value.damage||0,this.knockback=this.skillsForms.value.knockback||0,this.experience=-this.damage-this.knockback}onFileSelected(n){const r=n.target;if(r.files&&r.files.length>0){const i=new FileReader;i.onload=o=>{this.imageDataUrl=o.target?.result,this.skillsForms.patchValue({image:this.imageDataUrl})},i.readAsDataURL(r.files[0])}else this.imageDataUrl=null,this.skillsForms.patchValue({image:""})}getWeapon(){const n=String(this.route.snapshot.paramMap.get("id"));this.weaponService.getWeapon(n).subscribe(r=>{this.weapon=r,this.skillsForms.patchValue({name:this.weapon?.name,damage:this.weapon?.damage,knockback:this.weapon?.knockback,image:this.weapon?.image}),this.imageDataUrl=this.weapon?.image||null})}updateWeapon(){const n=String(this.route.snapshot.paramMap.get("id"));this.weaponService.updateWeapon(n,{name:this.skillsForms.value.name||"",damage:this.skillsForms.value.damage||0,knockback:this.skillsForms.value.knockback||0,image:this.skillsForms.value.image||""})}deleteWeapon(){const n=String(this.route.snapshot.paramMap.get("id"));this.weaponService.deleteWeapon(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(ml),D(Rz),D(vo),D(gc))};static#t=this.\u0275cmp=Br({type:t,selectors:[["app-weapon-detail"]],inputs:{weapon:"weapon"},decls:3,vars:1,consts:[["type","button",3,"click"],[4,"ngIf"],[2,"display","flex","flex-direction","column","width","200px",3,"formGroup"],["for","name"],["type","file",3,"change"],["alt","Selected Image",3,"src",4,"ngIf"],["id","image","type","hidden","formControlName","image"],["id","name","type","text","formControlName","name"],["for","first-name"],["id","first-name","type","number","formControlName","damage","max","5","min","-5",3,"click"],["id","first-name","type","number","formControlName","knockback","max","5","min","-5",3,"click"],["type","submit",3,"disabled","click"],["type","submit",3,"click"],["alt","Selected Image",3,"src"]],template:function(r,i){1&r&&(ue(0,"button",0),Le("click",function(){return i.goBack()}),Ae(1,"go back"),ce(),lo(2,_ge,24,6,"div",1)),2&r&&(zt(2),yn("ngIf",i.weapon))},dependencies:[vp,Ww,Ll,Xp,Fw,Lw,tm,em,zl,Jp]})}return t})()}];let vge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[GL.forRoot(yge),GL]})}return t})();const bge_firebase={projectId:"heroes-angular-77700",appId:"1:616959304621:web:c447b09c3639e7a41e3724",storageBucket:"heroes-angular-77700.appspot.com",apiKey:"AIzaSyA9K5yXgvOwGgyLrUze0_h2MkZ018RDd4s",authDomain:"heroes-angular-77700.firebaseapp.com",messagingSenderId:"616959304621"};let tx;try{tx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tx=!1}let gh,Oz=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function cX(t){return t===fF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(P(Ei))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d_(t){return function wge(){if(null==gh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gh=!0}))}finally{gh=gh||!1}return gh}()?t:!!t.capture}function Fz(t){return Array.isArray(t)?t:[t]}const Vz=new Set;let oa,Rge=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pge}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function Oge(t,e){if(!Vz.has(t))try{oa||(oa=document.createElement("style"),e&&(oa.nonce=e),oa.setAttribute("type","text/css"),document.head.appendChild(oa)),oa.sheet&&(oa.sheet.insertRule(`@media ${t} {body{ }}`,0),Vz.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||t)(P(Oz),P(av,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pge(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Fge=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new rr}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Bz(Fz(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let o=Ip(Bz(Fz(n)).map(s=>this._registerQuery(s).observable));return o=Tp(o.pipe(ps(1)),o.pipe(function kge(t){return Ni((e,n)=>t<=n)}(1),function Nge(t,e=EB){return gt((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function c(){const u=s+t,l=e.now();if(l<u)return i=this.schedule(void 0,u-l),void r.add(i);a()}n.subscribe(at(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(be(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),o={observable:new qe(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe($F(r),be(({matches:s})=>({query:n,matches:s})),zF(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static#e=this.\u0275fac=function(r){return new(r||t)(P(Rge),P(Ee))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bz(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const Hz="cdk-high-contrast-black-on-white",zz="cdk-high-contrast-white-on-black",rx="cdk-high-contrast-active";let Wge=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=L(Fge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(rx,Hz,zz),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(rx,Hz):2===r&&n.add(rx,zz)}}static#e=this.\u0275fac=function(r){return new(r||t)(P(Oz),P(Gt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({})}return t})();const Zge=new N("mat-sanity-checks",{providedIn:"root",factory:function Yge(){return!0}});let f_=(()=>{class t{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function Dge(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||t)(P(Wge),P(Zge,8),P(Gt))};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[Gz,Gz]})}return t})();const Kz=d_({passive:!0,capture:!0});class e_e{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=function Ige(t){return t.composedPath?t.composedPath()[0]:t.target}(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,r,i){const o=this._events.get(n);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Kz)})}removeHandler(e,n,r){const i=this._events.get(e);if(!i)return;const o=i.get(n);o&&(o.delete(r),0===o.size&&i.delete(n),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Kz)))}}class ix{static#e=this._eventManager=new e_e;constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Lz(r))}fadeInRipple(e,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Qz,...r.animation},s=r.radius||function n_e(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(e,n,i),a=e-i.left,c=n-i.top,u=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-s+"px",l.style.top=c-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);const d=window.getComputedStyle(l),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new Jge(this,l,r,p);l.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);return!p&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),_=()=>this._destroyRipple(m);l.addEventListener("transitionend",v),l.addEventListener("transitioncancel",_)}),this._activeRipples.set(m,null),(p||!u)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,r={...Qz,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=Lz(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Zz.forEach(r=>{ix._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xz.forEach(n=>{this._triggerElement.addEventListener(n,this,Yz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=function zge(t){return 0===t.buttons||0===t.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function Gge(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Zz.forEach(n=>ix._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&Xz.forEach(n=>e.removeEventListener(n,this,Yz)))}}let r_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[f_,f_]})}return t})(),s_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({imports:[f_,r_e,f_]})}return t})();class Jz{}class a_e{}const Zi="*";function eG(t,e=null){return{type:2,steps:t,options:e}}function tG(t){return{type:6,styles:t,offset:null}}class yh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class nG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function rG(t){return new E(3e3,!1)}function Wo(t){switch(t.length){case 0:return new yh;case 1:return t[0];default:return new nG(t)}}function iG(t,e,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),l=u==s,d=l&&a||new Map;c.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),m){case"!":m=n.get(f);break;case Zi:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i)}d.set(p,m)}),l||o.push(d),a=d,s=u}),i.length)throw function M_e(t){return new E(3502,!1)}();return o}function sx(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ax(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ax(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ax(n,"destroy",t)))}}function ax(t,e,n){const o=cx(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),s=t._data;return null!=s&&(o._data=s),o}function cx(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Jn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function oG(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const $_e=(()=>typeof document>"u"?null:document.documentElement)();function ux(t){const e=t.parentNode||t.host||null;return e===$_e?null:e}let sa=null,sG=!1;function aG(t,e){for(;e;){if(e===t)return!0;e=ux(e)}return!1}function cG(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let uG=(()=>{class t{validateStyleProperty(n){return function z_e(t){sa||(sa=function G_e(){return typeof document<"u"?document.body:null}()||{},sG=!!sa.style&&"WebkitAppearance"in sa.style);let e=!0;return sa.style&&!function H_e(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in sa.style,!e&&sG&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in sa.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return aG(n,r)}getParentElement(n){return ux(n)}query(n,r,i){return cG(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],c){return new yh(i,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),lx=(()=>{class t{static#e=this.NOOP=new uG}return t})();const q_e=1e3,dx="ng-enter",p_="ng-leave",m_="ng-trigger",g_=".ng-trigger",dG="ng-animating",hx=".ng-animating";function Xi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fx(parseFloat(e[1]),e[2])}function fx(t,e){return"s"===e?t*q_e:t}function __(t,e,n){return t.hasOwnProperty("duration")?t:function K_e(t,e,n){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(rG()),{duration:0,delay:0,easing:""};i=fx(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=fx(parseFloat(c),a[4]));const u=a[5];u&&(s=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(function c_e(){return new E(3100,!1)}()),a=!0),o<0&&(e.push(function u_e(){return new E(3101,!1)}()),a=!0),a&&e.splice(c,0,rG())}return{duration:i,delay:o,easing:s}}(t,e,n)}function vh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function hG(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Ko(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function fi(t,e,n){e.forEach((r,i)=>{const o=mx(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function aa(t,e){e.forEach((n,r)=>{const i=mx(r);t.style[i]=""})}function bh(t){return Array.isArray(t)?1==t.length?t[0]:eG(t):t}const px=new RegExp("{{\\s*(.+?)\\s*}}","g");function pG(t){let e=[];if("string"==typeof t){let n;for(;n=px.exec(t);)e.push(n[1]);px.lastIndex=0}return e}function wh(t,e,n){const r=t.toString(),i=r.replace(px,(o,s)=>{let a=e[s];return null==a&&(n.push(function d_e(t){return new E(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function y_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Z_e=/-+([a-z0-9])/g;function mx(t){return t.replace(Z_e,(...e)=>e[1].toUpperCase())}function er(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function h_e(t){return new E(3004,!1)}()}}function mG(t,e){return window.getComputedStyle(t)[e]}const v_="*";function eye(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function tye(t,e,n){if(":"==t[0]){const c=function nye(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function C_e(t){return new E(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof c)return void e.push(c);t=c}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function T_e(t){return new E(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(gG(i,s));"<"==o[0]&&!(i==v_&&s==v_)&&e.push(gG(s,i))}(r,n,e)):n.push(t),n}const b_=new Set(["true","1"]),w_=new Set(["false","0"]);function gG(t,e){const n=b_.has(t)||w_.has(t),r=b_.has(e)||w_.has(e);return(i,o)=>{let s=t==v_||t==i,a=e==v_||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?b_.has(t):w_.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?b_.has(e):w_.has(e)),s&&a}}const rye=new RegExp("s*:selfs*,?","g");function gx(t,e,n,r){return new iye(t).build(e,n,r)}class iye{constructor(e){this._driver=e}build(e,n,r){const i=new aye(n);return this._resetContextStyleTimingState(i),er(this,bh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&n.errors.push(function p_e(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,o.push(this.visitState(c,n))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(function m_e(){return new E(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{pG(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(y_(o.values()),n.errors.push(function g_e(t,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=er(this,bh(e.animation),n);return{type:1,matchers:eye(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ca(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>er(this,r,n)),options:ca(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const o=e.steps.map(s=>{n.currentTime=r;const a=er(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:o,options:ca(e.options)}}visitAnimate(e,n){const r=function uye(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return _x(__(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=_x(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=__(n,e);return _x(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:tG({});if(5==o.type)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=tG(u)}n.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Zi?r.push(a):n.errors.push(new E(3002,!1)):r.push(hG(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c);let d=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(n.errors.push(function y_e(t,e,n,r,i){return new E(3010,!1)}()),d=!1),o=l.startTime),d&&u.set(c,{startTime:o,endTime:i}),n.options&&function Y_e(t,e,n){const r=e.params||{},i=pG(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function l_e(t){return new E(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function v_e(){return new E(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,u=0;const l=e.steps.map(v=>{const _=this._makeStyleAst(v,n);let I=null!=_.offset?_.offset:function cye(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(_.styles),x=0;return null!=I&&(o++,x=_.offset=I),c=c||x<0||x>1,a=a||x<u,u=x,s.push(x),_});c&&n.errors.push(function b_e(){return new E(3012,!1)}()),a&&n.errors.push(function w_e(){return new E(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?n.errors.push(function E_e(){return new E(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return l.forEach((v,_)=>{const I=h>0?_==f?1:h*_:s[_],x=I*g;n.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(v,n),v.offset=I,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:er(this,bh(e.animation),n),options:ca(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ca(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ca(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[o,s]=function oye(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(rye,"")),t=t.replace(/@\*/g,g_).replace(/@\w+/g,n=>g_+"-"+n.slice(1)).replace(/:animating/g,hx),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Jn(n.collectedStyles,n.currentQuerySelector,new Map);const a=er(this,bh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ca(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function I_e(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:__(e.timings,n.errors,!0);return{type:12,animation:er(this,bh(e.animation),n),timings:r,options:null}}}class aye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ca(t){return t?(t=vh(t)).params&&(t.params=function sye(t){return t?vh(t):null}(t.params)):t={},t}function _x(t,e,n){return{duration:t,delay:e,easing:n}}function yx(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class E_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hye=new RegExp(":enter","g"),pye=new RegExp(":leave","g");function vx(t,e,n,r,i,o=new Map,s=new Map,a,c,u=[]){return(new mye).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class mye{buildKeyframes(e,n,r,i,o,s,a,c,u,l=[]){u=u||new E_;const d=new bx(e,n,u,i,o,l,[]);d.options=c;const h=c.delay?Xi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),er(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[yx(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:Xi(wh(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?Xi(r.duration):null,a=null!=r.delay?Xi(r.delay):null;return 0!==s&&e.forEach(c=>{const u=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),er(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=I_);const s=Xi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>er(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?Xi(e.options.delay):0;e.steps.forEach(s=>{const a=n.createSubContext(e.options);o&&a.delayNextStep(o),er(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return __(n.params?wh(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Xi(i.delay):0;o&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=I_);let s=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,u);o&&d.delayNextStep(o),u===n.element&&(c=d.currentTimeline),er(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const l=n.currentTimeline;c&&l.delayNextStep(c);const d=l.currentTime;er(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const I_={};class bx{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=I_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new D_(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Xi(r.duration)),null!=r.delay&&(i.delay=Xi(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=wh(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,o=new bx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=I_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new gye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(hye,"."+this._enterClassName)).replace(pye,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&0==a.length&&s.push(function D_e(t){return new E(3014,!1)}()),a}}class D_{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new D_(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Zi),this._currentKeyframe.set(n,Zi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function _ye(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)n.set(o,Zi)}else Ko(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,c]of s){const u=wh(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zi),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const u=Ko(a,new Map,this._backFill);u.forEach((l,d)=>{"!"===l?e.add(d):l===Zi&&n.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});const o=e.size?y_(e.values()):[],s=n.size?y_(n.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return yx(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class gye extends D_{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,c=Ko(e[0]);c.set("offset",0),o.push(c);const u=Ko(e[0]);u.set("offset",vG(a)),o.push(u);const l=e.length-1;for(let d=1;d<=l;d++){let h=Ko(e[d]);const f=h.get("offset");h.set("offset",vG((n+f*r)/s)),o.push(h)}r=s,n=0,i="",e=o}return yx(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function vG(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class wx{}const yye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vye extends wx{normalizePropertyName(e,n){return mx(e)}normalizeStyleValue(e,n,r,i){let o="";const s=r.toString().trim();if(yye.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function f_e(t,e){return new E(3005,!1)}())}return s+o}}function bG(t,e,n,r,i,o,s,a,c,u,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:h}}const Ex={};class wG{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function bye(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,u,l){const d=[],h=this.ast.options&&this.ast.options.params||Ex,p=this.buildStyles(r,a&&a.params||Ex,d),m=c&&c.params||Ex,g=this.buildStyles(i,m,d),v=new Set,_=new Map,I=new Map,x="void"===i,B={params:wye(m,h),delay:this.ast.options?.delay},z=l?[]:vx(e,n,this.ast.animation,o,s,p,g,B,u,d);let oe=0;if(z.forEach(wt=>{oe=Math.max(wt.duration+wt.delay,oe)}),d.length)return bG(n,this._triggerName,r,i,x,p,g,[],[],_,I,oe,d);z.forEach(wt=>{const tr=wt.element,A_=Jn(_,tr,new Set);wt.preStyleProps.forEach(ua=>A_.add(ua));const Ih=Jn(I,tr,new Set);wt.postStyleProps.forEach(ua=>Ih.add(ua)),tr!==n&&v.add(tr)});const je=y_(v.values());return bG(n,this._triggerName,r,i,x,p,g,z,je,_,I,oe)}}function wye(t,e){const n=vh(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class Eye{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=vh(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=wh(s,i,n));const c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}}class Dye{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Eye(i.style,i.options&&i.options.params||{},r))}),EG(this.states,"true","1"),EG(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new wG(e,i,this.states))}),this.fallbackTransition=function Tye(t,e,n){return new wG(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function EG(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Cye=new E_;class Sye{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],o=gx(this._driver,n,r,[]);if(r.length)throw function k_e(t){return new E(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,r){const i=e.element,o=iG(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=vx(this._driver,n,o,dx,p_,new Map,new Map,r,Cye,i),s.forEach(l=>{const d=Jn(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function N_e(){return new E(3300,!1)}()),s=[]),i.length)throw function R_e(t){return new E(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Zi))})});const u=Wo(s.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function O_e(t){return new E(3301,!1)}();return n}listen(e,n,r,i){const o=cx(n,"","","");return sx(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const IG="ng-animate-queued",Ix="ng-animate-disabled",Nye=[],DG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class Dx{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function Lye(t){return t??null}(r?e.value:e),r){const o=vh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Eh="void",Tx=new Dx(Eh);class Oye{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_r(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function P_e(t,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function F_e(t){return new E(3303,!1)}();if(!function Vye(t){return"start"==t||"done"==t}(r))throw function L_e(t,e){return new E(3400,!1)}();const o=Jn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Jn(this._engine.statesByElement,e,new Map);return a.has(n)||(_r(e,m_),_r(e,m_+"-"+n),a.set(n,Tx)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function V_e(t){return new E(3401,!1)}();return n}trigger(e,n,r,i=!0){const o=this._getTrigger(n),s=new Cx(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(_r(e,m_),_r(e,m_+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n);const u=new Dx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=Tx),u.value!==Eh&&c.value===u.value){if(!function jye(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(c.params,u.params)){const m=[],g=o.matchStyles(c.value,c.params,m),v=o.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{aa(e,g),fi(e,v)})}return}const h=Jn(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:u,player:s,isFallbackTransition:p}),p||(_r(e,IG),s.onStart(()=>{hu(e,IG)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(s);v>=0&&g.splice(v,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,g_,!0);r.forEach(i=>{if(i[Pr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){const l=this.trigger(e,u,Eh,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Wo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,u=r.get(s)||Tx,l=new Dx(Eh),d=new Cx(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[Pr];(!o||o===DG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){_r(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=cx(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,sx(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Pye{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new Oye(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const c=i.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(e,n,r,i){if(T_(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!T_(n))return;const o=n[Pr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_r(e,Ix)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hu(e,Ix))}removeNode(e,n,r){if(T_(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[Pr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return T_(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,g_,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,hx,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Pr];if(n&&n.setForRemoval){if(e[Pr]=DG,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Ix)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)_r(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Wo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function B_e(t){return new E(3402,!1)}()}_flushAnimations(e,n){const r=new E_,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(j=>{l.add(j);const G=this.driver.query(j,".ng-animate-queued",!0);for(let q=0;q<G.length;q++)l.add(G[q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=SG(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((j,G)=>{const q=dx+m++;p.set(G,q),j.forEach(ve=>_r(ve,q))});const g=[],v=new Set,_=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const G=this.collectedLeaveElements[j],q=G[Pr];q&&q.setForRemoval&&(g.push(G),v.add(G),q.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(ve=>v.add(ve)):_.add(G))}const I=new Map,x=SG(h,Array.from(v));x.forEach((j,G)=>{const q=p_+m++;I.set(G,q),j.forEach(ve=>_r(ve,q))}),e.push(()=>{f.forEach((j,G)=>{const q=p.get(G);j.forEach(ve=>hu(ve,q))}),x.forEach((j,G)=>{const q=I.get(G);j.forEach(ve=>hu(ve,q))}),g.forEach(j=>{this.processLeaveNode(j)})});const B=[],z=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(n).forEach(q=>{const ve=q.player,Lt=q.element;if(B.push(ve),this.collectedEnterElements.length){const dn=Lt[Pr];if(dn&&dn.setForMove){if(dn.previousTriggersValues&&dn.previousTriggersValues.has(q.triggerName)){const la=dn.previousTriggersValues.get(q.triggerName),yr=this.statesByElement.get(q.element);if(yr&&yr.has(q.triggerName)){const x_=yr.get(q.triggerName);x_.value=la,yr.set(q.triggerName,x_)}}return void ve.destroy()}}const pi=!d||!this.driver.containsElement(d,Lt),nr=I.get(Lt),Qo=p.get(Lt),Je=this._buildInstruction(q,r,Qo,nr,pi);if(Je.errors&&Je.errors.length)return void z.push(Je);if(pi)return ve.onStart(()=>aa(Lt,Je.fromStyles)),ve.onDestroy(()=>fi(Lt,Je.toStyles)),void i.push(ve);if(q.isFallbackTransition)return ve.onStart(()=>aa(Lt,Je.fromStyles)),ve.onDestroy(()=>fi(Lt,Je.toStyles)),void i.push(ve);const VG=[];Je.timelines.forEach(dn=>{dn.stretchStartingKeyframe=!0,this.disabledNodes.has(dn.element)||VG.push(dn)}),Je.timelines=VG,r.append(Lt,Je.timelines),s.push({instruction:Je,player:ve,element:Lt}),Je.queriedElements.forEach(dn=>Jn(a,dn,[]).push(ve)),Je.preStyleProps.forEach((dn,la)=>{if(dn.size){let yr=c.get(la);yr||c.set(la,yr=new Set),dn.forEach((x_,xx)=>yr.add(xx))}}),Je.postStyleProps.forEach((dn,la)=>{let yr=u.get(la);yr||u.set(la,yr=new Set),dn.forEach((x_,xx)=>yr.add(xx))})});if(z.length){const j=[];z.forEach(G=>{j.push(function U_e(t,e){return new E(3505,!1)}())}),B.forEach(G=>G.destroy()),this.reportError(j)}const oe=new Map,je=new Map;s.forEach(j=>{const G=j.element;r.has(G)&&(je.set(G,G),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,oe))}),i.forEach(j=>{const G=j.element;this._getPreviousPlayers(G,!1,j.namespaceId,j.triggerName,null).forEach(ve=>{Jn(oe,G,[]).push(ve),ve.destroy()})});const wt=g.filter(j=>xG(j,c,u)),tr=new Map;CG(tr,this.driver,_,u,Zi).forEach(j=>{xG(j,c,u)&&wt.push(j)});const Ih=new Map;f.forEach((j,G)=>{CG(Ih,this.driver,new Set(j),c,"!")}),wt.forEach(j=>{const G=tr.get(j),q=Ih.get(j);tr.set(j,new Map([...G?.entries()??[],...q?.entries()??[]]))});const ua=[],FG=[],LG={};s.forEach(j=>{const{element:G,player:q,instruction:ve}=j;if(r.has(G)){if(l.has(G))return q.onDestroy(()=>fi(G,ve.toStyles)),q.disabled=!0,q.overrideTotalTime(ve.totalTime),void i.push(q);let Lt=LG;if(je.size>1){let nr=G;const Qo=[];for(;nr=nr.parentNode;){const Je=je.get(nr);if(Je){Lt=Je;break}Qo.push(nr)}Qo.forEach(Je=>je.set(Je,Lt))}const pi=this._buildAnimation(q.namespaceId,ve,oe,o,Ih,tr);if(q.setRealPlayer(pi),Lt===LG)ua.push(q);else{const nr=this.playersByElement.get(Lt);nr&&nr.length&&(q.parentPlayer=Wo(nr)),i.push(q)}}else aa(G,ve.fromStyles),q.onDestroy(()=>fi(G,ve.toStyles)),FG.push(q),l.has(G)&&i.push(q)}),FG.forEach(j=>{const G=o.get(j.element);if(G&&G.length){const q=Wo(G);j.setRealPlayer(q)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<g.length;j++){const G=g[j],q=G[Pr];if(hu(G,p_),q&&q.hasAnimation)continue;let ve=[];if(a.size){let pi=a.get(G);pi&&pi.length&&ve.push(...pi);let nr=this.driver.query(G,hx,!0);for(let Qo=0;Qo<nr.length;Qo++){let Je=a.get(nr[Qo]);Je&&Je.length&&ve.push(...Je)}}const Lt=ve.filter(pi=>!pi.destroyed);Lt.length?Bye(this,G,Lt):this.processLeaveNode(G)}return g.length=0,ua.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const G=this.players.indexOf(j);this.players.splice(G,1)}),j.play()}),ua}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Eh;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){const o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const c of n.timelines){const u=c.element,l=u!==o,d=Jn(r,u,[]);this._getPreviousPlayers(u,l,s,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}aa(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){const a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const m=p.element;l.add(m);const g=m[Pr];if(g&&g.removedBeforeQueried)return new yh(p.duration,p.delay);const v=m!==c,_=function Uye(t){const e=[];return AG(t,e),e}((r.get(m)||Nye).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===m),I=o.get(m),x=s.get(m),B=iG(this._normalizer,p.keyframes,I,x),z=this._buildPlayer(p,B,_);if(p.subTimeline&&i&&d.add(m),v){const oe=new Cx(e,a,m);oe.setRealPlayer(z),u.push(oe)}return z});u.forEach(p=>{Jn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Fye(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>_r(p,dG));const f=Wo(h);return f.onDestroy(()=>{l.forEach(p=>hu(p,dG)),fi(c,n.toStyles)}),d.forEach(p=>{Jn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new yh(e.duration,e.delay)}}class Cx{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new yh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>sx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Jn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function T_(t){return t&&1===t.nodeType}function TG(t,e){const n=t.style.display;return t.style.display=e??"none",n}function CG(t,e,n,r,i){const o=[];n.forEach(c=>o.push(TG(c)));const s=[];r.forEach((c,u)=>{const l=new Map;c.forEach(d=>{const h=e.computeStyle(u,d,i);l.set(d,h),(!h||0==h.length)&&(u[Pr]=Rye,s.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>TG(c,o[a++])),s}function SG(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const u=a.parentNode;return c=n.has(u)?u:i.has(u)?1:s(u),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&n.get(c).push(a)}),n}function _r(t,e){t.classList?.add(e)}function hu(t,e){t.classList?.remove(e)}function Bye(t,e,n){Wo(n).onDone(()=>t.processLeaveNode(e))}function AG(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof nG?AG(r.players,e):e.push(r)}}function xG(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}class C_{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Pye(e,n,r),this._timelineEngine=new Sye(e,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],l=gx(this._driver,o,c,[]);if(c.length)throw function x_e(t,e){return new E(3404,!1)}();a=function Iye(t,e,n){return new Dye(t,e,n)}(i,l,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[o,s]=oG(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=oG(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Hye=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fi(this._element,this._initialStyles),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(aa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(aa(this._element,this._endStyles),this._endStyles=null),fi(this._element,this._initialStyles),this._state=3)}}return t})();function Sx(t){let e=null;return t.forEach((n,r)=>{(function zye(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class MG{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:mG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Gye{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return aG(e,n)}getParentElement(e){return ux(e)}query(e,n,r){return cG(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const u=new Map,l=s.filter(f=>f instanceof MG);(function X_e(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,m)=>u.set(m,p))});let d=function Q_e(t){return t.length?t[0]instanceof Map?t:t.map(e=>hG(e)):[]}(n).map(f=>Ko(f));d=function J_e(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,mG(t,a)))}}return e}(e,d,u);const h=function $ye(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Sx(e[0]),e.length>1&&(r=Sx(e[e.length-1]))):e instanceof Map&&(n=Sx(e)),n||r?new Hye(t,n,r):null}(e,d);return new MG(e,d,c,h)}}let qye=(()=>{class t extends Jz{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:sr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?eG(n):n;return kG(this._renderer,null,r,"register",[i]),new Wye(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(P(qu),P(Gt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class Wye extends a_e{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Kye(this._id,e,n||{},this._renderer)}}class Kye{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return kG(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kG(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const NG="@.disabled";let Qye=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(n,r){const o=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(o);return l||(l=new RG("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,l)),l}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const c=l=>{Array.isArray(l)?l.forEach(c):this.engine.registerTrigger(s,a,n,l.name,l)};return r.data.animation.forEach(c),new Yye(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(P(qu),P(C_),P(Ee))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class RG{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==NG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Yye extends RG{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==NG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Zye(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Xye(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let Jye=(()=>{class t extends C_{constructor(n,r,i,o){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(P(Gt),P(lx),P(wx),P(ds))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const OG=[{provide:Jz,useClass:qye},{provide:wx,useFactory:function eve(){return new vye}},{provide:C_,useClass:Jye},{provide:qu,useFactory:function tve(t,e,n){return new Qye(t,e,n)},deps:[ow,C_,Ee]}],Ax=[{provide:lx,useFactory:()=>new Gye},{provide:Mk,useValue:"BrowserAnimations"},...OG],PG=[{provide:lx,useClass:uG},{provide:Mk,useValue:"NoopAnimations"},...OG];let nve=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?PG:Ax}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t});static#n=this.\u0275inj=It({providers:Ax,imports:[kF]})}return t})(),rve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xt({type:t,bootstrap:[$te]});static#n=this.\u0275inj=It({imports:[kF,Vne,Bne,vge,s_e,jae(()=>$ae(bge_firebase)),age(()=>hge()),nve]})}return t})();tJ().bootstrapModule(rve).catch(t=>console.error(t))}},Ne=>{Ne(Ne.s=870)}]);